{"version":3,"sources":["../../LabVIEW/Html.Controls.Design/Web/Elements/ni-web-application.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-virtual-instrument.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-visual-component.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-visual.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-button.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-text-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-pointer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-linear-numeric-pointer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-radial-numeric-pointer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-slider.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-tank.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-gauge.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-progress-bar.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-linear-progress-bar.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-graph-base.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-graph.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-chart.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-intensity-graph.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-axis.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-plot.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-plot-renderer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-string-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-time-stamp-text-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-content-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-switch.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-led.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-check-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-hyperlink.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-text.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-label.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-path-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-url-image.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-image.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-drop-down.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-list-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cluster.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-array-viewer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-data-grid.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-data-grid-column.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-io-name-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-plot-legend.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-plot-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-plot-legend-item-display.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor-legend.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor-legend-item-display.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-scale-legend.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-scale-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-graph-tools.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-opaque-refnum.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-tab-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-tab-item.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-layout-panel.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-color-scale.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-value-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-enum-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-ring-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-radio-button-group.js"],"names":["NationalInstruments","HtmlVI","Elements","WebApplication","ServiceStateEnum","Object","freeze","UNINITIALIZED","READY","ERROR","PanelEngineEnum","NATIVE","VIREO","PanelLocationEnum","IDE_EDIT","IDE_RUN","BROWSER","child","parent","$","Globals","jQuery","NI_SUPPORT","NISupport","inheritFromParent","proto","prototype","SERVICE_STATE_ENUM","createWebAppFrontend","uiControls","document","createElement","classList","add","startButton","textContent","type","abortButton","appendChild","enableButtons","enableStart","enableAbort","remove","updateUIButtons","frontEndElements","serviceState","updateConnectingDialog","unblockUI","blockUI","message","ignoreIfBlocked","css","border","padding","backgroundColor","-webkit-border-radius","-moz-border-radius","opacity","color","cursor","addAllProperties","targetPrototype","call","this","addProperty","propertyName","defaultValue","fireEvent","createdCallback","_enableConnectionDialog","_frontEndElements","undefined","attachedCallback","firstCall","that","webApplicationModelsService","register","disableAutoStart","engine","location","addEventListener","contains","start","stop","propertyUpdated","detachedCallback","unregister","dispatchEvent","CustomEvent","bubbles","cancelable","detail","element","defineElementInfo","NIElement","VirtualInstrument","viReferenceService","registerVIElement","unregisterVIElement","VisualComponent","_latestSize","width","height","_temporaryModelSettingsHolder","getAttribute","setAttribute","e","parseInt","forceResize","size","Visual","setFont","fontSize","fontFamily","fontWeight","fontStyle","style","BooleanControl","unbindMechanicalAction","target","id","niElementInstanceId","toString","UIActivityService","bindMechanicalAction","onPress","clickMode","isMomentary","momentary","errorVerbose","up","evt","value","down","cancelled","addNonSignalingProperty","isElementValueProperty","BooleanButton","widgetSettings","childElement","jqref","toggled","glyphSpan","font-family","font-size","glyph","createTextNode","String","fromCharCode","contentSpan","content","disabled","readOnly","jqxToggleButton","addClass","firstElementChild","childNodes","font-weight","font-style","text","contentVisible","NumericControl","NUM_HELPER","NINumerics","Helpers","stringValue","numberValue","ValueTypes","DOUBLE","jqrefContent","getRange","is64BitInt","valueType","maximum","minimum","max","BigNumber","subtract","NumericTextBox","NUM_VAL_CONVERTER","ValueConverters","NumericValueConverter","NUM_HELPERS","convertFormatToOutputNotation","format","setValue","isComplex","jqxFormattedInput","val","validateNumberValue","validNumberValue","isNaN","isFloat","Math","round","validateStringValue","validStringValue","onControlValueChanged","newValue","_valueChanging","valueOnControl","convertedValue","convert","fontAttr","divElement","textElement","language","window","IsAttached","NIEmbeddedBrowser","navigator","culture","Globalize","numberFormat","decimalSeparator","int64","isSigned64BitInt","spinButtons","outputNotation","radix","convertBack","min","spinButtonsStep","interval","precisionDigits","digits","decimalDigits","significantDigits","spinMode","jqxComplexInput","on","event","args","stopPropagation","find","widgetSetting","isSet","NumericPointer","convertFormatToRadix","LinearNumericPointer","RadialNumericPointer","Slider","ENDPOINTS_ONLY","setupWidget","step","orientation","rangeDivisionsMode","tickMode","niceInterval","tickNumber","tickLabelFormatSettings","tooltipFormatSettings","applyScaleSettings","showButtons","ticksPosition","mode","coercionMode","tooltip","jqxSlider","updateRange","settings","showTicks","scaleVisible","tickSize","majorTicksVisible","showMinorTicks","minorTicksVisible","showTickLabels","labelsVisible","updateScaleVisibility","trigger","removeChild","Tank","MINORTICKS_FOR_ENDPOINTS_ONLY","MAJOR_TICK_SIZE","MINOR_TICK_SIZE","background","visible","animationDuration","jqxLinearGauge","pointerOffset","ticksOffset","ticksMajor","ticksMinor","labels","ticksAndLabelsPosition","position","updateLabelsFontAndFormat","number","pointer","offset","formatSettings","updateDivisionsMode","Gauge","showGradient","distance","ticksDistance","startAngle","endAngle","jqxGauge","ProgressBar","LinearProgressBar","jqxProgressBar","CartesianGraphBase","plotsUpdatesEnabled","graphConfigPending","getSettings","lines","show","lineWidth","canvas","series","shadowSize","downsample","threshold","axisLabels","xaxes","yaxes","zoom","interactive","pan","selection","grid","configureGraph","i","cartesianGraphSettings","plotAreaMargin","margin","JSON","parse","cursors","axes","length","axis","a","getViewConfig","push","c","graphTools","allowsScrollWheelZoom","allowsPan","updateGraphConfig","plotConfig","plots","graphdiv","cartesianGraphData","createData","convertToFlotFormat","setHover","graph","plot","error","log","data","throttlePlotUpdates","throttle","updateGraphConfigWhenPlotsUpdatesAreEnabled","isWaveform","Array","isArray","Y","isWaveformArray","isXYData","keys","every","key","isXYDataArray","is1DComplexArray","is2DComplexArray","DataTypesEnum","niAnalogWaveform","niAnalogWaveformArray","XYData","XYDataArray","oneDimensionNumericArray","twoDimensionsNumericArray","oneDimensionComplexArray","twoDimensionsComplexArray","empty","unknown","inferDataType","waveformToFlotFormat","waveform","toTimeAndValueArray","xyDataToFlotFormat","xydata","result","count","xyDataArrayToFlotFormat","xyDataArray","map","updatePlotName","index","name","label","complexStringToArray","complexString","real","imag","regex","match","b","replace","Error","parseFloat","dataValuesArray2D","j","dataValuesArray","NIAnalogWaveform","channelName","dataSeries","forEach","updateData","setData","setupGrid","draw","plotLegend","cursorLegend","scaleLegend","findGraphItems_early","myChildItems","axisItemName","CartesianPlot","elementInfo","tagName","toUpperCase","plotItemName","CartesianAxis","children","resize","createGraph","uniqueId","className","bind","pos","item","str","hoverFormat","seriesIndex","x","y","html","top","pageY","offsetTop","left","pageX","offsetLeft","fadeIn","hide","graphChildElements","addGraphItemListeners","attachLegends","childElements","splice","notifyPlotLegend","notifyScaleLegend","notifyCursorLegend","registerPlotLegend","originalSource","eventConfig","registerCursorLegend","registerScaleLegend","registerGraphTools","ranges","notifyGraphTools","graphElement","plotLegendItemName","PlotLegend","scaleLegendItemName","ScaleLegend","cursorLegendItemName","CursorLegend","graphToolsItemName","GraphTools","legendElementNames","parentElement","myLegends","indexOf","graphName","niControlId","legend","attachToGraph","arguments","len1","toFixed","len2","toExponential","graphData","graphSettings","isHoverable","hoverable","CartesianGraph","getCursors","cookie","setCursor","onCursorUpdates","cursordata","updateCursorElement","getPlaceholder","Chart","setHistoryBuffer","historyBuffer","getHistoryBuffer","IntensityGraph","h","w","parsedData","dataRange","dataMin","dataMax","sqrt","tempMin","tempMax","buf","autoScaleColor","intensitygraph","colorScaleMin","colorScaleMax","colorScaleLabel","colorScaleShowLabel","gradient","defaultData","markers","autoScale","range","lowColor","highColor","axisLabel","reserveSpace","labelWidth","labelHeight","graphdata","isTimeAxis","toFlotTimeFormat","nullTickFormatter","_parentGraph","sendEventToParentGraph","flotConfig","showLabel","axisPosition","logScale","timeformat","tickFormatter","getFlotAxis","getAxes","filter","options","scaleOnce","datamin","datamax","syncWithFlot","_autoScale","_minimum","_maximum","addPlotItemListeners","plotRenderer","enableHover","CartesianPlotRenderer","_parentPlot","sendEventToParentPlot","toFlotLineStyle","areaFillOpacity","lineStroke","pointColor","areaFill","barFill","fill","zero","dashes","lineStyle","points","radius","pointSize","symbol","pointShape","bars","barWidth","align","Cursor","_cachedFont","getComputedStyle","font","_x","relativeX","_y","relativeY","crosshairStyle","showValuesRelativeToSeries","showValue","cursorColor","snapToPlot","snapToData","targetShape","StringControl","editingContent","attr","newVal","typeToReplace","focus","select","acceptsReturn","keyCode","blur","TimeStampTextBox","serialisedTSToJsDate","NITimestamp","toDate","formatLanguage","calendar","patterns","d","T","formatString","showCalendarButton","popupEnabled","jqxDateTimeInput","date","BooleanContentControl","BooleanSwitch","createSliderButton","params","jqRef","jqxSwitchButton","setPowerButtonFontSize","line-height","createPowerButton","powerButton","powerChar","hover","toggleClass","preventDefault","createRoundButton","labelElement","roundOffLabel","roundOnLabel","checkbox","innerText","offLabel","onLabel","checked","createWidgetSettings","trueContent","falseContent","createAndAddChildElement","shape","BooleanLED","updateContent","updateColors","background-color","highlight","border-color","CheckBox","animationShowDelay","animationHideDelay","innerHTML","jqxCheckBox","removeClass","lastElementChild","Hyperlink","href","firstChild","nodeValue","Text","divTag","Label","labelTag","PathSelector","PathTypeEnum","ABSOLUTE","RELATIVE","enablePopup","pathToObject","objectToPath","filterEmptyString","PATH_TYPE_ENUM","enable","_popoverTag","jqxPopover","selector","animationOpenDelay","animationCloseDelay","pathString","components","split","pathObject","join","stringify","setPath","pathValue","isNotAPath","path","setNotAPath","popover","button","pathFormat","accept","jqxPathControl","i18n","jqxButton","template","UrlImage","StretchEnum","NONE","UNIFORM","UNIFORM_TO_FILL","FILL","STRETCH_ENUM","createImage","urlImageElement","source","backgroundImage","stretch","title","alternate","Image","imageElement","Selector","DropDown","selectedIndex","autoDropDownHeight","jqxDropDownList","animationType","ListBox","SELECTION_MODE_ENUM","NIListBox","SelectionModeEnum","getJqxListBoxSelectedIndices","items","jqxListBox","obj","setJqxListBoxSelectedIndices","indices","selectedIndicesMatch","elementSelectedIndices","jqxIndices","sort","parsedIndices","ONE","updateSelectionMode","multiple","selectionMode","coerceSelection","firstSelectedIndex","coercedSelectedIndices","src","firstValidIndexArray","newSelection","revertSelection","ZERO_OR_ONE","ONE_OR_MORE","Cluster","NI_VAL_CONVERTER","ElementValueConverter","preventAttributeSync","makeValueObj","valueObj","valuePropertyDescriptor","dataLabel","getValue","childChanged","srcElement","_childValueChanging","addPropertyToValue","valueNonSignaling","removePropertyFromValue","changePropertyNameInValue","oldName","newName","temp","_mutationObserver","_mutationLabelObserver","callChildChanged","MutationObserver","mutations","m","addedNodes","applyLabel","removedNodes","removed","eventName","removeEventListener","textMutationObserver","disconnect","observe","childList","attributes","subtree","updateChildValues","descriptor","updateLabel","attributeName","oldValue","controlId","labelId","dataEventListenerAdded","ConvertBack","Convert","ArrayViewer","CSS_PROPERTIES","getCssSelectorForNIVisual","isInArrayTemplate","isLastElement","n","curNode","getFullCssSelectorForNIVisual","arrayViewer","targetElement","targetAndDescendants","pop","concat","arrayElementSizeChanged","elementSize","controls","niControl","cssWidth","cssHeight","_elementWidth","_elementHeight","nodeCss","templateControl","jqxArray","querySelectorAll","setArrayValue","_settingArrayValue","arrayValue","_userUpdate","getArrayValue","mutationObserver","attributeMutationObserver","defineProperty","configurable","enumerable","get","set","rows","columns","_useAttributeMutationObserver","_nodeLabelMap","clearArrayType","wasInitialized","dimensions","indexerWidth","indexEditorWidth","showIndexDisplay","indexVisibility","node","parseRowsAndColumns","createArray","requestAnimationFrame","updateFromTemplate","control","updatePosition","_preventModelCreation","display","updateLabelIds","copyNIElement","newNode","cloneNode","_niTemplateId","childNode","updateTemplateCss","templateDescendant","curNodeCss","recreateCells","fullRefresh","r","cell","recreateCell","cellSelector","hasChildNodes","lastChild","_focusedColumn","_focusedRow","updateFocusedCell","setDefaultValue","modelValue","nonSignalingPropertyName","propertyNameNonSignaling","elementWidth","elementHeight","elementTemplate","div","originalEvent","supressChange","changeProperty","property","widgets","getElementValue","setElementValue","showHorizontalScrollbar","horizontalScrollbarVisibility","showVerticalScrollbar","verticalScrollbarVisibility","customWidgetDefaultValue","updateRowsAndColumns","curCell","matches","templateMatch","focusedCell","querySelector","_niFocusedCloneId","slice","rowsAndColumns","oldRows","oldColumns","DataGrid","DEFAULT_ROW_HEIGHT","ID_DATAFIELD","STRING_TEMPLATE_TYPE","NUMERIC_TEMPLATE_TYPE","CHECKBOX_TEMPLATE_TYPE","LED_TEMPLATE_TYPE","SLIDER_TEMPLATE_TYPE","PROGRESSBAR_TEMPLATE_TYPE","DROPDOWN_TEMPLATE_TYPE","JQX_MATH","jqx","math","getFalseValue","getElementHeight","elementSelector","visibility","offsetHeight","getAltRowSettings","altstart","floor","altstep","initJqxColumnWidget","dataGrid","row","column","cellElement","rowindex","visibleindex","datafield","niElement","_dataGridRow","_dataGridColumn","columnTypeHelpers","nodeName","setWidgetValue","createJqxColumnWidget","columnIndex","niColumn","templateType","columnTypeHelper","fontStyles","clearExtensionProperties","configureWidget","coercedRowHeight","initCustomColumnType","jqxColumn","columntype","createwidget","initwidget","cellbeginedit","getAggregateStringValue","aggregate","getDecimalNotation","Number","toPrecision","aggregatesRenderer","aggregates","jqxAggregates","first","alignment","horizontalAlignment","renderstring","each","addTemplateControlMutationObserver","observer","observerConfig","columnDataField","changedAttributes","templateControlAttributeChanged","mutation","attrName","_niColumnTemplateControlObserver","removeTemplateControlMutationObserver","columnObserver","templateControlAttributeChangedNIElement","matchedControls","templateAttributeValues","hasOwnProperty","hasAttribute","removeAttribute","addNumericValueChangedListener","widgetElement","templateControlValueChanged","keyDownStopPropagation","triggerResizeForWidget","initializeColumn","textNonSignaling","getDefaultValue","templateElement","valueTypeAttr","minDimension","newSize","selectedIndexNonSignaling","appendAddRowsToolbar","innerDiv","rowCountInput","append","addRowsLabel","addButton","outerDiv","showAddRowsToolBar","addRowsToolbarRef","jqxNumberInput","inputMode","addRowsButtonLabel","addEmptyRows","selectedColumnDataField","sortedColumnIndices","parsedValue","jqxValue","columnObservers","pageSize","showAggregates","maxAggregateCountPerColumn","_coercedValueUpdate","getDefaultColumns","cellsalign","hidden","rowHeaderVisible","pinned","some","col","curValue","fieldName","updateJqxColumnConfig","newColumn","aggregateCount","sortedIndices","columnsValid","parsedAggregates","header","aggregatesrenderer","_niColumnDefaultValue","jqxColumnConfig","jqxRow","oldLength","updateStatusBar","updatePageSize","jqxGrid","updateJqxValueFromParsedValue","curRow","initializeColumnsAndData","dataSource","datatype","localdata","dataAdapter","altRowSettings","altRowStart","altRowStep","editable","showemptyrow","selectionmode","showheader","columnHeaderVisible","columnsresize","enablehover","showsortmenuitems","sortable","allowSorting","filterable","allowFiltering","showfilterrow","pageable","allowPaging","groupable","allowGrouping","altrows","altRowColors","offsetWidth","columnsheight","rowsheight","setSelectedColumn","newSelectedDataField","columnToSelect","isInEditMode","selectedColumn","refreshSelectedColumn","leftIndex","cellclassname","updateCoercedRowHeight","rowHeight","childColumns","findInitialColumns","addColumnListeners","updatePagingSettings","origMouseEvent","handledClickEvent","dataField","newWidth","newwidth","newHeight","columnHelper","updateDataGridConfig","refresh","changedColumn","DataGridColumn","refreshDataSource","oldDataLength","columnItemName","sortColumns","initialColumns","_niColumnObserver","propName","statusBarHeight","toggle","statusbarheight","showstatusbar","showaggregates","updatePageSizeTimer","clearTimeout","setTimeout","numRows","horizScrollBar","pagesize","pagesizeoptions","pagerRef","bottom","outerHeight","_parentDataGrid","sendEventToParentDataGrid","IONameControl","sourceArray","selectedValue","newSource","LegendHelpers","helpers","legendItemDisplay","addButtons","menuItem","btn","current","cssClass","handleClick","updateShape","state","getState","addComboBox","iconWidth","init","dropDownHeight","tag","substring","itemState","getTextElementByColor","hex","nThreshold","bgDelta","g","foreColor","addColorBox","dropList","colorbox","jqxColorPicker","colorMode","jqxDropDownButton","charAt","addCheckBox","tbl","nPlots","currentExpander","PlotLegendHelpers","plotLegendItemDisplay","PlotLegendItemDisplay","uihelpers","plotAdded","createRow","addRenderer","plotRemoved","removeRow","clearRenderer","createRows","enableThrottling","overflowX","overflowY","plotToIndex","getPlotName","rendererToIndex","tr","exp","plotName","p","span","createHeaderDisplay","jqxExpander","expanded","expandAnimationDuration","collapseAnimationDuration","initContent","loadContent","expander","applyFont","titles","td1","td2","menu","jqrefItemTitle","jqrefItemContentTitle","defaultPlotColors","renderers","getPlot","localName","getRenderer","renderer","currentRenderer","itemName","arg","initialColor","getPlotColorFromRenderer","getPlotColor","getLineWidth","getLineShape","lineShape","getPointShape","pointTypes","creator","createEllipseShape","createRectangleShape","createDiamondShape","createCrossShape","createPlusShape","shapes","svgns","svg","createElementNS","setAttributeNS","createLine","getComputedColor","line","createPoints","createFillArea","createBars","bar","pointShapes","group","center","colorWithAlpha","alpha","currentLineShape","currentColor","setPointColor","shapeType","currentPointShape","updatePointColor","table","nCursors","selectedRow","deleteButton","centerButton","currentRow","currentBtn","CursorLegendHelpers","cursorLegendItemDisplay","CursorLegendItemDisplay","cursorAdded","cursorPositionChanged","xEl","getElementById","yEl","cursorRemoved","cursorToIndex","eq","clearShape","cursorChanged","updateName","updateVisible","buttonsRow","centerCursor","addCursor","del","deleteCursor","imageRenderer","createMainRow","createDetailsRow","getRowIndex","rowIndex","td0","td3","td4","showHideButton","createDetailsItem","subtable","td","colSpan","getMenuItem","jqrefItemName","jqrefItemX","jqrefItemY","jqrefItemDetails","defaultCursorName","nextCursorName","getCursor","changed","maxIndex","getTargetShape","getCrosshair","addShapes","makeShape","makeLine","rect","circle","getColorString","x1","y1","x2","y2","colorIndex","partIndex","crosshair","nScales","ScaleLegendHelpers","scaleAdded","addScale","scaleRemoved","scale","toRemove","clearScale","scaleToIndex","lockButtons","setLockBackground","btnLock","btnScaleOnce","scaleName","prop","scales","getScale","currentScale","ModeEnum","LOCKED","PAN","ZOOM","MODE_ENUM","navigationStates","getXAxes","_","opts","xaxis","from","to","getYAxes","yaxis","clearSelection","setNavButtonsState","locked","navNone","btnPan","btnZoom","setMode","states","apply","btnZoomOut","OpaqueRefnum","TabControl","_validTabHeadersLength","findNonUpgradedChildTabItems","myChildTabItems","tabItemName","TabItem","createHeaderContainer","tabItemToIgnore","container","tabHeaders","tabFrames","currHeader","validTabHeadersLength","headers","tabPosition","infoVerbose","getHeaderContainer","attachHeaderContainer","oldContainer","tabStripPlacement","toLowerCase","insertBefore","jqxRibbon","applySelectedIndex","addTabItemListeners","initialTabItemsToWaitFor","newTitle","_parentTabControl","sendEventToParentTabControl","LayoutPanel","ColorScale","NumericValueSelector","UINT32","compareIndexValue","value1","value2","itemsCache","updateItemsArray","itemsArray","pushItem","newItem","cacheDirty","writeThrough","getSourceAndSelectedIndexFromSource","allowCreateNewSelectedItem","numericIndex","displayValue","selectChangedHandler","selectValue","propertyUpdatedHelper","EnumSelector","dropDownChildElement","RingSelector","jqrefNumeric","dropDownContainer","numericInput","numericWidgetSettings","allowUndefined","RadioButtonGroup","Orientation","horizontal","vertical","radioButtonClassName","thisClass","getWidgetSettings","radioButtonGroupElement","setRadioButtons","buttonCnt","setOrientation","setChildrenButtonFont","fontObject","createCheckedHandler","tempSettings","groupId","radioButtonElement","groupName","jqxRadioButton"],"mappings":"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","file":"niElements.min.js.map","sourcesContent":["//****************************************\r\n// Web Application Prototype\r\n// DOM Registration: HTMLNIWebApplication\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.WebApplication = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum = Object.freeze({\r\n    UNINITIALIZED: 'UNINITIALIZED',\r\n    READY: 'READY',\r\n    ERROR: 'ERROR'\r\n});\r\n\r\n// Keep in sync with serializer in DOMModel.cs\r\nNationalInstruments.HtmlVI.Elements.WebApplication.PanelEngineEnum = Object.freeze({\r\n    NATIVE: 'NATIVE',\r\n    VIREO: 'VIREO'\r\n});\r\n\r\n// Keep in sync with serializer in DOMModel.cs\r\nNationalInstruments.HtmlVI.Elements.WebApplication.PanelLocationEnum = Object.freeze({\r\n    IDE_EDIT: 'IDE_EDIT',\r\n    IDE_RUN: 'IDE_RUN',\r\n    BROWSER: 'BROWSER'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum;\r\n\r\n    // Static Private Functions\r\n    var createWebAppFrontend = function () {\r\n        //<div class=\"ni-execution-buttons-box disabled\">\r\n        //    <button class=\"ni-execution-button ni-start-button disabled hidden\" type=\"button\">Start</button>\r\n        //    <button class=\"ni-execution-button ni-abort-button disabled hidden\" type=\"button\">Abort</button>\r\n        //</div>\r\n        var uiControls = document.createElement('div');\r\n        uiControls.classList.add('ni-execution-buttons-box');\r\n\r\n        var startButton = document.createElement('button');\r\n        startButton.textContent = 'Start';\r\n        startButton.type = 'button';\r\n        startButton.classList.add('ni-execution-button', 'ni-start-button', 'disabled');\r\n\r\n        var abortButton = document.createElement('button');\r\n        abortButton.textContent = 'Abort';\r\n        abortButton.type = 'button';\r\n        abortButton.classList.add('ni-execution-button', 'ni-abort-button', 'disabled');\r\n\r\n        uiControls.appendChild(startButton);\r\n        uiControls.appendChild(abortButton);\r\n\r\n        var enableButtons = function (enableStart, enableAbort) {\r\n            if (enableStart) {\r\n                startButton.classList.remove('disabled');\r\n            } else {\r\n                startButton.classList.add('disabled');\r\n            }\r\n\r\n            if (enableAbort) {\r\n                abortButton.classList.remove('disabled');\r\n            } else {\r\n                abortButton.classList.add('disabled');\r\n            }\r\n        };\r\n\r\n        return {\r\n            uiControls: uiControls,\r\n            startButton: startButton,\r\n            abortButton: abortButton,\r\n            enableButtons: enableButtons\r\n        };\r\n    };\r\n\r\n    var updateUIButtons = function (frontEndElements, serviceState) {\r\n        if (serviceState === 'READY') {\r\n            frontEndElements.enableButtons(true, false);\r\n        } else if (serviceState === 'RUNNING' || serviceState === 'CONNECTING' || serviceState === 'CONNECTED' || serviceState === 'LISTENING') {\r\n            frontEndElements.enableButtons(false, true);\r\n        } else {\r\n            frontEndElements.enableButtons(false, false);\r\n        }\r\n    };\r\n\r\n    var updateConnectingDialog = function (serviceState) {\r\n        if (serviceState === 'CONNECTED') {\r\n            $.unblockUI();\r\n        } else {\r\n            $.blockUI({\r\n                message: 'CONNECTING',\r\n                ignoreIfBlocked: true,\r\n                css: {\r\n                    border: 'none',\r\n                    padding: '15px',\r\n                    backgroundColor: '#000',\r\n                    '-webkit-border-radius': '10px',\r\n                    '-moz-border-radius': '10px',\r\n                    opacity: 0.5,\r\n                    color: '#fff',\r\n                    cursor: 'wait'\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'engine',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'location',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'vireoSource',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'remoteAddress',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'testMode',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'disableAutoStart',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'serviceState',\r\n            defaultValue: SERVICE_STATE_ENUM.UNINITIALIZED,\r\n            fireEvent: true\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._enableConnectionDialog = false;\r\n        this._frontEndElements = undefined;\r\n\r\n        // If the DOM had a different value, override it\r\n        this.serviceState = SERVICE_STATE_ENUM.UNINITIALIZED;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var frontEndElements,\r\n            that = this;\r\n\r\n        NationalInstruments.HtmlVI.webApplicationModelsService.register(that);\r\n\r\n        if (firstCall === true) {\r\n\r\n            if (that.disableAutoStart === false && that.engine === 'NATIVE' && that.location === 'BROWSER') {\r\n                that._enableConnectionDialog = true;\r\n                updateConnectingDialog(that.serviceState);\r\n            }\r\n\r\n            if (that.disableAutoStart === true) {\r\n                frontEndElements = createWebAppFrontend();\r\n\r\n                frontEndElements.startButton.addEventListener('click', function () {\r\n                    if (frontEndElements.startButton.classList.contains('disabled') === false) {\r\n                        that.start();\r\n                    }\r\n                });\r\n\r\n                frontEndElements.abortButton.addEventListener('click', function () {\r\n                    if (frontEndElements.abortButton.classList.contains('disabled') === false) {\r\n                        that.stop();\r\n                    }\r\n                });\r\n\r\n                that._frontEndElements = frontEndElements;\r\n                updateUIButtons(that._frontEndElements, that.serviceState);\r\n                that.appendChild(frontEndElements.uiControls);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'serviceState':\r\n                if (this._enableConnectionDialog === true) {\r\n                    updateConnectingDialog(this.serviceState);\r\n                }\r\n\r\n                if (this.disableAutoStart === true) {\r\n                    updateUIButtons(this._frontEndElements, this.serviceState);\r\n                }\r\n\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        NationalInstruments.HtmlVI.webApplicationModelsService.unregister(this);\r\n    };\r\n\r\n    proto.start = function () {\r\n        this.dispatchEvent(new CustomEvent('requested-start', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            detail: {\r\n                element: this\r\n            }\r\n        }));\r\n    };\r\n\r\n    proto.stop = function () {\r\n        this.dispatchEvent(new CustomEvent('requested-stop', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            detail: {\r\n                element: this\r\n            }\r\n        }));\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-web-application', 'HTMLNIWebApplication');\r\n}(NationalInstruments.HtmlVI.Elements.WebApplication, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Virtual Instrument Prototype\r\n// DOM Registration: HTMLNIVirtualInstrument\r\n// National Instruments Copyright 2014\r\n//****************************************\r\nNationalInstruments.HtmlVI.Elements.VirtualInstrument = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'viName',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'viRef',\r\n            defaultValue: ''\r\n        });\r\n\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        NationalInstruments.HtmlVI.viReferenceService.registerVIElement(this);\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        NationalInstruments.HtmlVI.viReferenceService.unregisterVIElement(this);\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-virtual-instrument', 'HTMLNIVirtualInstrument');\r\n}(NationalInstruments.HtmlVI.Elements.VirtualInstrument, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Visual Component Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\n// For custom elements the constructor function is never invoked but is instead used for the prototype chain. See the createdCallback for perfoming actions on a new instance.\r\nNationalInstruments.HtmlVI.Elements.VisualComponent = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// Common use case is publically shared constant enums, ex:\r\n// NationalInstruments.HtmlVI.Elements.VisualComponent.MyValueEnum = Object.freeze({\r\n//     VALUE_1: 'VALUE_1',\r\n//     VALUE_2: 'VALUE_2',\r\n//     VALUE_3: 'VALUE_3',\r\n// });\r\n\r\n// Static Public Functions\r\n// Use case can be publically shared helper functions, ex:\r\n// NationalInstruments.HtmlVI.Elements.VisualComponent.MY_PUBLIC_HELPER_FUNCTION = function () {\r\n//     'use strict';\r\n//     return 42;\r\n// }\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    // Common use case is aliases or enums that are shared across all instances, ex:\r\n    // var MY_VALUE_ENUM = NationalInstruments.HtmlVI.NISupport.MyValueEnum;\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // Common use case is constants or caches that are shared across all instances, ex:\r\n    // var MY_CONSTANT = 3.14;\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n\r\n    // Static Private Functions\r\n    // Common use case is helper functions used privately in the class and cannot be overridden by child classes, ex:\r\n    // var myHelperFunction = function () {\r\n    //     return 42;\r\n    // }\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n\r\n    // Public Prototype Methods\r\n    // Common use case is defining methods that are available to instances via the prototype chain and can be overriden by child classes, ex see the following prototype methods:\r\n    // NOTE: MAY REFERENCE THE 'this' VARIABLE\r\n    // addAllProperties is invoked during registration of the element to add all the properties managed by the ni-element framework. To add properties not managed by the framework see the createdCallback.\r\n    // proto.addAllProperties = function (targetPrototype) {\r\n    //     parent.prototype.addAllProperties.call(this, targetPrototype);\r\n    //\r\n    //     proto.addProperty(targetPrototype, {\r\n    //         propertyName: 'myAwesomeProp',\r\n    //         defaultValue: 'Awesome Default Value',\r\n    //         fireEvent: true,\r\n    //         addNonSignalingProperty: true\r\n    //     });\r\n    // };\r\n\r\n    // createdCallback is called once during the creation of an element. This is a good time to add additional properties to the instance but as the element may or may not be added to the DOM yet, it is probably not a good time to build internal DOM structure. To build internal DOM structure see the attachedCallback.\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // Common use case is adding properties to the custom element js object that are not managed by the framework (no DOM attribute synchronization, no events on change, etc), ex:\r\n        // this.myMagicalValue = MY_VALUE_ENUM.VALUE_1;\r\n\r\n        // Private Instance Properties\r\n        // Common use case is having private per instance data. Unfortunately JavaScript cannot actually represent this type of data; the best we can do is use a convention on a public instance property, like this._myPrivateData, or instead make a static private variable table that can be indexed by a unique value given to each instance (WeakMaps would be very helpful for this in modern browsers). Ex:\r\n        // this._myNotRuntimeEnforcedSecretMagicalValue = MY_VALUE_ENUM.VALUE_1;\r\n\r\n        // Latest recorded size from resizeEventHack.\r\n        this._latestSize = { width: undefined, height: undefined };\r\n\r\n        // Used by VIModel to temporarily save settings used to initialize element in a private instance property\r\n        this._temporaryModelSettingsHolder = undefined;\r\n\r\n        // The data-ni-base-style attribute is used as a target for applying styles to all ni-visual-component elements. Currently the attribute has two values that are used:\r\n        // [data-ni-base-style] used to style all ni-visual-component elements regardless of initialization status.\r\n        // [data-ni-base-style=\"uninitialized\"] used to style ni-visual-component elements prior to the attached callback firing. This is for creating temporary styles that are on controls for first paint prior to initialization.\r\n        // NOTE: data-ni-base-style should only be used to target either all ni-visual-components or ni-visual-components that are uninitialized. It is not useful for targetting only initialized ni-visual-components, etc.\r\n        // For best user page start-up experience, elements in html should already have the data-ni-base-style attribute set to \"uninitialized\" so styles can be applied before this function runs\r\n\r\n        // Create the data-ni-base-style attribute if it does not exist\r\n        if (this.getAttribute('data-ni-base-style') === null) {\r\n            this.setAttribute('data-ni-base-style', 'uninitialized');\r\n        }\r\n    };\r\n\r\n    // attachedCallback is called every time the element instance has been inserted into the DOM. A good time to create the element's internal DOM is when the firstCall value is true\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            that = this;\r\n\r\n        if (firstCall) {\r\n            // Reset the data-ni-base-style value to empty string so it can be targetted by [data-ni-base-style]\r\n            that.setAttribute('data-ni-base-style', '');\r\n\r\n            that.addEventListener('resizeEventHack', function (e) {\r\n                var width = parseInt(e.detail.width), height = parseInt(e.detail.height);\r\n\r\n                if (that._latestSize.width !== width || that._latestSize.height !== height) {\r\n                    that._latestSize.height = height;\r\n                    that._latestSize.width = width;\r\n                    that.forceResize(that._latestSize);\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    // forceResize is called every time the resizeEventHack fires and width and height are different from the previous values.\r\n    proto.forceResize = function (size) {\r\n        //jshint unused:vars\r\n        // Do nothing.\r\n    };\r\n\r\n    // propertyUpdated is called whenever a property managed by the ni-element framework has been updated, ex:\r\n    // proto.propertyUpdated = function (propertyName) {\r\n    //     parent.prototype.propertyUpdated.call(this, propertyName);\r\n    //\r\n    //     switch (propertyName) {\r\n    //         case 'myAwesomeProp':\r\n    //             NI_SUPPORT.log('Value Changed': + this.myAwesomeProp);\r\n    //             break;\r\n    //         default:\r\n    //             break;\r\n    //     }\r\n    // };\r\n\r\n    // attributeChangedCallback is called when a DOM attribute for the element has changed. Properties managed by the ni-element framework already have automatic attribute synchronization so attributeChangedCallback is very infrequently used, ex:\r\n    // proto.attributeChangedCallback = function (attrName, oldVal, newVal) {\r\n    //     parent.prototype.attributeChangedCallback.call(this, attrName, oldVal, newVal);\r\n    // };\r\n\r\n    // detachedCallback is called AFTER an element has been removed from the DOM (every time the element is removed). It is not frequently used, ex:\r\n    // proto.detachedCallback = function () {\r\n    //     parent.prototype.detachedCallback.call(this);\r\n    // };\r\n    //\r\n\r\n}(NationalInstruments.HtmlVI.Elements.VisualComponent, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Visual Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Visual = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'readOnly',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        this.style.fontSize = fontSize;\r\n        this.style.fontFamily = fontFamily;\r\n        this.style.fontWeight = fontWeight;\r\n        this.style.fontStyle = fontStyle;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.Visual, NationalInstruments.HtmlVI.Elements.VisualComponent));\r\n","//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var unbindMechanicalAction = function (target) {\r\n        var id = target.niElementInstanceId.toString();\r\n        NationalInstruments.HtmlVI.UIActivityService.unregister(id);\r\n    };\r\n\r\n    var bindMechanicalAction = function (target) {\r\n        var onPress = target.clickMode === 'press',\r\n            isMomentary = target.momentary,\r\n            id = target.niElementInstanceId.toString(),\r\n            element = target,\r\n            that = target;\r\n\r\n        if (isMomentary === true && onPress === true) {\r\n            NI_SUPPORT.errorVerbose('Invalid configuration, cannot have momentary true and click mode \"press\", instead using when released configuration');\r\n            isMomentary = false;\r\n            onPress = false;\r\n        }\r\n\r\n        if (isMomentary === false && onPress === false) { //When Released\r\n            NationalInstruments.HtmlVI.UIActivityService.register({\r\n                element: element,\r\n                id: id,\r\n                up: function (evt) {\r\n                    if (element.contains(evt.target)) {\r\n                        that.value = !that.value;\r\n                    }\r\n                }\r\n            });\r\n        } else if (isMomentary === false && onPress === true) { //When Pressed\r\n            NationalInstruments.HtmlVI.UIActivityService.register({\r\n                element: element,\r\n                id: id,\r\n                down: function () {\r\n                    that.value = !that.value;\r\n                }\r\n            });\r\n        } else if (isMomentary === true && onPress === false) { //Until Released\r\n            NationalInstruments.HtmlVI.UIActivityService.register({\r\n                element: element,\r\n                id: id,\r\n                up: function () {\r\n                    that.value = !that.value;\r\n                },\r\n                down: function () {\r\n                    that.value = !that.value;\r\n                },\r\n                cancelled: function () {\r\n                    that.value = !that.value;\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: false,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'contentVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'content',\r\n            defaultValue: 'Button'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'clickMode',\r\n            defaultValue: 'release'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'momentary',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        bindMechanicalAction(this);\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'clickMode':\r\n            bindMechanicalAction(this);\r\n            break;\r\n        case 'momentary':\r\n            bindMechanicalAction(this);\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        unbindMechanicalAction(this);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.BooleanControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Boolean Button Prototype\r\n// DOM Registration: HTMLNIBooleanButton\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanButton = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'glyph',\r\n            defaultValue: 0\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.toggled = this.value;\r\n\r\n            childElement = document.createElement('button');\r\n            childElement.type = 'button';\r\n            var glyphSpan = document.createElement('span');\r\n            $(glyphSpan).css({ 'font-family': 'FontAwesome', 'font-size': $(this).css('font-size') });\r\n            var glyph = document.createTextNode(this.glyph > 0 ? String.fromCharCode(this.glyph) + ' ' : '');\r\n            glyphSpan.appendChild(glyph);\r\n            childElement.appendChild(glyphSpan);\r\n\r\n            var contentSpan = document.createElement('span');\r\n            $(contentSpan).css({ 'font-family': $(this).css('font-family'), 'font-size': $(this).css('font-size') });\r\n            var content = document.createTextNode(this.content);\r\n            contentSpan.appendChild(content);\r\n            childElement.appendChild(contentSpan);\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            widgetSettings.disabled = this.readOnly;\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxToggleButton(widgetSettings);\r\n            jqref.jqxToggleButton('_removeHandlers');\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild;\r\n        var glyphSpan, contentSpan;\r\n        glyphSpan = childElement.childNodes[0];\r\n        contentSpan = childElement.childNodes[1];\r\n\r\n        $(glyphSpan).css('font-size', fontSize);\r\n\r\n        $(contentSpan).css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n        var glyphSpan, contentSpan;\r\n        glyphSpan = childElement.childNodes[0];\r\n        contentSpan = childElement.childNodes[1];\r\n\r\n        switch (propertyName) {\r\n        case 'content':\r\n            $(contentSpan).text(this.content);\r\n            break;\r\n        case 'contentVisible':\r\n            $(contentSpan).text(this.contentVisible ? this.content : '');\r\n            break;\r\n        case 'value':\r\n            jqref.jqxToggleButton({\r\n                toggled: this.value\r\n            });\r\n            break;\r\n        case 'readOnly':\r\n            jqref.jqxToggleButton({ disabled: this.readOnly });\r\n            break;\r\n        case 'glyph':\r\n            $(glyphSpan).text(this.contentVisible && this.glyph > 0 ? String.fromCharCode(this.glyph) + ' ' : '');\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-button', 'HTMLNIBooleanButton');\r\n}(NationalInstruments.HtmlVI.Elements.BooleanButton, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: { stringValue: '0', numberValue: 0 },\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'valueType',\r\n            defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.DOUBLE\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: { stringValue: '0', numberValue: 0 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: { stringValue: '10', numberValue: 10 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'interval',\r\n            defaultValue: { stringValue: '1', numberValue: 1 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'significantDigits',\r\n            defaultValue: 6\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'precisionDigits',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: 'floating point'\r\n        });\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content');\r\n\r\n        jqrefContent.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.getRange = function () {\r\n        if (NUM_HELPER.is64BitInt(this.valueType) === false) {\r\n            return this.maximum.numberValue - this.minimum.numberValue;\r\n        } else {\r\n            var max = new BigNumber(this.maximum.stringValue);\r\n            return max.subtract(new BigNumber(this.minimum.stringValue)).toString();\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n//Numeric TextBox Prototype\r\n// DOM Registration: HTMLNumericTextBox\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericTextBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPERS = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var convertFormatToOutputNotation = function (format) {\r\n        switch (format) {\r\n            case 'floating point':\r\n                return 'default';\r\n            case 'exponential':\r\n                return 'exponential';\r\n            case 'engineering':\r\n                return 'engineering';\r\n            case 'systeminternational':\r\n                break;\r\n        }\r\n\r\n        return 'default';\r\n    };\r\n\r\n    var setValue = function (jqref, value, valueType) {\r\n        if (NUM_HELPERS.isComplex(valueType) === false) {\r\n            jqref.jqxFormattedInput('setValue', value);\r\n        } else {\r\n            jqref.val(value);\r\n        }\r\n    };\r\n\r\n    var validateNumberValue = function (target, numberValue) {\r\n        var validNumberValue = numberValue;\r\n        if (isNaN(numberValue)) {\r\n            // This means that jqref sent a value that is actually not a number.\r\n            // So we revert to previous value.\r\n            validNumberValue = target.value.numberValue;\r\n        }\r\n\r\n        // Finally if it isn't a float, we should round the number.\r\n        if (NUM_HELPERS.isFloat(target.valueType) === false) {\r\n            validNumberValue = Math.round(validNumberValue);\r\n        }\r\n\r\n        return validNumberValue;\r\n    };\r\n\r\n    var validateStringValue = function (target, stringValue) {\r\n        var validStringValue = stringValue;\r\n\r\n        // If it is an integer we should round the value.\r\n        // gleon TODO: We will need jqWidgets to do it for us.\r\n        // Or we can actually use BigNumber.js and do it ourselves.\r\n        //if (NUM_HELPERS.is64BitInt(validStringValue) === true) {\r\n\r\n        //}\r\n\r\n        return validStringValue;\r\n    };\r\n\r\n    var onControlValueChanged = function (target, newValue) {\r\n        if (target._valueChanging === true) {\r\n            return;\r\n        }\r\n\r\n        var jqref = $(target.firstElementChild);\r\n        var convertedValue = NUM_VAL_CONVERTER.convert(newValue, target.valueType, true);\r\n        var valueOnControl;\r\n\r\n        if (convertedValue.numberValue !== undefined) {\r\n            valueOnControl = validateNumberValue(target, convertedValue.numberValue);\r\n            convertedValue.numberValue = valueOnControl;\r\n        } else if (convertedValue.stringValue !== undefined) {\r\n            valueOnControl = validateStringValue(target, convertedValue.stringValue);\r\n            convertedValue.stringValue = valueOnControl;\r\n        }\r\n\r\n        // We want to fix the value displayed on the control, but avoid recursion.\r\n        target._valueChanging = true;\r\n        if (valueOnControl !== undefined) {\r\n            setValue(jqref, valueOnControl, target.valueType);\r\n        }\r\n\r\n        target.value = convertedValue;\r\n        target._valueChanging = false;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n        this._valueChanging = false;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement, fontAttr,\r\n            widgetSettings,\r\n            divElement,\r\n            textElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var language = window.engine !== undefined && window.engine.IsAttached && window.NIEmbeddedBrowser !== undefined ? window.NIEmbeddedBrowser.language : window.navigator.language;\r\n            var culture = Globalize.culture(language);\r\n            if (culture !== undefined) {\r\n                var numberFormat = culture.numberFormat;\r\n                widgetSettings.decimalSeparator = numberFormat['.'];\r\n            }\r\n\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                widgetSettings.int64 = NUM_HELPERS.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPERS.is64BitInt(this.valueType) ? 'u' : false;\r\n            }\r\n\r\n            widgetSettings.readOnly = this.readOnly;\r\n            widgetSettings.spinButtons = !this.readOnly;\r\n            if (this.format === 'floating point' || this.format === 'exponential') {\r\n                widgetSettings.outputNotation = convertFormatToOutputNotation(this.format);\r\n            } else {\r\n                widgetSettings.radix = this.format;\r\n            }\r\n\r\n            widgetSettings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n            widgetSettings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n            widgetSettings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                widgetSettings.spinButtonsStep = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            } else {\r\n                widgetSettings.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            }\r\n\r\n            if (this.precisionDigits > 0) {\r\n                widgetSettings.digits = null;\r\n                widgetSettings.decimalDigits = this.precisionDigits;\r\n            }\r\n\r\n            if (this.significantDigits > 0) {\r\n                widgetSettings.decimalDigits = null;\r\n                widgetSettings.digits = this.significantDigits;\r\n            }\r\n\r\n            widgetSettings.width = '100%';\r\n            widgetSettings.height = '100%';\r\n\r\n            childElement = document.createElement('div');\r\n            this.appendChild(childElement);\r\n            textElement = document.createElement('input');\r\n            textElement.type = 'text';\r\n            childElement.appendChild(textElement);\r\n            if (widgetSettings.spinButtons) {\r\n                divElement = document.createElement('div');\r\n                childElement.appendChild(divElement);\r\n            }\r\n\r\n            jqref = $(childElement);\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                jqref.jqxFormattedInput(widgetSettings);\r\n            } else {\r\n                widgetSettings.spinMode = 'advanced';\r\n                jqref.jqxComplexInput(widgetSettings);\r\n            }\r\n\r\n            fontAttr = $(this).css(['font-size', 'font-weight', 'font-style', 'font-family']);\r\n            $('#' + childElement.id + ' .jqx-widget-content').css(fontAttr);\r\n\r\n            jqref.on('change', function (event) {\r\n                onControlValueChanged(that, event.args.value);\r\n            });\r\n\r\n            jqref.on('resize', function (e) {\r\n                e.stopPropagation();\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-numeric-box');\r\n            jqref.find(' input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-formatted-input-spin-button').addClass('ni-spin-button');\r\n            jqref.find(' .jqx-input').addClass('ni-spins-box');\r\n            jqref.find(' .jqx-icon-arrow-up').addClass('ni-increment-icon');\r\n            jqref.find(' .jqx-icon-arrow-down').addClass('ni-decrement-icon');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = $(this.firstElementChild);\r\n\r\n        if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n            // TODO gleon we should call jqxFormattedInput just once for setting the size of a widget.\r\n            jqref.jqxFormattedInput({ width: size.width });\r\n            jqref.jqxFormattedInput({ height: size.height });\r\n        } else {\r\n            jqref.jqxComplexInput({ width: size.width });\r\n            jqref.jqxComplexInput({ height: size.height });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement),\r\n            widgetSetting = {},\r\n            isSet = false;\r\n\r\n        switch (propertyName) {\r\n            case 'maximum':\r\n                widgetSetting = {\r\n                    max: NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType)\r\n                };\r\n                isSet = true;\r\n                break;\r\n            case 'minimum':\r\n                widgetSetting = {\r\n                    min: NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType)\r\n                };\r\n                isSet = true;\r\n                break;\r\n            case 'interval':\r\n                if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                    jqref.jqxFormattedInput({ spinButtonsStep: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType) });\r\n                } else {\r\n                    jqref.jqxComplexInput({ interval: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType) });\r\n                }\r\n\r\n                break;\r\n            case 'precisionDigits':\r\n                if (this.precisionDigits >= 0) {\r\n                    if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                        jqref.jqxFormattedInput({ decimalDigits: this.precisionDigits });\r\n                        jqref.jqxFormattedInput({ digits: null });\r\n                    } else {\r\n                        jqref.jqxComplexInput({ decimalDigits: this.precisionDigits });\r\n                        jqref.jqxComplexInput({ digits: null });\r\n                    }\r\n                }\r\n\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxFormattedInput({\r\n                    spinButtons: !this.readOnly,\r\n                    readOnly: this.readOnly\r\n                });\r\n                break;\r\n            case 'significantDigits':\r\n                if (this.significantDigits >= 0) {\r\n                    if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                        jqref.jqxFormattedInput({ digits: this.significantDigits });\r\n                        jqref.jqxFormattedInput({ decimalDigits: null });\r\n                    } else {\r\n                        jqref.jqxComplexInput({ digits: this.significantDigits });\r\n                        jqref.jqxComplexInput({ decimalDigits: null });\r\n                    }\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n                if (this.format === 'floating point' || this.format === 'exponential') {\r\n                    widgetSetting.outputNotation = convertFormatToOutputNotation(this.format);\r\n                } else {\r\n                    widgetSetting.radix = this.format;\r\n                }\r\n\r\n                isSet = true;\r\n                break;\r\n            case 'value':\r\n                if (this._valueChanging === false) {\r\n                    var value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n                    setValue(jqref, value, this.valueType);\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (isSet === true) {\r\n            if (NUM_HELPERS.isComplex(this.valueType) === false) {\r\n                jqref.jqxFormattedInput(widgetSetting);\r\n            } else {\r\n                jqref.jqxComplexInput(widgetSetting);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-numeric-text-box', 'HTMLNINumericTextBox');\r\n}(NationalInstruments.HtmlVI.Elements.NumericTextBox, NationalInstruments.HtmlVI.Elements.NumericControl));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'scaleVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'majorTicksVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minorTicksVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'labelsVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'coercionMode',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rangeDivisionsMode',\r\n            defaultValue: 'auto'\r\n        });\r\n    };\r\n\r\n    proto.convertFormatToRadix = function (format) {\r\n        switch (format) {\r\n            case 'hexadecimal':\r\n                return 16;\r\n            case 'octal':\r\n                return 8;\r\n            case 'binary':\r\n                return 2;\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericPointer, NationalInstruments.HtmlVI.Elements.NumericControl));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LinearNumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.LinearNumericPointer, NationalInstruments.HtmlVI.Elements.NumericPointer));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.RadialNumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'startAngle',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'endAngle',\r\n            defaultValue: 180\r\n        });\r\n\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.RadialNumericPointer, NationalInstruments.HtmlVI.Elements.NumericPointer));\r\n","//****************************************\r\n// Numeric Slider\r\n// DOM Registration: HTMLSlider\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Slider = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n\r\n    // Static Private Functions\r\n    var setupWidget = function (target) {\r\n        var widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = target;\r\n\r\n        widgetSettings = {};\r\n        widgetSettings.width = '100%';\r\n        widgetSettings.height = '100%';\r\n\r\n        widgetSettings.int64 = NUM_HELPER.isSigned64BitInt(that.valueType) ? 's' : NUM_HELPER.is64BitInt(that.valueType) ? 'u' : false;\r\n        widgetSettings.step = NUM_VAL_CONVERTER.convertBack(that.interval, that.valueType);\r\n        widgetSettings.orientation = that.orientation;\r\n        var max = NUM_VAL_CONVERTER.convertBack(that.maximum, that.valueType);\r\n        var min = NUM_VAL_CONVERTER.convertBack(that.minimum, that.valueType);\r\n\r\n        widgetSettings.min = min;\r\n        widgetSettings.max = max;\r\n        if (that.rangeDivisionsMode === 'auto') {\r\n            widgetSettings.tickMode = 'default';\r\n            widgetSettings.niceInterval = true;\r\n        } else {\r\n            widgetSettings.tickMode = 'tickNumber';\r\n            widgetSettings.niceInterval = false;\r\n            widgetSettings.tickNumber = ENDPOINTS_ONLY;\r\n        }\r\n\r\n        widgetSettings.padding = 1;\r\n        widgetSettings.tickLabelFormatSettings = {\r\n            outputNotation: that.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: that.convertFormatToRadix(that.format),\r\n            digits: that.precisionDigits >= 0 ? undefined : that.significantDigits,\r\n            decimalDigits: that.significantDigits >= 0 ? undefined : that.precisionDigits\r\n        };\r\n        widgetSettings.tooltipFormatSettings = {\r\n            outputNotation: that.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: that.convertFormatToRadix(that.format),\r\n            digits: that.precisionDigits >= 0 ? undefined : that.significantDigits,\r\n            decimalDigits: that.significantDigits >= 0 ? undefined : that.precisionDigits\r\n        };\r\n\r\n        that.applyScaleSettings(widgetSettings);\r\n\r\n        widgetSettings.showButtons = false;\r\n        widgetSettings.ticksPosition = 'bottom';\r\n        widgetSettings.mode = that.coercionMode ? 'fixedRange' : 'default';\r\n        widgetSettings.tooltip = true;\r\n        widgetSettings.value = NUM_VAL_CONVERTER.convertBack(that.value, that.valueType);\r\n\r\n        childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        that.appendChild(childElement);\r\n\r\n        jqref = $(childElement);\r\n\r\n        jqref.jqxSlider(widgetSettings);\r\n        jqref.css('font-size', $(that).css('font-size'));\r\n        jqref.css('font-family', $(that).css('font-family'));\r\n        jqref.css('font-weight', $(that).css('font-weight'));\r\n        jqref.css('font-style', $(that).css('font-style'));\r\n        jqref.on('change', function (event) {\r\n            that.value = NUM_VAL_CONVERTER.convert(event.args.value, that.valueType, true);\r\n        });\r\n        jqref.on('resize', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        // Adding CSS class names\r\n        jqref.addClass('ni-slider-box');\r\n        jqref.find(' .jqx-slider-tickscontainer').addClass('ni-ticks');\r\n        jqref.find(' .jqx-slider-slider').addClass('ni-thumb');\r\n        jqref.find(' .jqx-slider-tick').addClass('ni-tick');\r\n        jqref.find(' .jqx-slider-track ').addClass('ni-track');\r\n        jqref.find(' .jqx-slider-rangebar').addClass('ni-range-bar');\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxSlider(size);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false};\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n        settings.step = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n\r\n        jqref.jqxSlider(settings);\r\n    };\r\n\r\n    proto.applyScaleSettings = function (settings) {\r\n        settings.showTicks = this.scaleVisible;\r\n        settings.tickSize = this.majorTicksVisible ? 7 : 0;\r\n        settings.showMinorTicks = this.minorTicksVisible && this.scaleVisible;\r\n        settings.showTickLabels = this.labelsVisible && this.scaleVisible;\r\n    };\r\n\r\n    proto.updateScaleVisibility = function (jqref) {\r\n        var settings = { };\r\n        this.applyScaleSettings(settings);\r\n        jqref.jqxSlider(settings);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        $(childElement).trigger('refresh');\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            setupWidget(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxSlider({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'orientation':\r\n                this.removeChild(childElement);\r\n                setupWidget(this);\r\n                break;\r\n            case 'scaleVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'majorTicksVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'minorTicksVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'labelsVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'coercionMode':\r\n                jqref.jqxSlider({ mode: this.coercionMode ? 'fixedRange' : 'default' });\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                jqref.jqxSlider({ tickMode: this.rangeDivisionsMode === 'auto' || this.rangeDivisionsMode === 'none' ? 'default' : 'tickNumber' });\r\n                jqref.jqxSlider({ niceInterval: this.rangeDivisionsMode === 'auto' || this.rangeDivisionsMode === 'none' ? true : false });\r\n                if (this.rangeDivisionsMode !== 'auto' && this.rangeDivisionsMode !== 'none') {\r\n                    jqref.jqxSlider({ tickNumber: ENDPOINTS_ONLY });\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                if (this.significantDigits >= 0 || this.precisionDigits >= 0) {\r\n                    jqref.jqxSlider({\r\n                        tickLabelFormatSettings: {\r\n                            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                            radix: this.convertFormatToRadix(this.format),\r\n                            digits: this.significantDigits >= 0 ? this.significantDigits : undefined,\r\n                            decimalDigits: this.precisionDigits >= 0 ? this.precisionDigits : undefined\r\n                        }\r\n                    });\r\n                    jqref.jqxSlider({\r\n                        tooltipFormatSettings: {\r\n                            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                            radix: this.convertFormatToRadix(this.format),\r\n                            digits: this.significantDigits >= 0 ? this.significantDigits : undefined,\r\n                            decimalDigits: this.precisionDigits >= 0 ? this.precisionDigits : undefined\r\n                        }\r\n                    });\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-slider', 'HTMLNISlider');\r\n}(NationalInstruments.HtmlVI.Elements.Slider, NationalInstruments.HtmlVI.Elements.LinearNumericPointer));\r\n","//****************************************\r\n// Tank Prototype\r\n// DOM Registration: HTMLTank\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Tank = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n    var MINORTICKS_FOR_ENDPOINTS_ONLY = 10;\r\n    var MAJOR_TICK_SIZE = '10px';\r\n    var MINOR_TICK_SIZE = '5px';\r\n\r\n    // Static Private Functions\r\n    var setupWidget = function (target) {\r\n        var widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = target;\r\n\r\n        widgetSettings = {};\r\n\r\n        widgetSettings.int64 = NUM_HELPER.isSigned64BitInt(that.valueType) ? 's' : NUM_HELPER.is64BitInt(that.valueType) ? 'u' : false;\r\n        widgetSettings.background = { visible: false };\r\n        widgetSettings.animationDuration = 0;\r\n\r\n        that.applyScaleSettings(widgetSettings);\r\n\r\n        widgetSettings.orientation = that.orientation;\r\n        var max = NUM_VAL_CONVERTER.convertBack(that.maximum, that.valueType);\r\n        var min = NUM_VAL_CONVERTER.convertBack(that.minimum, that.valueType);\r\n\r\n        widgetSettings.min = min;\r\n        widgetSettings.max = max;\r\n        widgetSettings.value = NUM_VAL_CONVERTER.convertBack(that.value, that.valueType);\r\n        childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        that.appendChild(childElement);\r\n\r\n        jqref = $(childElement);\r\n        jqref.jqxLinearGauge(widgetSettings);\r\n\r\n        // Adding CSS class names\r\n        jqref.addClass('ni-tank-box');\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxLinearGauge(size);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.applyScaleSettings = function (settings) {\r\n        var pointerOffset,\r\n            ticksOffset,\r\n            ticksMajor = (typeof settings.ticksMajor !== 'object' || settings.ticksMajor === null) ? {} : settings.ticksMajor,\r\n            ticksMinor = (typeof settings.ticksMinor !== 'object' || settings.ticksMinor === null) ? {} : settings.ticksMinor,\r\n            labels = (typeof settings.labels !== 'object' || settings.labels === null) ? {} : settings.labels,\r\n            ticksAndLabelsPosition = 'near';\r\n\r\n        if (this.orientation === 'vertical') {\r\n            ticksOffset = ['20%', '5%'];\r\n            pointerOffset = '5%';\r\n        } else {\r\n            ticksOffset = ['5%', '20%'];\r\n            pointerOffset = '105%';\r\n        }\r\n\r\n        ticksMajor.size = MAJOR_TICK_SIZE;\r\n        ticksMajor.visible = this.majorTicksVisible && this.scaleVisible;\r\n\r\n        ticksMinor.size = MINOR_TICK_SIZE;\r\n        ticksMinor.visible = this.minorTicksVisible && this.scaleVisible;\r\n\r\n        labels.position = ticksAndLabelsPosition;\r\n        labels.visible = this.labelsVisible && this.scaleVisible;\r\n        this.updateLabelsFontAndFormat(labels);\r\n        labels.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n\r\n        if (this.rangeDivisionsMode === 'auto') {\r\n            settings.tickMode = 'default';\r\n            settings.niceInterval = true;\r\n        } else {\r\n            settings.tickMode = 'tickNumber';\r\n            settings.niceInterval = false;\r\n            ticksMajor.number = ENDPOINTS_ONLY;\r\n            ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n            labels.number = ENDPOINTS_ONLY;\r\n        }\r\n\r\n        settings.ticksMajor = ticksMajor;\r\n        settings.ticksMinor = ticksMinor;\r\n        settings.ticksOffset = ticksOffset;\r\n        settings.labels = labels;\r\n        settings.ticksPosition = ticksAndLabelsPosition;\r\n        settings.pointer = { size: '100%' };\r\n        settings.pointer.offset = pointerOffset;\r\n        settings.int64 = NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false;\r\n    };\r\n\r\n    proto.updateScaleVisibility = function (jqref) {\r\n        var settings = {};\r\n        settings.ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n        settings.ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n        settings.labels = jqref.jqxLinearGauge('labels');\r\n        this.applyScaleSettings(settings);\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false};\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.updateLabelsFontAndFormat = function (labels) {\r\n        var jqref = $(this);\r\n        labels = labels || jqref.jqxLinearGauge('labels');\r\n        labels.fontSize = jqref.css('font-size');\r\n        labels.fontFamily = jqref.css('font-family');\r\n        labels.fontStyle = jqref.css('font-style');\r\n        labels.fontWeight = jqref.css('font-weight');\r\n        labels.formatSettings = {\r\n            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: this.convertFormatToRadix(this.format),\r\n            digits: this.significantDigits > 0 ? this.significantDigits : undefined,\r\n            decimalDigits: this.precisionDigits > 0 ? this.precisionDigits : undefined\r\n        };\r\n    };\r\n\r\n    proto.updateDivisionsMode = function (jqref) {\r\n        var interval, settings = {};\r\n\r\n        settings.ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n        settings.ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n        settings.labels = jqref.jqxLinearGauge('labels');\r\n\r\n        if (this.rangeDivisionsMode === 'auto') {\r\n            settings.labels.number = undefined;\r\n            settings.ticksMinor.number = undefined;\r\n            settings.ticksMajor.number = undefined;\r\n            settings.tickMode = 'default';\r\n            settings.niceInterval = true;\r\n        } else {\r\n            interval = this.getRange();\r\n            settings.labels.interval = interval;\r\n            settings.labels.number = ENDPOINTS_ONLY;\r\n            settings.ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n            settings.ticksMajor.number = ENDPOINTS_ONLY;\r\n            settings.ticksMajor.interval = interval;\r\n            settings.ticksMinor.interval = interval;\r\n            settings.tickMode = 'tickNumber';\r\n            settings.niceInterval = false;\r\n        }\r\n\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            setupWidget(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement), labels;\r\n\r\n        labels = jqref.jqxLinearGauge('labels');\r\n        this.updateLabelsFontAndFormat(labels);\r\n        jqref.jqxLinearGauge({ labels: labels });\r\n        jqref.jqxLinearGauge('refresh', false);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            ticksMinor, ticksMajor,\r\n            jqref = $(childElement), labels;\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxLinearGauge({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'scaleVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'labelsVisible':\r\n                labels = jqref.jqxLinearGauge('labels');\r\n                labels.visible = this.labelsVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ labels: labels });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'majorTicksVisible':\r\n                ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n                ticksMajor.visible = this.majorTicksVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ ticksMajor: ticksMajor });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'minorTicksVisible':\r\n                ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n                ticksMinor.visible = this.minorTicksVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ ticksMinor: ticksMinor });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                this.updateDivisionsMode(jqref);\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                labels = jqref.jqxLinearGauge('labels');\r\n                this.updateLabelsFontAndFormat(labels);\r\n                jqref.jqxLinearGauge({ labels: labels });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'orientation':\r\n                this.removeChild(childElement);\r\n                setupWidget(this);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tank', 'HTMLNITank');\r\n}(NationalInstruments.HtmlVI.Elements.Tank, NationalInstruments.HtmlVI.Elements.LinearNumericPointer));\r\n","//****************************************\r\n//Numeric TextBox Prototype\r\n// DOM Registration: HTMLGauge\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Gauge = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n    var NUM_HELPER = NationalInstruments.HtmlVI.NINumerics.Helpers;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n    var MINORTICKS_FOR_ENDPOINTS_ONLY = 5;\r\n    var MAJOR_TICK_SIZE = '10%';\r\n    var MINOR_TICK_SIZE = '5%';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.width = '100%';\r\n            widgetSettings.height = '100%';\r\n            widgetSettings.animationDuration = 0;\r\n            widgetSettings.border = {size: '1%', showGradient: false};\r\n            // Update the model\r\n            var labels = {\r\n                interval: 1,\r\n                visible: true,\r\n                distance: '30%',\r\n                fontSize: $(this).css('font-size'),\r\n                fontFamily: $(this).css('font-family'),\r\n                fontStyle: $(this).css('font-style'),\r\n                fontWeight: $(this).css('font-weight'),\r\n                formatSettings: {\r\n                    outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                    radix: this.convertFormatToRadix(this.format),\r\n                    digits: this.precisionDigits > 0 ? undefined : this.significantDigits,\r\n                    decimalDigits: this.significantDigits > 0 ? undefined : this.precisionDigits\r\n                }\r\n            };\r\n            var ticksMajor = {\r\n                visible: this.majorTicksVisible && this.scaleVisible,\r\n                size: MAJOR_TICK_SIZE\r\n            };\r\n            var ticksMinor = {\r\n                visible: this.minorTicksVisible && this.scaleVisible,\r\n                size: MINOR_TICK_SIZE\r\n            };\r\n\r\n            labels.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            labels.visible = this.labelsVisible && this.scaleVisible;\r\n            widgetSettings.labels = labels;\r\n            if (this.rangeDivisionsMode === 'auto') {\r\n                widgetSettings.tickMode = 'default';\r\n                widgetSettings.niceInterval = true;\r\n            } else {\r\n                widgetSettings.tickMode = 'tickNumber';\r\n                widgetSettings.niceInterval = false;\r\n                ticksMajor.number = ENDPOINTS_ONLY;\r\n                ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n                labels.number = ENDPOINTS_ONLY;\r\n            }\r\n\r\n            widgetSettings.ticksMajor = ticksMajor;\r\n            widgetSettings.ticksMinor = ticksMinor;\r\n            widgetSettings.ticksDistance = '5%';\r\n\r\n            widgetSettings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n            widgetSettings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n\r\n            widgetSettings.startAngle = this.startAngle;\r\n            widgetSettings.endAngle = this.endAngle;\r\n\r\n            widgetSettings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n            widgetSettings.int64 = NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n\r\n            jqref.jqxGauge(widgetSettings);\r\n            jqref.on('resize', function (event) {\r\n                event.stopPropagation();\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-gauge-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxGauge(size);\r\n    };\r\n\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: NUM_HELPER.isSigned64BitInt(this.valueType) ? 's' : NUM_HELPER.is64BitInt(this.valueType) ? 'u' : false };\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n\r\n        jqref.jqxGauge(settings);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild;\r\n\r\n        var labels = {\r\n            interval: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType),\r\n            visible: this.labelsVisible && this.scaleVisible,\r\n            distance: '30%',\r\n            fontSize: fontSize,\r\n            fontFamily: fontFamily,\r\n            fontStyle: fontStyle,\r\n            fontWeight: fontWeight\r\n        };\r\n\r\n        $(childElement).jqxGauge({ labels: labels });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            ticksMajor,\r\n            ticksMinor,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'startAngle':\r\n                jqref.jqxGauge({startAngle: this.startAngle});\r\n                break;\r\n            case 'endAngle':\r\n                jqref.jqxGauge({endAngle: this.endAngle});\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxGauge({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'scaleVisible':\r\n                jqref.jqxGauge({ labels: { visible: this.labelsVisible && this.scaleVisible }});\r\n                ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                jqref.jqxGauge({ ticksMajor: { interval: ticksMajor.interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE } });\r\n                ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                jqref.jqxGauge({ ticksMinor: { interval: ticksMinor.interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE } });\r\n                break;\r\n            case 'labelsVisible':\r\n                jqref.jqxGauge({ labels: { visible: this.labelsVisible && this.scaleVisible } });\r\n                break;\r\n            case 'majorTicksVisible':\r\n                ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                jqref.jqxGauge({ ticksMajor: { interval: ticksMajor.interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE } });\r\n                break;\r\n            case 'minorTicksVisible':\r\n                ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                jqref.jqxGauge({ ticksMinor: { interval: ticksMinor.interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE } });\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                if (this.rangeDivisionsMode === 'auto') {\r\n                    jqref.jqxGauge({ labels: { visible: this.labelsVisible && this.scaleVisible } });\r\n                    ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                    jqref.jqxGauge({ ticksMajor: { interval: ticksMajor.interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE } });\r\n                    ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                    jqref.jqxGauge({ ticksMinor: { interval: ticksMinor.interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE } });\r\n                    jqref.jqxGauge({ tickMode: 'default' });\r\n                    jqref.jqxGauge({ niceInterval: true });\r\n                } else {\r\n                    var interval = this.getRange();\r\n                    jqref.jqxGauge({ labels: { interval: interval, visible: this.labelsVisible && this.scaleVisible, number: ENDPOINTS_ONLY } });\r\n                    ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                    jqref.jqxGauge({ ticksMajor: { interval: interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE, number: ENDPOINTS_ONLY } });\r\n                    ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                    jqref.jqxGauge({ ticksMinor: { interval: interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE, number: MINORTICKS_FOR_ENDPOINTS_ONLY } });\r\n                    jqref.jqxGauge({ tickMode: 'tickNumber' });\r\n                    jqref.jqxGauge({ niceInterval: false });\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                jqref.jqxGauge({\r\n                    labels: {\r\n                        fontSize: $(this).css('font-size'),\r\n                        fontFamily: $(this).css('font-family'),\r\n                        fontStyle: $(this).css('font-style'),\r\n                        fontWeight: $(this).css('font-weight'),\r\n                        visible: this.labelsVisible && this.scaleVisible,\r\n                        formatSettings: {\r\n                            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                            radix: this.convertFormatToRadix(this.format),\r\n                            digits: this.significantDigits > 0 ? this.significantDigits : undefined,\r\n                            decimalDigits: this.precisionDigits > 0 ? this.precisionDigits : undefined\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-gauge', 'HTMLNIGauge');\r\n}(NationalInstruments.HtmlVI.Elements.Gauge, NationalInstruments.HtmlVI.Elements.RadialNumericPointer));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ProgressBar = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: 0,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 10\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.ProgressBar, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Linear Progress Bar Prototype\r\n// DOM Registration: HTMLLinearProgressBar\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LinearProgressBar = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.animationDuration = 0;\r\n            widgetSettings.max = this.maximum;\r\n            widgetSettings.min = this.minimum;\r\n            widgetSettings.orientation = this.orientation;\r\n            widgetSettings.value = this.value;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxProgressBar(widgetSettings);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-track');\r\n            jqref.find(' .jqx-progressbar-value').addClass('ni-range-bar');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n        case 'maximum':\r\n            jqref.jqxProgressBar({ max: this.maximum });\r\n            break;\r\n        case 'minimum':\r\n            jqref.jqxProgressBar({ min: this.minimum });\r\n            break;\r\n        case 'orientation':\r\n            jqref.jqxProgressBar({ orientation: this.orientation });\r\n            break;\r\n        case 'value':\r\n            jqref.jqxProgressBar({ value: this.value });\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        parent.prototype.forceResize.call(this, size);\r\n\r\n        jqref.jqxProgressBar(size);\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-linear-progress-bar', 'HTMLNILinearProgressBar');\r\n}(NationalInstruments.HtmlVI.Elements.LinearProgressBar, NationalInstruments.HtmlVI.Elements.ProgressBar));\r\n","//****************************************\r\n// Cartesian Graph Base Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianGraphBase = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n    var plotsUpdatesEnabled = true;\r\n    var graphConfigPending = false;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getSettings = function () {\r\n        var settings = {\r\n            lines: {\r\n                show: true,\r\n                lineWidth: 1\r\n            },\r\n            canvas: true,\r\n            series: {\r\n                shadowSize: 0, // Drawing is faster without shadows\r\n                downsample: {\r\n                    threshold: 1000\r\n                }\r\n            },\r\n            axisLabels: {\r\n                show: true\r\n            },\r\n            xaxes: [{}],\r\n            yaxes: [{}],\r\n            zoom: {\r\n                interactive: true,\r\n                trigger: null\r\n            },\r\n            pan: {\r\n                interactive: true\r\n            },\r\n            selection: {\r\n                mode: null\r\n            },\r\n            grid: {\r\n                backgroundColor: '#FFFFFF'\r\n            }\r\n        };\r\n\r\n        return settings;\r\n    };\r\n\r\n    proto.configureGraph = function () {\r\n        var i;\r\n        var cartesianGraphSettings = this.getSettings();\r\n        if (this.plotAreaMargin !== '') {\r\n            if (cartesianGraphSettings.grid === undefined) {\r\n                cartesianGraphSettings.grid = {};\r\n            }\r\n\r\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\r\n        }\r\n\r\n        // Apply Settings from host\r\n        cartesianGraphSettings.xaxes = [];\r\n        cartesianGraphSettings.yaxes = [];\r\n        cartesianGraphSettings.cursors = [];\r\n\r\n        for (i = 0; i < this.axes.length; i++) {\r\n            var axis = this.axes[i];\r\n            var a = axis.getViewConfig();\r\n\r\n            if (a) {\r\n                if (a.position && ((a.position === 'left') || (a.position === 'right'))) {\r\n                    cartesianGraphSettings.yaxes.push(a);\r\n                }\r\n\r\n                if (a.position && ((a.position === 'top') || (a.position === 'bottom'))) {\r\n                    cartesianGraphSettings.xaxes.push(a);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            var cursor = this.cursors[i];\r\n            var c = cursor.getViewConfig();\r\n            cartesianGraphSettings.cursors.push(c);\r\n        }\r\n\r\n        if (this.graphTools) {\r\n            cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\r\n            cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\r\n            cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\r\n        }\r\n\r\n        return cartesianGraphSettings;\r\n    };\r\n\r\n    proto.updateGraphConfig = function () {\r\n        var plotConfig;\r\n        if (this.plots.length > 0) {\r\n            plotConfig = this.plots[0].getViewConfig();\r\n        }\r\n\r\n        var childElement = this.graphdiv;\r\n        if (childElement === undefined) {\r\n            return; // not ready yet\r\n        }\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n        } catch (error) {\r\n            NI_SUPPORT.log(error.message);\r\n        }\r\n\r\n        $(this).data('chart', this.graph);\r\n    };\r\n\r\n    proto.throttlePlotUpdates = function (throttle) {\r\n        plotsUpdatesEnabled = !throttle;\r\n        if (plotsUpdatesEnabled && graphConfigPending) {\r\n            this.updateGraphConfig(); // keep the graph in sync\r\n            graphConfigPending = false;\r\n        }\r\n    };\r\n\r\n    proto.updateGraphConfigWhenPlotsUpdatesAreEnabled = function () {\r\n        if (plotsUpdatesEnabled) {\r\n            this.updateGraphConfig();\r\n            graphConfigPending = false;\r\n        } else {\r\n            graphConfigPending = true;\r\n        }\r\n    };\r\n\r\n    var isWaveform = function (value) {\r\n        return (!Array.isArray(value)) && typeof value === 'object' && Array.isArray(value.Y);\r\n    };\r\n\r\n    var isWaveformArray = function (value) {\r\n        return (Array.isArray(value)) && isWaveform(value[0]);\r\n    };\r\n\r\n    var isXYData = function (value) {\r\n        return (!Array.isArray(value)) && typeof value === 'object' &&\r\n            Object.keys(value).length === 2 &&\r\n            Object.keys(value).every(function (key) {\r\n            return Array.isArray(value[key]);\r\n        });\r\n    };\r\n\r\n    var isXYDataArray = function (value) {\r\n        return Array.isArray(value) && isXYData(value[0]);\r\n    };\r\n\r\n    var is1DComplexArray = function (value) {\r\n        return Array.isArray(value) && typeof value[0] === 'string';\r\n    };\r\n\r\n    var is2DComplexArray = function (value) {\r\n        return Array.isArray(value) && Array.isArray(value[0]) && typeof value[0][0] === 'string';\r\n    };\r\n\r\n    var DataTypesEnum = Object.freeze({\r\n        niAnalogWaveform: 'niAnalogWaveform',\r\n        niAnalogWaveformArray: 'niAnalogWaveformArray',\r\n        XYData: 'XYData',\r\n        XYDataArray: 'XYDataArray',\r\n        oneDimensionNumericArray: '1DNumericArray',\r\n        twoDimensionsNumericArray: '2DNumericArray',\r\n        oneDimensionComplexArray: '1DComplexArray',\r\n        twoDimensionsComplexArray: '2DComplexArray',\r\n        empty: 'empty',\r\n        unknown: 'unknown'\r\n    });\r\n\r\n    proto.inferDataType = function (data) {\r\n        if (isWaveform(data)) {\r\n            return DataTypesEnum.niAnalogWaveform;\r\n        }\r\n\r\n        if (isWaveformArray(data)) {\r\n            return DataTypesEnum.niAnalogWaveformArray;\r\n        }\r\n\r\n        if (isXYData(data)) {\r\n            return DataTypesEnum.XYData;\r\n        }\r\n\r\n        if (!Array.isArray(data)) {\r\n            return DataTypesEnum.unknown;\r\n        }\r\n\r\n        if (data.length === 0) {\r\n            return DataTypesEnum.empty;\r\n        }\r\n\r\n        if (typeof data[0] === 'number') {\r\n            return DataTypesEnum.oneDimensionNumericArray;\r\n        }\r\n\r\n        if (isXYDataArray(data)) {\r\n            return DataTypesEnum.XYDataArray;\r\n        }\r\n\r\n        if (is1DComplexArray(data)) {\r\n            return DataTypesEnum.oneDimensionComplexArray;\r\n        }\r\n\r\n        if (is2DComplexArray(data)) {\r\n            return DataTypesEnum.twoDimensionsComplexArray;\r\n        }\r\n\r\n        if (Array.isArray(data[0])) {\r\n            return DataTypesEnum.twoDimensionsNumericArray;\r\n        }\r\n\r\n        return DataTypesEnum.unknown;\r\n    };\r\n\r\n    var waveformToFlotFormat = function (waveform) {\r\n        return waveform.toTimeAndValueArray();\r\n    };\r\n\r\n    var xyDataToFlotFormat = function (xydata) {\r\n        var result = [];\r\n        var keys = Object.keys(xydata);\r\n        var count = Math.min(xydata[keys[0]].length, xydata[keys[1]].length);\r\n\r\n        for (var i = 0; i < count; i++) {\r\n            result.push([xydata[keys[0]][i], xydata[keys[1]][i]]);\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    var xyDataArrayToFlotFormat = function (xyDataArray) {\r\n        return xyDataArray.map(function (xydata) {\r\n            return xyDataToFlotFormat(xydata);\r\n        });\r\n    };\r\n\r\n    proto.updatePlotName = function (index, name) {\r\n        if (name) {\r\n            if (this.plots[index]) {\r\n                this.plots[index].label = name;\r\n            }\r\n        }\r\n    };\r\n\r\n    var complexStringToArray = function (complexString) {\r\n        var real, imag, regex, match, a, b, c;\r\n\r\n        // regular expression that captures the re (with optional sign), a plus or minus and the im number followed by \"i\"\r\n        regex = /^([-+]?(?:\\d+|\\d*\\.\\d+))?([-+])?(\\d+i|\\d*\\.\\d+i)?$/i;\r\n        complexString = String(complexString).replace (/\\s+/g, ''); // remove spaces\r\n\r\n        match = complexString.match(regex);\r\n        if (!match) {\r\n            throw new Error('Invalid input to Complex.parse, expecting a + bi format');\r\n        }\r\n\r\n        a = match[1];\r\n        b = match[2];\r\n        c = match[3];\r\n\r\n        real = a !== null ? parseFloat (a) : 0;\r\n        imag = parseFloat ((b || '+') + (c || '0'));\r\n\r\n        return [real, imag];\r\n    };\r\n\r\n    proto.convertToFlotFormat = function (data) {\r\n        var dataValuesArray = [];\r\n        var dataValuesArray2D, waveform;\r\n\r\n        var i, j;\r\n\r\n        switch (this.inferDataType(data)) {\r\n            case DataTypesEnum.niAnalogWaveform:\r\n                waveform = new NationalInstruments.HtmlVI.NIAnalogWaveform(data);\r\n                this.updatePlotName(0, waveform.channelName);\r\n                return [waveformToFlotFormat(waveform)];\r\n            case DataTypesEnum.niAnalogWaveformArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    waveform = new NationalInstruments.HtmlVI.NIAnalogWaveform(data[j]);\r\n                    this.updatePlotName(j, waveform.channelName);\r\n                    dataValuesArray2D.push(waveformToFlotFormat(waveform));\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n            case DataTypesEnum.XYData:\r\n                return [xyDataToFlotFormat(data)];\r\n            case DataTypesEnum.XYDataArray:\r\n                return xyDataArrayToFlotFormat(data);\r\n            case DataTypesEnum.oneDimensionNumericArray:\r\n                for (i = 0; i < data.length; i++) {\r\n                    dataValuesArray.push([i, data[i]]);\r\n                }\r\n\r\n                return [dataValuesArray];\r\n            case DataTypesEnum.twoDimensionsNumericArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    dataValuesArray = [];\r\n                    for (i = 0; i < data[j].length; i++) {\r\n                        dataValuesArray.push(i, data[j][i]);\r\n                    }\r\n\r\n                    dataValuesArray2D.push(dataValuesArray);\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n            case DataTypesEnum.oneDimensionComplexArray:\r\n                for (i = 0; i < data.length; i++) {\r\n                    dataValuesArray.push(complexStringToArray(data[i]));\r\n                }\r\n\r\n                return [dataValuesArray];\r\n            case DataTypesEnum.twoDimensionsComplexArray:\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    dataValuesArray = [];\r\n                    for (i = 0; i < data[j].length; i++) {\r\n                        dataValuesArray.push(complexStringToArray(data[j][i]));\r\n                    }\r\n\r\n                    dataValuesArray2D.push(dataValuesArray);\r\n                }\r\n\r\n                return dataValuesArray2D;\r\n            default:\r\n        }\r\n\r\n        return dataValuesArray2D || [dataValuesArray];\r\n    };\r\n\r\n    proto.createData = function (plots, dataSeries) {\r\n        var plotConfig = [];\r\n\r\n        dataSeries.forEach(function (data, i) {\r\n            var plot = plots[i];\r\n            if (plot) {\r\n                plotConfig[i] = plot.getViewConfig();\r\n            } else {\r\n                plotConfig[i] = {};\r\n            }\r\n\r\n            plotConfig[i].data = data.length > 0 ? data : [];\r\n        });\r\n\r\n        return plotConfig;\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n\r\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\r\n        graph.setupGrid();\r\n        graph.draw();\r\n    };\r\n\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]'\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'plotAreaMargin',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.plots = [];\r\n        this.axes = [];\r\n        this.cursors = [];\r\n        this.plotLegend = null;\r\n        this.cursorLegend = null;\r\n        this.scaleLegend = null;\r\n        this.graphTools = null;\r\n        this.graphdiv = undefined;\r\n        this.tooltip = null;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.findGraphItems_early = function () {\r\n        var myChildItems = [],\r\n            axisItemName = NationalInstruments.HtmlVI.Elements.CartesianPlot.prototype.elementInfo.tagName.toUpperCase(),\r\n            plotItemName = NationalInstruments.HtmlVI.Elements.CartesianAxis.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === plotItemName) {\r\n                myChildItems.push(this.children[i]);\r\n            } else if (this.children[i].tagName === axisItemName) {\r\n                myChildItems.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return myChildItems;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var plot = this.graph;\r\n        if (plot !== undefined) {\r\n            plot.resize();\r\n            plot.setupGrid();\r\n            plot.draw();\r\n        }\r\n    };\r\n\r\n    proto.createGraph = function () {\r\n        var that = this;\r\n        var childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n        this.appendChild(childElement);\r\n        var tooltip = document.createElement('div');\r\n        tooltip.id = 'tooltip' + NI_SUPPORT.uniqueId();\r\n        tooltip.className = 'ni-graph-tooltip';\r\n        this.appendChild(tooltip);\r\n        this.tooltip = tooltip;\r\n\r\n        this.graphdiv = childElement;\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n        } catch (e) {\r\n            NI_SUPPORT.log('Failed to create a flot chart. Make sure that the placeholder element has a non-zero size !');\r\n        }\r\n\r\n        $(childElement).bind('plothover', function (event, pos, item) {\r\n            if (item) {\r\n                var str = '';\r\n                var hoverFormat = that.plots[item.seriesIndex].hoverFormat;\r\n                if (hoverFormat !== undefined) {\r\n                    str = that.format(hoverFormat, pos.x, pos.y);\r\n                } else {\r\n                    str = that.format('{0}, {1}', pos.x, pos.y);\r\n                }\r\n\r\n                $(tooltip).html(str)\r\n                    .css({ top: item.pageY - that.offsetTop + 5, left: item.pageX - that.offsetLeft + 5 })\r\n                    .fadeIn(100);\r\n            } else {\r\n                $(tooltip).hide();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this), graphChildElements;\r\n\r\n        if (firstCall === true) {\r\n            graphChildElements = this.findGraphItems_early();\r\n            this.addGraphItemListeners(graphChildElements);\r\n            this.createGraph();\r\n            this.attachLegends();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.addGraphItemListeners = function (childElements) {\r\n        var that = this;\r\n        that.addEventListener('ni-cartesian-plot-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                that.plots.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n                that.notifyPlotLegend('ni-cartesian-plot-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-detached', function (evt) {\r\n            var i;\r\n\r\n            that.notifyPlotLegend('ni-cartesian-plot-detached', evt.detail.element);\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.plots.length; i++) {\r\n                    if (that.plots[i] === evt.detail.element) {\r\n                        that.plots.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-axis-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                if (typeof that.axes === 'string') {\r\n                    that.axes = [];\r\n                }\r\n\r\n                if (typeof that.plots === 'string') {\r\n                    that.plots = [];\r\n                }\r\n\r\n                that.axes.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyScaleLegend('ni-cartesian-axis-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-axis-detached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.axes.length; i++) {\r\n                    if (that.axes[i] === evt.detail.element) {\r\n                        that.axes.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyScaleLegend('ni-cartesian-axis-detached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                if (typeof that.cursors === 'string') {\r\n                    that.cursors = [];\r\n                }\r\n\r\n                that.cursors.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyCursorLegend('ni-cursor-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-detached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.cursors.length; i++) {\r\n                    if (that.cursors[i] === evt.detail.element) {\r\n                        that.cursors.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyCursorLegend('ni-cursor-detached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-axis-changed', function (evt) {\r\n            that.updateGraphConfig();\r\n            that.notifyScaleLegend('ni-axis-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-changed', function (evt) {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            that.notifyPlotLegend('ni-cartesian-plot-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\r\n            that.updateGraphConfig();\r\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-changed', function (evt) {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n            that.notifyCursorLegend('ni-cursor-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function () {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function () {\r\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\r\n        });\r\n\r\n        that.addEventListener('ni-graph-tools-changed', function () {\r\n            that.updateGraphConfig();\r\n        });\r\n    };\r\n\r\n    proto.registerPlotLegend = function (plotLegend) {\r\n        this.plotLegend = plotLegend;\r\n    };\r\n\r\n    proto.notifyPlotLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.plotLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.plotLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerCursorLegend = function (cursorLegend) {\r\n        var i;\r\n        this.cursorLegend = cursorLegend;\r\n        if (this.cursors.length > 0) {\r\n            for (i = 0; i < this.cursors.length; i++) {\r\n                this.notifyCursorLegend('ni-cursor-attached', this.cursors[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.notifyCursorLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.cursorLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.cursorLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerScaleLegend = function (scaleLegend) {\r\n        var i;\r\n        this.scaleLegend = scaleLegend;\r\n        if (this.axes.length > 0) {\r\n            for (i = 0; i < this.axes.length; i++) {\r\n                this.notifyScaleLegend('ni-cartesian-axis-attached', this.axes[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.notifyScaleLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.scaleLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.scaleLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerGraphTools = function (graphTools) {\r\n        var that = this;\r\n        this.graphTools = graphTools;\r\n\r\n        this.updateGraphConfig();\r\n\r\n        $(this.graphdiv).on('plotselected', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-box-selected', { ranges: ranges });\r\n        });\r\n\r\n        $(this.graphdiv).on('plotpan', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\r\n        });\r\n\r\n        $(this.graphdiv).on('plotzoom', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\r\n        });\r\n    };\r\n\r\n    proto.notifyGraphTools = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.graphTools !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.graphTools.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    // find the graph legend elements that were created before the graph element and attach them\r\n    proto.attachLegends = function () {\r\n        var graphElement = this;\r\n        var plotLegendItemName = NationalInstruments.HtmlVI.Elements.PlotLegend.prototype.elementInfo.tagName.toUpperCase(),\r\n            scaleLegendItemName = NationalInstruments.HtmlVI.Elements.ScaleLegend.prototype.elementInfo.tagName.toUpperCase(),\r\n            cursorLegendItemName = NationalInstruments.HtmlVI.Elements.CursorLegend.prototype.elementInfo.tagName.toUpperCase(),\r\n            graphToolsItemName = NationalInstruments.HtmlVI.Elements.GraphTools.prototype.elementInfo.tagName.toUpperCase();\r\n\r\n        var legendElementNames = [plotLegendItemName, scaleLegendItemName, cursorLegendItemName, graphToolsItemName];\r\n\r\n        var children = this.parentElement.children;\r\n        var myLegends = [];\r\n\r\n        for (var i = 0; i < children.length; i++) {\r\n            var element = children[i];\r\n            if ((legendElementNames.indexOf(element.tagName) !== -1) && (element.graphName === this.niControlId)) {\r\n                // this is a legend element that references this graph element\r\n                myLegends.push(element);\r\n            }\r\n        }\r\n\r\n        myLegends.forEach(function (legend) {\r\n            legend.attachToGraph(graphElement);\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                this.updateData();\r\n                break;\r\n            case 'plotAreaMargin':\r\n                this.updateGraphConfig();\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.format = function () {\r\n        var args = arguments;\r\n        var str = args[0];\r\n        return str.replace(/{(\\d+)}/g, function (match, number) {\r\n            var index = parseInt(number) + 1;\r\n            var item = args[index];\r\n\r\n            if (typeof item !== 'undefined') {\r\n                var len1 = item.toFixed(2).length;\r\n                var len2 = item.toExponential(2).length;\r\n                if (len1 < len2) {\r\n                    return item.toFixed(2);\r\n                } else {\r\n                    return item.toExponential(2);\r\n                }\r\n            } else {\r\n                return match;\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.setHover = function (graphData, graphSettings) {\r\n        var i,\r\n            isHoverable = false;\r\n\r\n        for (i = 0; i < graphData.length; i++) {\r\n            if (graphData[i].hoverable) {\r\n                isHoverable = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (isHoverable === true) {\r\n            if (graphSettings.grid === undefined) {\r\n                graphSettings.grid = {};\r\n            }\r\n\r\n            graphSettings.grid.hoverable = isHoverable;\r\n        } else {\r\n            if (this.tooltip !== null) {\r\n                $(this.tooltip).hide();\r\n            }\r\n        }\r\n    };\r\n}(NationalInstruments.HtmlVI.Elements.CartesianGraphBase, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Cartesian Graph Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianGraph = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.updateGraphConfig = function () {\r\n        var childElement = this.graphdiv;\r\n        if (childElement === undefined) {\r\n            return; // not ready yet\r\n        }\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n            var that = this;\r\n            this.graph.getCursors().forEach(function (cursor, i) {\r\n                /* place a cookie on the cursor */\r\n                cursor.cookie = that.cursors[i];\r\n                that.cursors[i].setCursor(cursor);\r\n            });\r\n        } catch (error) {}\r\n\r\n        $(this).data('chart', this.graph);\r\n    };\r\n\r\n    proto.onCursorUpdates = function (event, cursordata) {\r\n        cursordata.forEach(function (cursor, i) {\r\n            cursor.target.cookie.updateCursorElement(cursordata[i]);\r\n        });\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n\r\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\r\n        graph.setupGrid();\r\n        graph.draw();\r\n    };\r\n\r\n    proto.createGraph = function () {\r\n        parent.prototype.createGraph.call(this);\r\n        try {\r\n            this.graph.getPlaceholder().bind('cursorupdates', this.onCursorUpdates);\r\n            var that = this;\r\n            this.graph.getCursors().forEach(function (cursor, i) {\r\n                /* place a cookie on the cursor */\r\n                cursor.cookie = that.cursors[i];\r\n                that.cursors[i].setCursor(cursor);\r\n            });\r\n        } catch (e) { }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-graph', 'HTMLNICartesianGraph');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\r\n","//****************************************\n// Chart Prototype\n// DOM Registration: HTMLNIChart\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.Chart = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.setHistoryBuffer = function (historyBuffer) {\n        this.historyBuffer = historyBuffer;\n    };\n\n    proto.getHistoryBuffer = function () {\n        return this.historyBuffer;\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.historyBuffer = null;\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.getSettings = function () {\n        var settings = parent.prototype.getSettings.call(this);\n\n        settings.series.historyBuffer = this.historyBuffer;\n\n        return settings;\n    };\n\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'bufferSize',\n            defaultValue: 1024\n        });\n    };\n\n    proto.defineElementInfo(proto, 'ni-chart', 'HTMLNIChart');\n}(NationalInstruments.HtmlVI.Elements.Chart, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\n","//****************************************\r\n// IntensityGraph Prototype\r\n// DOM Registration: HTMLNIIntensityGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.IntensityGraph = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var h = 50;\r\n    var w = 100;\r\n    var parsedData = null;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.dataRange = function () {\r\n        if (parsedData === null || parsedData.length === 0) {\r\n            return { dataMin: 0, dataMax: Math.sqrt(h * h + w * w) };\r\n        } else {\r\n            var tempMin = Math.min();\r\n            var tempMax = Math.max();\r\n            for (var i = 0; i < parsedData.length; i++) {\r\n                var buf = parsedData[i];\r\n                for (var j = 0; j < buf.length; j++) {\r\n                    if (buf[j] > tempMax) {\r\n                        tempMax = buf[j];\r\n                    }\r\n\r\n                    if (buf[j] < tempMin) {\r\n                        tempMin = buf[j];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return { dataMin: tempMin, dataMax: tempMax };\r\n        }\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.autoScaleColor = false;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.getSettings = function () {\r\n        var settings = {\r\n            series: {\r\n                intensitygraph: {\r\n                    show: true,\r\n                    legend: true\r\n                }\r\n            },\r\n            axisLabels: {\r\n                show: true\r\n            },\r\n            grid: {\r\n                backgroundColor: '#FFFFFF'\r\n            },\r\n            xaxes: [{}],\r\n            yaxes: [{}]\r\n        };\r\n\r\n        return settings;\r\n    };\r\n\r\n    proto.configureGraph = function () {\r\n        var i, j, gradient = [];\r\n        var colorScaleMin, colorScaleMax, colorScaleLabel, colorScaleShowLabel;\r\n        var cartesianGraphSettings = this.getSettings();\r\n        if (this.plotAreaMargin !== '') {\r\n            if (cartesianGraphSettings.grid === undefined) {\r\n                cartesianGraphSettings.grid = {};\r\n            }\r\n\r\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\r\n        }\r\n\r\n        var data = JSON.parse(this.value);\r\n        cartesianGraphSettings.series.intensitygraph.data =  data.length > 0 ? data : this.defaultData();\r\n        cartesianGraphSettings.xaxes = [];\r\n        cartesianGraphSettings.yaxes = [];\r\n        for (i = 0; i < this.axes.length; i++) {\r\n            var axis = this.axes[i];\r\n            var a = axis.getViewConfig();\r\n\r\n            if (a) {\r\n                if (a.position && a.position === 'left') {\r\n                    cartesianGraphSettings.yaxes.push(a);\r\n                }\r\n\r\n                if (a.position && a.position === 'bottom') {\r\n                    cartesianGraphSettings.xaxes.push(a);\r\n                }\r\n\r\n                if (a.position && a.position === 'right') {\r\n                    // this is the color scale\r\n                    var markers = JSON.parse(a.markers);\r\n                    for (j = 0; j < markers.length; j++) {\r\n                        gradient[j] = { value: markers[j].value, color: markers[j].color };\r\n                    }\r\n\r\n                    if (a.autoScale === false) {\r\n                        colorScaleMin = markers[0].value;\r\n                        colorScaleMax = markers[markers.length - 1].value;\r\n                        cartesianGraphSettings.series.intensitygraph.min = colorScaleMin;\r\n                        cartesianGraphSettings.series.intensitygraph.max = colorScaleMax;\r\n                    } else {\r\n                        this.autoScaleColor = true;\r\n                        var range = this.dataRange();\r\n                        colorScaleMin = range.dataMin;\r\n                        colorScaleMax = range.dataMax;\r\n                        cartesianGraphSettings.series.intensitygraph.min = range.dataMin;\r\n                        cartesianGraphSettings.series.intensitygraph.max = range.dataMax;\r\n                    }\r\n\r\n                    cartesianGraphSettings.series.intensitygraph.gradient = gradient;\r\n                    cartesianGraphSettings.series.intensitygraph.lowColor = a.lowColor;\r\n                    cartesianGraphSettings.series.intensitygraph.highColor = a.highColor;\r\n\r\n                    colorScaleLabel = a.axisLabel;\r\n                    colorScaleShowLabel = a.show;\r\n                }\r\n            }\r\n        }\r\n\r\n        // add color scale\r\n        cartesianGraphSettings.yaxes.push({\r\n            position: 'right',\r\n            show: false,\r\n            min: -0,\r\n            max: 50,\r\n            reserveSpace: true,\r\n            labelWidth: 30,\r\n            labelHeight: 50\r\n        });\r\n        cartesianGraphSettings.yaxes.push({\r\n            position: 'right',\r\n            min: colorScaleMin,\r\n            max: colorScaleMax,\r\n            axisLabel: colorScaleLabel,\r\n            show: colorScaleShowLabel\r\n        });\r\n\r\n        return cartesianGraphSettings;\r\n    };\r\n\r\n    proto.defaultData = function () {\r\n        return [[]];\r\n    };\r\n\r\n    proto.createData = function (plots, data) {\r\n        var plotConfig = {};\r\n\r\n        if (plots.length > 0) {\r\n            plotConfig = plots[0].getViewConfig();\r\n        }\r\n\r\n        // the data is placed in the config not the series because it does not match the series data type (and converting it might be expensive)\r\n        var graphdata = data.length > 0 ? data : this.defaultData();\r\n        parsedData = graphdata;\r\n        plotConfig.data = graphdata;\r\n        var cartesianGraphData = [plotConfig];\r\n\r\n        return cartesianGraphData;\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n        var data = this.createData(this.plots, JSON.parse(this.value));\r\n\r\n        if (!this.autoScaleColor) {\r\n            graph.setData(data);\r\n            graph.setupGrid();\r\n        } else {\r\n            this.updateGraphConfig();\r\n        }\r\n\r\n        graph.draw();\r\n    };\r\n\r\n    proto.convertToFlotFormat = function (data) {\r\n        return data;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-intensity-graph', 'HTMLNIIntensityGraph');\r\n}(NationalInstruments.HtmlVI.Elements.IntensityGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Cartesian Axis Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianAxis = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    var isTimeAxis = function (format) {\r\n        return (format.indexOf('LVTime') === 0) || (format.indexOf('LVRelativeTime') === 0);\r\n    };\r\n\r\n    var toFlotTimeFormat = function (format) {\r\n        if (format.indexOf('LVTime') === 0) {\r\n            return '%A';\r\n        }\r\n\r\n        if (format.indexOf('LVRelativeTime') === 0) {\r\n            return '%r';\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    var nullTickFormatter = function () {\r\n        return '';\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'axisPosition',\r\n            defaultValue: 'left'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'autoScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'logScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showTickLabels',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n            this._parentGraph = this.parentElement;\r\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Axis with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-axis-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    // here we transform the configuration from the one used by the custom element to the one understood by Flot\r\n    proto.getViewConfig = function () {\r\n        var flotConfig = {\r\n            'axisLabel': this.showLabel ? this.label : undefined,\r\n            'show': this.show,\r\n            'position': this.axisPosition,\r\n            'min': this.autoScale ? undefined : this.minimum,\r\n            'max': this.autoScale ? undefined : this.maximum,\r\n            'mode': this.logScale ? 'log' : 'linear',\r\n            'element': this,\r\n            'format': isTimeAxis(this.format) ? 'time' : null,\r\n            'timeformat': toFlotTimeFormat(this.format)\r\n        };\r\n\r\n        if (!this.showTickLabels) {\r\n            flotConfig.tickFormatter = nullTickFormatter;\r\n        }\r\n\r\n        return flotConfig;\r\n    };\r\n\r\n    // get the flot axis coresponding to this element\r\n    proto.getFlotAxis = function () {\r\n        var graph = this._parentGraph.graph;\r\n        var axes = graph.getAxes();\r\n        var that = this;\r\n\r\n        var key =  Object.keys(axes).filter(function (axis) {\r\n            return axes[axis].options.element === that;\r\n        })[0];\r\n\r\n        return axes[key];\r\n    };\r\n\r\n    // set the axis min and max to the data min and max\r\n    proto.scaleOnce = function () {\r\n        var axis = this.getFlotAxis();\r\n\r\n        this.minimum = typeof axis.datamin === 'number' ? axis.datamin : this.minimum;\r\n        this.maximum = typeof axis.datamax === 'number' ? axis.datamax : this.maximum;\r\n    };\r\n\r\n    // called after an user interacts with the plot so the attributes of the element are in sync with the plot\r\n    proto.syncWithFlot = function () {\r\n        var axis = this.getFlotAxis();\r\n\r\n        // if axis.options.min isn't set it means this axis is in autoscale mode\r\n        if (typeof axis.options.min === 'number') {\r\n            this._autoScale = false;\r\n            this._minimum = axis.options.min;\r\n            this._maximum = axis.options.max;\r\n        } else {\r\n            this._autoScale = true;\r\n        }\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            this._parentGraph.notifyScaleLegend('ni-axis-changed', this);\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-axis', 'HTMLNICartesianAxis');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianAxis, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianPlot = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'xaxis',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'yaxis',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'enableHover',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'hoverFormat',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph || this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\r\n            this._parentGraph = this.parentElement;\r\n            this.addPlotItemListeners();\r\n            this.sendEventToParentGraph('ni-cartesian-plot-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Plot with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.addPlotItemListeners = function () {\r\n        var that = this;\r\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\r\n            if (evt.target === that) {\r\n                this.plotRenderer = evt.detail.element;\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-attached');\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\r\n            if (evt.target === that) {\r\n                this.plotRenderer = undefined;\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-detached');\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\r\n            if (evt.target === that) {\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-changed', evt.detail.element);\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-plot-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-plot-changed');\r\n    };\r\n\r\n    proto.getViewConfig = function () {\r\n        var plotConfig = {};\r\n        if (this.plotRenderer !== undefined) {\r\n            plotConfig = this.plotRenderer.getViewConfig();\r\n        }\r\n\r\n        plotConfig.hoverable = this.enableHover;\r\n\r\n        return plotConfig;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-plot', 'HTMLNICartesianPlot');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianPlot, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianPlotRenderer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineWidth',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineStyle',\r\n            defaultValue: 'solid'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineStroke',\r\n            defaultValue: '#ff0000'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointColor',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'areaFill',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'barFill',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'areaBaseLine',\r\n            defaultValue: 'zero'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointSize',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointShape',\r\n            defaultValue: 'ellipse'\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentPlot = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentPlot = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentPlot !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentPlot.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianPlot) {\r\n            this._parentPlot = this.parentElement;\r\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Plot renderer with following id does not have a parentPlot', this.niControlId);\r\n            this._parentPlot = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-detached');\r\n    };\r\n\r\n    proto.toFlotLineStyle = function (style) {\r\n        switch (style) {\r\n            case 'solid':\r\n                return undefined;\r\n            case 'dot':\r\n                return [this.lineWidth, this.lineWidth * 2];\r\n            case 'mediumdash':\r\n                return [this.lineWidth * 3, this.lineWidth * 2];\r\n            case 'dashdot':\r\n                return [this.lineWidth * 3, this.lineWidth * 2, this.lineWidth, this.lineWidth * 2];\r\n            case 'largedash':\r\n                return [this.lineWidth * 5, this.lineWidth * 3];\r\n            default:\r\n                return undefined;\r\n        }\r\n    };\r\n\r\n    var areaFillOpacity = 0.6;\r\n\r\n    proto.getViewConfig = function () {\r\n        return {\r\n            color: this.lineStroke || this.pointColor || this.areaFill || this.barFill,\r\n            lines: {\r\n                show: this.lineStroke !== '' || this.areaFill !== '',\r\n                lineWidth: this.lineWidth,\r\n                fill: this.areaFill !== '' ? areaFillOpacity : false,\r\n                zero: false,\r\n                dashes: this.toFlotLineStyle(this.lineStyle)\r\n            },\r\n            points: {\r\n                show: this.pointColor !== '',\r\n                radius: this.pointSize ? this.pointSize / 2 : 2,\r\n                symbol: this.pointShape\r\n            },\r\n            bars: {\r\n                show: this.barFill !== '',\r\n                barWidth: 0.75, // TODO this is only valid if the distance between points is 1\r\n                align: 'center',\r\n                zero: false\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-plot-renderer', 'HTMLNICartesianPlotRenderer');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianPlotRenderer, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Cursor Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Cursor = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var _cachedFont = '';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'targetShape',\r\n            defaultValue: 'ellipse'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'cursorColor',\r\n            defaultValue: '#d42243'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'crosshairStyle',\r\n            defaultValue: 'both'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showValue',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'snapToData',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'x',\r\n            defaultValue: 0.5\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'y',\r\n            defaultValue: 0.5\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.cursor = null;\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph ||\r\n            this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\r\n            this._parentGraph = this.parentElement;\r\n            _cachedFont = window.getComputedStyle(this).font;\r\n            this.sendEventToParentGraph('ni-cursor-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Cursor with the following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-cursor-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cursor-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.setCursor = function (cursor) {\r\n        this.cursor = cursor;\r\n    };\r\n\r\n    proto.updateCursorElement = function (data) {\r\n        // TODO mraj this._x and this._y are underlying private properties and should not be assigned to directly\r\n        this._x = this.cursor.position.relativeX;\r\n        this._y = this.cursor.position.relativeY;\r\n        $(this).trigger('cursorUpdated', data);\r\n    };\r\n\r\n    proto.getViewConfig = function () {\r\n        var crosshairStyle =  this.crosshairStyle;\r\n        var mode;\r\n\r\n        if (crosshairStyle === 'both') {\r\n            mode = 'xy';\r\n        } else if (crosshairStyle === 'horizontal') {\r\n            mode = 'y';\r\n        } else if (crosshairStyle === 'vertical') {\r\n            mode = 'x';\r\n        } else {\r\n            mode = null;\r\n        }\r\n\r\n        return {\r\n            'show': this.show,\r\n            'showLabel': this.showLabel,\r\n            'showValuesRelativeToSeries': this.showValue ? 0 : undefined,\r\n            'name': this.label,\r\n            'color': this.cursorColor,\r\n            'snapToPlot': this.snapToData ? 0 : undefined,\r\n            'mode': mode,\r\n            'symbol': this.targetShape,\r\n            'font': _cachedFont,\r\n            'position': {\r\n                'relativeX': this.x,\r\n                'relativeY': this.y\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n        _cachedFont = this.style.font;\r\n        this.sendEventToParentGraph('ni-cursor-changed');\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cursor', 'HTMLNICursor');\r\n}(NationalInstruments.HtmlVI.Elements.Cursor, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// String Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.StringControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: '',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'acceptsReturn',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'typeToReplace',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var childElement,\r\n            jqref,\r\n            that = this,\r\n            editingContent = false;\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('textarea');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.val(this.text);\r\n            jqref.attr('disabled', this.readOnly);\r\n            jqref.css('font-size', $(this).css('font-size'));\r\n            jqref.css('font-family', $(this).css('font-family'));\r\n            jqref.css('font-weight', $(this).css('font-weight'));\r\n            jqref.css('font-style', $(this).css('font-style'));\r\n            jqref.css('resize', 'none');\r\n            jqref.on('change', function () {\r\n                var newVal = jqref.val();\r\n                if (that.text !== newVal) {\r\n                    that.text = newVal;\r\n                }\r\n            });\r\n            jqref.on('click', function () {\r\n                if (that.typeToReplace && !editingContent) {\r\n                    editingContent = true;\r\n                    this.focus();\r\n                    this.select();\r\n                }\r\n            });\r\n            jqref.on('blur', function () {\r\n                var newVal = jqref.val();\r\n                editingContent = false;\r\n                if (that.text !== newVal) {\r\n                    that.text = newVal;\r\n                }\r\n            });\r\n            jqref.on('keydown', function (e) {\r\n                if (that.acceptsReturn === false && e.keyCode === 13) {\r\n                    jqref.blur();\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-text-field');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({ 'font-size': fontSize,\r\n                   'font-family': fontFamily,\r\n                   'font-weight': fontWeight,\r\n                   'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'readOnly':\r\n                jqref.attr({disabled: this.readOnly});\r\n                break;\r\n            case 'text':\r\n                jqref.val(this.text);\r\n                break;\r\n            case 'acceptsReturn':\r\n                break;\r\n            case 'typeToReplace':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-string-control', 'HTMLNIStringControl');\r\n}(NationalInstruments.HtmlVI.Elements.StringControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Time Stamp Text Box Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TimeStampTextBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var serialisedTSToJsDate = function (value) {\r\n        return (new NationalInstruments.HtmlVI.NITimestamp(value)).toDate();\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '0:0',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: '-9223372036854775808:0'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: '9223372036854775807:0'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showCalendarButtonOnControl',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings, fontAttr,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            var format = 'MM/dd/yyyy hh:mm:ss tt';\r\n            var culture = Globalize.culture(window.NIEmbeddedBrowser.formatLanguage);\r\n            if (culture !== undefined) {\r\n                var calendar = culture.calendar;\r\n                format = calendar.patterns.d + ' ' + calendar.patterns.T;\r\n            }\r\n\r\n            widgetSettings = {\r\n                disabled: this.readOnly,\r\n                culture: window.NIEmbeddedBrowser.formatLanguage,\r\n                formatString: format,\r\n                min: serialisedTSToJsDate(this.minimum),\r\n                max: serialisedTSToJsDate(this.maximum),\r\n                showCalendarButton: !this.readOnly && this.popupEnabled\r\n            };\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxDateTimeInput(widgetSettings);\r\n            jqref.jqxDateTimeInput('setDate', serialisedTSToJsDate(this.value));\r\n            jqref.on('valueChanged', function (event) {\r\n                that.value = (new NationalInstruments.HtmlVI.NITimestamp(event.args.date)).toString();\r\n            });\r\n\r\n            fontAttr = $(this).css(['font-size', 'font-family', 'font-weight', 'font-style']);\r\n            $('#' + childElement.id + ' .jqx-widget-content').css(fontAttr);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-time-stamp-box');\r\n            jqref.find(' input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-action-button').addClass('ni-calendar-button');\r\n            jqref.find(' .jqx-icon-calendar').addClass('ni-calendar-icon');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDateTimeInput(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                jqref.jqxDateTimeInput('setDate', serialisedTSToJsDate(this.value));\r\n                break;\r\n            case 'minimum':\r\n                jqref.jqxDateTimeInput({'min': serialisedTSToJsDate(this.minimum)});\r\n                break;\r\n            case 'maximum':\r\n                jqref.jqxDateTimeInput({'max': serialisedTSToJsDate(this.maximum)});\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-time-stamp-text-box', 'HTMLNITimeStampTextBox');\r\n    // Inheritance is different from C# view (where time stamp is a numeric) so that min/max/value properties can have a different datatype\r\n}(NationalInstruments.HtmlVI.Elements.TimeStampTextBox, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanContentControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'trueContent',\r\n            defaultValue: 'on'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'falseContent',\r\n            defaultValue: 'off'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.BooleanContentControl, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Boolean Switch Prototype\r\n// DOM Registration: HTMLNIBooleanSwitch\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanSwitch = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createSliderButton = function (target, params, childElement) {\r\n        var that = target,\r\n            jqRef;\r\n\r\n        jqRef = $(childElement);\r\n        params.animationDuration = 25;\r\n        jqRef.jqxSwitchButton(params);\r\n\r\n        // TODO use an undocumented funtion mraj\r\n        jqRef.jqxSwitchButton('_removeEventHandlers');\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-size', $(that).css('font-size'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-family', $(that).css('font-family'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-weight', $(that).css('font-weight'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-style', $(that).css('font-style'));\r\n\r\n        // Adding CSS class names\r\n        jqRef.addClass('ni-boolean-box');\r\n        jqRef.find(' .jqx-switchbutton-label-on').addClass('ni-on-label');\r\n        jqRef.find(' .jqx-switchbutton-label-off').addClass('ni-off-label');\r\n        jqRef.find(' .jqx-switchbutton-wrapper').addClass('ni-thumb-box');\r\n        jqRef.find(' .jqx-switchbutton-thumb').addClass('ni-thumb');\r\n    };\r\n\r\n    // TODO gleon we shouldn't be using this function, we should use CSS directly.\r\n    var setPowerButtonFontSize = function (jqref, height) {\r\n        var fontSize = height * 0.67;\r\n        jqref.css({ 'font-size': fontSize + 'px', 'line-height': height + 'px' });\r\n    };\r\n\r\n    var createPowerButton = function (target, params, childElement) {\r\n        var that = target;\r\n        var powerButton = childElement;\r\n        powerButton.classList.add('ni-boolean-box');\r\n        var powerChar = '\\uF011';\r\n        var text = document.createTextNode(powerChar);\r\n        powerButton.appendChild(text);\r\n\r\n        setPowerButtonFontSize($(powerButton), $(that).height());\r\n\r\n        $(that).hover(function () {\r\n            $(powerButton).toggleClass('hover');\r\n        }, function () {\r\n            $(powerButton).toggleClass('hover');\r\n        });\r\n        $(that).on('click', function (evt) {\r\n            evt.preventDefault();\r\n        });\r\n    };\r\n\r\n    var createRoundButton = function (target, params, childElement) {\r\n        var that = target;\r\n        var divElement = document.createElement('div'),\r\n            labelElement = document.createElement('label');\r\n\r\n        var roundOffLabel = document.createElement('label');\r\n        var roundOnLabel = document.createElement('label');\r\n        var checkbox = document.createElement('input');\r\n\r\n        // Need to prevent default checkbox behavior so mechanical actions can takeover\r\n        checkbox.addEventListener('click', function (evt) {\r\n            evt.preventDefault();\r\n        });\r\n\r\n        // Add off and on labels\r\n        roundOffLabel.classList.add('ni-off-label');\r\n        roundOffLabel.innerText = params.offLabel;\r\n        roundOffLabel.style.fontSize = $(that).css('font-size');\r\n        roundOffLabel.style.fontFamily = $(that).css('font-family');\r\n        roundOffLabel.style.fontWeight = $(that).css('font-weight');\r\n        roundOffLabel.style.fontStyle = $(that).css('font-style');\r\n        divElement.appendChild(roundOffLabel);\r\n        roundOnLabel.classList.add('ni-on-label');\r\n        roundOnLabel.innerText = params.onLabel;\r\n        roundOnLabel.style.fontSize = $(that).css('font-size');\r\n        roundOnLabel.style.fontFamily =  $(that).css('font-family');\r\n        roundOnLabel.style.fontWeight =  $(that).css('font-weight');\r\n        roundOnLabel.style.fontStyle = $(that).css('font-style');\r\n        divElement.appendChild(roundOnLabel);\r\n        childElement.appendChild(divElement);\r\n\r\n        // Add the checkbox\r\n        checkbox.type = 'checkbox';\r\n        checkbox.checked = params.checked;\r\n        childElement.appendChild(checkbox);\r\n\r\n        // Add the label \"knob\"\r\n        labelElement.classList.add('ni-knob');\r\n        childElement.appendChild(labelElement);\r\n    };\r\n\r\n    var createWidgetSettings = function (target) {\r\n        var that = target,\r\n            widgetSettings = {};\r\n        widgetSettings.checked = that.value;\r\n        widgetSettings.onLabel = that.contentVisible ? that.trueContent : '';\r\n        widgetSettings.offLabel = that.contentVisible ? that.falseContent : '';\r\n        widgetSettings.orientation = that.orientation;\r\n        widgetSettings.disabled = that.readOnly;\r\n        return widgetSettings;\r\n    };\r\n\r\n    var createAndAddChildElement = function (target) {\r\n        var that = target,\r\n            childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n        that.appendChild(childElement);\r\n\r\n        return childElement;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'shape',\r\n            defaultValue: 'slider'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n\r\n            var widgetSettings = createWidgetSettings(this);\r\n            var childElement = createAndAddChildElement(this);\r\n\r\n            switch (this.shape) {\r\n            case 'round':\r\n                createRoundButton(this, widgetSettings, childElement);\r\n                break;\r\n            case 'slider':\r\n                createSliderButton(this, widgetSettings, childElement);\r\n                break;\r\n            case 'power':\r\n                createPowerButton(this, widgetSettings, childElement);\r\n                break;\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild, jqrefContent;\r\n\r\n        // We do not use text content for power controls\r\n        if (this.shape === 'round') {\r\n            $('.ni-off-label').css({ 'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle });\r\n            $('.ni-on-label').css({ 'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle });\r\n        }\r\n\r\n        if (this.shape === 'slider') {\r\n            jqrefContent = $(childElement).find(' .jqx-switchbutton-label');\r\n            $(jqrefContent).css({ 'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement),\r\n            that = this;\r\n\r\n        switch (propertyName) {\r\n        case 'readOnly':\r\n            if (this.shape === 'round') {\r\n                childElement.attr({\r\n                    disabled: that.readOnly\r\n                });\r\n            } else if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    disabled: that.readOnly\r\n                });\r\n            } else if (this.shape === 'power') {\r\n                childElement.attr({\r\n                    disabled: that.readOnly\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'orientation':\r\n            if (this.shape === 'slider') {\r\n                // Orientation changes mess with the entire DOM and\r\n                // reattaching it is the best option.\r\n                this.removeChild(this.firstElementChild);\r\n\r\n                var widgetSettings = createWidgetSettings(this);\r\n\r\n                // Ok to use parent syle, as the removal and re-addition is completely\r\n                // internal. Also, since the resizeHack does not fire, we need this.\r\n                widgetSettings.width = this.style.width;\r\n                widgetSettings.height = this.style.height;\r\n\r\n                childElement = createAndAddChildElement(this);\r\n\r\n                createSliderButton(this, widgetSettings, childElement);\r\n            }\r\n\r\n            break;\r\n        case 'trueContent':\r\n            // We do not use text content for power controls\r\n\r\n            if (this.shape === 'round') {\r\n                $('.ni-on-label').html(this.trueContent);\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    onLabel: that.trueContent\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'falseContent':\r\n            // We do not use text content for power controls\r\n            if (this.shape === 'round') {\r\n                $('.ni-off-label').html(this.falseContent);\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    offLabel: that.falseContent\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'contentVisible':\r\n            // We do not use text content for power controls\r\n            if (this.shape === 'round') {\r\n                $('.ni-off-label').html(this.contentVisible ? this.falseContent : '');\r\n            }\r\n\r\n            if (this.shape === 'round') {\r\n                $('.ni-on-label').html(this.contentVisible ? this.trueContent : '');\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    onLabel: that.contentVisible ? that.trueContent : '',\r\n                    offLabel: that.contentVisible ? that.falseContent : ''\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'value':\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    checked: that.value\r\n                });\r\n            }\r\n\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var childElement = this.firstElementChild,\r\n            jqRef = $(childElement);\r\n        if (this.shape === 'slider') {\r\n            jqRef.jqxSwitchButton(size);\r\n        }\r\n\r\n        if (this.shape === 'power') {\r\n            // TODO gleon we shouldn't be doing this. Use CSS directly.\r\n            setPowerButtonFontSize(jqRef, size.height);\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-switch', 'HTMLNIBooleanSwitch');\r\n})(NationalInstruments.HtmlVI.Elements.BooleanSwitch, NationalInstruments.HtmlVI.Elements.BooleanContentControl);\r\n","//****************************************\r\n// Boolean LED Prototype\r\n// DOM Registration: HTMLNIBooleanLED\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanLED = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        // Valid values:\r\n        // round, square\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'shape',\r\n            defaultValue: 'round'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'highlight',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.toggled = this.value;\r\n\r\n            childElement = document.createElement('input');\r\n            childElement.type = 'button';\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            widgetSettings.disabled = this.readOnly;\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxToggleButton(widgetSettings);\r\n            jqref.jqxToggleButton('_removeHandlers');\r\n\r\n            this.updateContent(this, jqref);\r\n\r\n            if (this.value === true) {\r\n                jqref.jqxToggleButton('check');\r\n            } else {\r\n                jqref.jqxToggleButton('unCheck');\r\n            }\r\n\r\n            this.updateColors(childElement);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.updateContent = function (that, jqref) {\r\n        if (that.contentVisible === true) {\r\n            jqref.attr('value', that.value ? that.trueContent : that.falseContent);\r\n        } else {\r\n            jqref.attr('value', '');\r\n        }\r\n    };\r\n\r\n    proto.updateColors = function (childElement) {\r\n        if (this.value === true) {\r\n            $(childElement).css({ 'background-color': this.highlight, 'border-color': '#000000' });\r\n        } else {\r\n            $(childElement).css({ 'border-color': this.highlight, 'background-color': '#ffffff' });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                jqref.jqxToggleButton({\r\n                    toggled: this.value\r\n                });\r\n                this.updateContent(this, jqref);\r\n                this.updateColors(childElement);\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxToggleButton({ disabled: this.readOnly });\r\n                break;\r\n            case 'contentVisible':\r\n            case 'trueContent':\r\n            case 'falseContent':\r\n                this.updateContent(this, jqref);\r\n                break;\r\n            case 'highlight':\r\n                this.updateColors(childElement);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-led', 'HTMLNIBooleanLED');\r\n})(NationalInstruments.HtmlVI.Elements.BooleanLED, NationalInstruments.HtmlVI.Elements.BooleanContentControl);\r\n","//****************************************\r\n// CheckBox Prototype\r\n// DOM Registration: HTMLNICheckBox\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CheckBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.checked = this.value;\r\n            widgetSettings.animationShowDelay = 0;\r\n            widgetSettings.animationHideDelay = 0;\r\n\r\n            childElement = document.createElement('div');\r\n            this.appendChild(childElement);\r\n\r\n            var textContent = document.createElement('label');\r\n            this.appendChild(textContent);\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            textContent.style.fontSize = $(this).css('font-size');\r\n            textContent.style.fontFamily =  $(this).css('font-family');\r\n            textContent.style.fontWeight =  $(this).css('font-weight');\r\n            textContent.style.fontStyle =  $(this).css('font-style');\r\n            jqref = $(childElement);\r\n            jqref.jqxCheckBox(widgetSettings);\r\n            jqref.jqxCheckBox('_removeHandlers');\r\n\r\n            // Associate the textContent with the jqxWidget\r\n            textContent.setAttribute('for', childElement.id);\r\n\r\n            if (this.value === true) {\r\n                jqref.jqxCheckBox('check');\r\n                jqref.find(' .jqx-checkbox-check-checked').addClass('ni-check-mark-icon');\r\n            } else {\r\n                jqref.jqxCheckBox('unCheck');\r\n                jqref.find(' .jqx-checkbox-check-checked').removeClass('ni-check-mark-icon');\r\n            }\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n            jqref.find(' .jqx-checkbox-default').addClass('ni-check-mark-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var textContent = this.lastElementChild;\r\n\r\n        $(textContent).css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            textContent = this.lastElementChild,\r\n            jqref = $(childElement),\r\n            that = this;\r\n\r\n        switch (propertyName) {\r\n        case 'content':\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            break;\r\n        case 'contentVisible':\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            break;\r\n        case 'value':\r\n            jqref.jqxCheckBox({\r\n                checked: that.value\r\n            });\r\n            if (that.value === true) {\r\n                jqref.find(' .jqx-checkbox-check-checked').addClass('ni-check-mark-icon');\r\n            } else {\r\n                jqref.find(' .jqx-checkbox-check-checked').removeClass('ni-check-mark-icon');\r\n            }\r\n\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-check-box', 'HTMLNICheckBox');\r\n}(NationalInstruments.HtmlVI.Elements.CheckBox, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Hyperlink Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Hyperlink = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'href',\r\n            defaultValue: '',\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'content',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement;\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('a');\r\n            childElement.appendChild(document.createTextNode(''));\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.margin = '0px';\r\n\r\n            childElement.setAttribute('href', this.href);\r\n            childElement.setAttribute('target', '_blank'); // We want to open the link in a new tab/window. devdocs.io/html/element/a#attr-target\r\n            childElement.firstChild.nodeValue = this.content;\r\n            childElement.style.color = this.style.color;\r\n\r\n            this.appendChild(childElement);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'href':\r\n                childElement.setAttribute('href', this.href);\r\n                break;\r\n            case 'content':\r\n                childElement.firstChild.nodeValue = this.content;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-hyperlink', 'HTMLNIHyperlink');\r\n}(NationalInstruments.HtmlVI.Elements.Hyperlink, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Text Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Text = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            divTag;\r\n\r\n        if (firstCall === true) {\r\n            divTag = document.createElement('div');\r\n            divTag.innerHTML = this.text;\r\n            this.appendChild(divTag);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var divElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'text':\r\n                divElement.innerHTML = this.text;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-text', 'HTMLNIText');\r\n}(NationalInstruments.HtmlVI.Elements.Text, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Label Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Label = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'controlId',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            labelTag;\r\n\r\n        if (firstCall === true) {\r\n            labelTag = document.createElement('label');\r\n            this.appendChild(labelTag);\r\n            labelTag.innerHTML = this.text;\r\n            // We want to eventually associate labels with their widgets so that screen readers can associate them.\r\n            // This is sort of how we would do it, but this doesn't work because the id that htmlFor points to\r\n            // needs to be an input, which our controls are not (the have children that are inputs)\r\n            // labelTag.htmlFor = this.controlId;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var labelElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'text':\r\n                labelElement.innerHTML = this.text;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-label', 'HTMLNILabel');\r\n}(NationalInstruments.HtmlVI.Elements.Label, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Path Selector Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.PathSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum = Object.freeze({\r\n    ABSOLUTE: 'absolute',\r\n    RELATIVE: 'relative'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype, enablePopup,\r\n        pathToObject, objectToPath, filterEmptyString;\r\n\r\n    // Static Private Variables\r\n    var PATH_TYPE_ENUM = NationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum;\r\n\r\n    // Static Private Functions\r\n    enablePopup = function (target, enable) {\r\n        var jqref = $(target.firstElementChild);\r\n        if (enable === true) {\r\n            $(target._popoverTag).jqxPopover({\r\n                selector: jqref.find('.ni-selector-button'),\r\n                position: 'right',\r\n                animationOpenDelay: 0,\r\n                animationCloseDelay: 0\r\n            });\r\n        } else {\r\n            $(target._popoverTag).jqxPopover('destroy');\r\n        }\r\n\r\n    };\r\n\r\n    filterEmptyString = function (str) {\r\n        return str.length !== 0;\r\n    };\r\n\r\n    pathToObject = function (pathString) {\r\n\r\n        var components = pathString.split('/'), // unix format expected.\r\n            type;\r\n        if (components[0].length === 0) {\r\n            type = PATH_TYPE_ENUM.ABSOLUTE;\r\n        } else {\r\n            type = PATH_TYPE_ENUM.RELATIVE;\r\n        }\r\n\r\n        components = components.filter(filterEmptyString);\r\n        return { components: components, type: type };\r\n    };\r\n\r\n    objectToPath = function (pathObject) {\r\n\r\n        pathObject = JSON.parse(pathObject);\r\n\r\n        if (pathObject === undefined || pathObject.components === undefined) {\r\n            return '';\r\n        }\r\n\r\n        var pathString = pathObject.components.join('/');\r\n        if (pathObject.type === PATH_TYPE_ENUM.ABSOLUTE) {\r\n            pathString = '/' + pathString;\r\n            // jqwidgets bug. not possible to set an absolute path containing only\r\n            // one segment in unix format.\r\n            if (pathObject.components.length === 1) {\r\n                pathString += '/';\r\n            }\r\n        }\r\n\r\n        return pathString;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'path',\r\n            defaultValue: JSON.stringify({ components: [], type: PATH_TYPE_ENUM.ABSOLUTE }), // not a path.\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: 'windows'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.setPath = function (pathValue) {\r\n        // We don't want to fire more events for re-setting the path\r\n        // once we cleared the value.\r\n        if (!(this.isNotAPath() && pathValue === '')) {\r\n            this.path = JSON.stringify(pathToObject(pathValue));\r\n        }\r\n    };\r\n\r\n    proto.setNotAPath = function () {\r\n        this.path = JSON.stringify({ components: [], type: PATH_TYPE_ENUM.ABSOLUTE });\r\n    };\r\n\r\n    proto.isNotAPath = function () {\r\n        var pathValue = JSON.parse(this.path);\r\n        if (pathValue === undefined || pathValue === null || pathValue.components === undefined) {\r\n            return true;\r\n        }\r\n\r\n        return pathValue.components.length === 0 && pathValue.type === PATH_TYPE_ENUM.ABSOLUTE;\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        this._popoverTag = undefined;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings, fontAttr,\r\n            childElement,\r\n            jqref,\r\n            popover,\r\n            button,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.readOnly = this.readOnly;\r\n            widgetSettings.pathFormat = this.format;\r\n            widgetSettings.accept = '*';\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxPathControl(widgetSettings);\r\n            jqref.jqxPathControl('val', objectToPath(this.path));\r\n\r\n            // Adding CSS class names\r\n            jqref.find(' .jqx-path-control-input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-path-control-button').addClass('ni-selector-button');\r\n\r\n            this._popoverTag = document.createElement('div');\r\n            button = document.createElement('input');\r\n\r\n            $(button).attr('type', 'button');\r\n            $(button).attr('value', NI_SUPPORT.i18n('msg_SET_TO_NOT_A_PATH'));\r\n            $(button).jqxButton({template: 'link'});\r\n            $(button).on('click', function () {\r\n                $(popover).jqxPopover('close');\r\n                that.setNotAPath();\r\n            });\r\n\r\n            this._popoverTag.appendChild(button);\r\n            enablePopup(this, this.popupEnabled);\r\n\r\n            fontAttr = $(this).css(['font-size', 'font-family', 'font-weight', 'font-style']);\r\n            jqref.find('.ni-text-field').css(fontAttr);\r\n\r\n            jqref.on('change', function () {\r\n                that.setPath(jqref.val('unix')); // because is easier to convert to object.\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxPathControl(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.find('.ni-text-field').css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'readOnly':\r\n                jqref.jqxPathControl({ readOnly: this.readOnly });\r\n                break;\r\n            case 'path':\r\n                if (this.isNotAPath()) {\r\n                    jqref.jqxPathControl('clear');\r\n                } else {\r\n                    jqref.jqxPathControl('val', objectToPath(this.path));\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n                jqref.jqxPathControl({ pathFormat: this.format });\r\n                break;\r\n            case 'popupEnabled':\r\n                enablePopup(this, this.popupEnabled);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-path-selector', 'HTMLNIPathSelector');\r\n}(NationalInstruments.HtmlVI.Elements.PathSelector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Url Image Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.UrlImage = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum = Object.freeze({\r\n    NONE: 'none',                     // Size at the images natural size (Size to actual image size)\r\n    UNIFORM: 'uniform',               // Stretch but maintain aspect ratio (Fit image in space)\r\n    UNIFORM_TO_FILL: 'uniformtofill', // Size respecting aspect ratio, but fill given space (Fit but maintain aspect ratio)\r\n    FILL: 'fill'                      // Size so that the image fills the space ignoring aspect ratio (Stretch to fill space)\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createImage = function (urlImageElement) {\r\n        var that = urlImageElement;\r\n\r\n        // A div element with background css is used instead of an img element because the img element does not support the different stretch modes\r\n        // but background images with css do support the different stretch modes\r\n        var childElement = document.createElement('div');\r\n        childElement.classList.add('ni-image-box');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        if (that.source !== '') {\r\n            childElement.style.backgroundImage = 'url(' + that.source + ')';\r\n        }\r\n\r\n        // TODO mraj should validate enum value? currently assumes valid string\r\n        if (that.stretch !== '' && that.stretch !== STRETCH_ENUM.NONE) {\r\n            childElement.classList.add('ni-stretch-' + that.stretch);\r\n        }\r\n\r\n        childElement.title = that.alternate;\r\n        that.innerHTML = '';\r\n        that.appendChild(childElement);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '',\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'alternate',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'stretch',\r\n            defaultValue: STRETCH_ENUM.UNIFORM\r\n        });\r\n\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            createImage(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                createImage(this);\r\n                break;\r\n            case 'alternate':\r\n                createImage(this);\r\n                break;\r\n            case 'stretch':\r\n                createImage(this);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-url-image', 'HTMLNIUrlImage');\r\n}(NationalInstruments.HtmlVI.Elements.UrlImage, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Image Control Prototype\r\n// DOM Registration: Yes\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Image = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.Image.StretchEnum = Object.freeze({\r\n    NONE: 'none',                     // Size at the images natural size (Size to actual image size)\r\n    UNIFORM: 'uniform',               // Stretch but maintain aspect ratio (Fit image in space)\r\n    UNIFORM_TO_FILL: 'uniformtofill', // Size respecting aspect ratio, but fill given space (Fit but maintain aspect ratio)\r\n    FILL: 'fill'                      // Size so that the image fills the space ignoring aspect ratio (Stretch to fill space)\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.Image.StretchEnum;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createImage = function (imageElement) {\r\n        var that = imageElement;\r\n\r\n        // A div element with background css is used instead of an img element because the img element does not support the different stretch modes\r\n        // but background images with css do support the different stretch modes\r\n        var childElement = document.createElement('div');\r\n        childElement.classList.add('ni-image-box');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        if (that.source !== '') {\r\n            childElement.style.backgroundImage = 'url(data:;base64,' + that.source + ')';\r\n        }\r\n\r\n        // TODO mraj should validate enum value? currently assumes valid string\r\n        if (that.stretch !== '' && that.stretch !== STRETCH_ENUM.NONE) {\r\n            childElement.classList.add('ni-stretch-' + that.stretch);\r\n        }\r\n\r\n        that.innerHTML = '';\r\n        that.appendChild(childElement);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'stretch',\r\n            defaultValue: STRETCH_ENUM.UNIFORM\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            createImage(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                createImage(this);\r\n                break;\r\n            case 'stretch':\r\n                createImage(this);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-image', 'HTMLNIImage');\r\n}(NationalInstruments.HtmlVI.Elements.Image, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Selector\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Selector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '[]'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.Selector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// DropDown Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DropDown = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: -1,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {\r\n                source: JSON.parse(this.source),\r\n                selectedIndex: this.selectedIndex,\r\n                autoDropDownHeight: true,\r\n                disabled: this.readOnly\r\n            };\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.fontSize = $(this).css('font-size');\r\n            childElement.style.fontFamily = $(this).css('font-family');\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxDropDownList(widgetSettings);\r\n            jqref.on('change', function (event) {\r\n                that.selectedIndex = event.args.index;\r\n            });\r\n\r\n            // TODO: gleon check with jqWidgets about this hack.\r\n            if (this.popupEnabled === false) {\r\n                jqref.on('open', function () {\r\n                    jqref.jqxDropDownList('close');\r\n                });\r\n                jqref.jqxDropDownList({animationType: 'none'});\r\n            }\r\n\r\n            // Add CSS class names\r\n            jqref.addClass('ni-expand-button');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                jqref.jqxDropDownList({ source: JSON.parse(this.source) });\r\n                break;\r\n            case 'selectedIndex':\r\n                jqref.jqxDropDownList({ selectedIndex: this.selectedIndex });\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-drop-down', 'HTMLNIDropDown');\r\n}(NationalInstruments.HtmlVI.Elements.DropDown, NationalInstruments.HtmlVI.Elements.Selector));\r\n","//****************************************\r\n// ListBox\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ListBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n// Static Public Functions\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var SELECTION_MODE_ENUM = NationalInstruments.HtmlVI.NIListBox.SelectionModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var getJqxListBoxSelectedIndices = function (jqref) {\r\n        var items = jqref.jqxListBox('getSelectedItems');\r\n        if (items.length === 0 || (items.length === 1 && items[0] === undefined)) {\r\n            return [];\r\n        }\r\n\r\n        return items.map(function (obj) {\r\n            return obj.index;\r\n        });\r\n    };\r\n\r\n    var setJqxListBoxSelectedIndices = function (jqref, indices) {\r\n        var i;\r\n        jqref.jqxListBox('clearSelection');\r\n        for (i = 0; i < indices.length; i++) {\r\n            jqref.jqxListBox('selectIndex', indices[i]);\r\n        }\r\n    };\r\n\r\n    var selectedIndicesMatch = function (jqref, elementSelectedIndices) {\r\n        var i, jqxIndices = getJqxListBoxSelectedIndices(jqref).sort(), parsedIndices = JSON.parse(elementSelectedIndices).sort();\r\n        if (jqxIndices.length !== parsedIndices.length) {\r\n            return false;\r\n        }\r\n\r\n        for (i = 0; i < jqxIndices.length; i++) {\r\n            if (jqxIndices[i] !== parsedIndices[i]) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectionMode',\r\n            defaultValue: SELECTION_MODE_ENUM.ONE\r\n        });\r\n    };\r\n\r\n    proto.updateSelectionMode = function (jqref) {\r\n        var settings = {\r\n            multiple: this.selectionMode !== SELECTION_MODE_ENUM.ONE\r\n        };\r\n\r\n        jqref.jqxListBox(settings);\r\n    };\r\n\r\n    proto.coerceSelection = function (jqref) {\r\n        var selectedIndex = JSON.parse(this.selectedIndex);\r\n        var items = getJqxListBoxSelectedIndices(jqref);\r\n        var newSelection = items.filter(function (a) {\r\n            return selectedIndex.indexOf(a) === -1;\r\n        });\r\n        var revertSelection = (items.length > 1 && (this.selectionMode === SELECTION_MODE_ENUM.ONE || this.selectionMode === SELECTION_MODE_ENUM.ZERO_OR_ONE)) ||\r\n                              (items.length === 0 && (this.selectionMode === SELECTION_MODE_ENUM.ONE || this.selectionMode === SELECTION_MODE_ENUM.ONE_OR_MORE));\r\n        var firstSelectedIndex, coercedSelectedIndices, src, firstValidIndexArray;\r\n        if (revertSelection) {\r\n            src = JSON.parse(this.source);\r\n            firstValidIndexArray = Array.isArray(src) && src.length > 0 ? [0] : [];\r\n            if (newSelection.length > 0) {\r\n                firstSelectedIndex = [newSelection[0]];\r\n            } else {\r\n                firstSelectedIndex = selectedIndex.length > 0 ? [selectedIndex[0]] : [];\r\n            }\r\n\r\n            switch (this.selectionMode) {\r\n                case SELECTION_MODE_ENUM.ZERO_OR_ONE:\r\n                    coercedSelectedIndices = firstSelectedIndex;\r\n                    break;\r\n                case SELECTION_MODE_ENUM.ONE:\r\n                    coercedSelectedIndices = firstSelectedIndex.length === 1 ? firstSelectedIndex : firstValidIndexArray;\r\n                    break;\r\n                case SELECTION_MODE_ENUM.ONE_OR_MORE:\r\n                    coercedSelectedIndices = selectedIndex.length > 0 ? selectedIndex : firstValidIndexArray;\r\n                    break;\r\n            }\r\n\r\n            setJqxListBoxSelectedIndices(jqref, coercedSelectedIndices);\r\n        } else {\r\n            this.selectedIndex = JSON.stringify(items);\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.fontSize = $(this).css('font-size');\r\n            childElement.style.fontFamily = $(this).css('font-family');\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            widgetSettings.source = JSON.parse(this.source);\r\n            jqref.jqxListBox(widgetSettings);\r\n            setJqxListBoxSelectedIndices(jqref, this.selectedIndex);\r\n            this.updateSelectionMode(jqref);\r\n            jqref.on('change', function () {\r\n                if (!selectedIndicesMatch(jqref, that.selectedIndex)) {\r\n                    that.coerceSelection(jqref);\r\n                }\r\n            });\r\n\r\n            // Add CSS class names\r\n            jqref.addClass('ni-list-box-container');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxListBox(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                jqref.jqxListBox({ source: JSON.parse(this.source) });\r\n                break;\r\n            case 'selectedIndex':\r\n                if (!selectedIndicesMatch(jqref, this.selectedIndex)) {\r\n                    setJqxListBoxSelectedIndices(jqref, JSON.parse(this.selectedIndex));\r\n                }\r\n\r\n                break;\r\n            case 'selectionMode':\r\n                this.updateSelectionMode(jqref);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-list-box', 'HTMLNIListBox');\r\n}(NationalInstruments.HtmlVI.Elements.ListBox, NationalInstruments.HtmlVI.Elements.Selector));\r\n","//**************************************\r\n//Cluster Control Prototype\r\n// DOM Registration: No\r\n//National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Cluster = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NI_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '{}',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            preventAttributeSync: true,\r\n            isElementValueProperty: true\r\n        });\r\n    };\r\n\r\n    proto.makeValueObj = function () {\r\n        var i;\r\n        var valueObj = {};\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            if (this.childNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && this.childNodes[i].tagName !== 'NI-LABEL' && this.childNodes[i].elementInfo.valuePropertyDescriptor !== undefined) {\r\n                var propertyName = this.childNodes[i].elementInfo.valuePropertyDescriptor.propertyName;\r\n                valueObj[this.childNodes[i].dataLabel] = this.getValue(this.childNodes[i], propertyName);\r\n            }\r\n        }\r\n\r\n        return valueObj;\r\n    };\r\n\r\n    proto.childChanged = function (evt) {\r\n        if (evt.srcElement === evt.target && this._childValueChanging === false) {\r\n            var valueObj = this.makeValueObj();\r\n            this._childValueChanging = true;\r\n            this.value = JSON.stringify(valueObj);\r\n            this._childValueChanging = false;\r\n        }\r\n    };\r\n\r\n    proto.addPropertyToValue = function (name, value) {\r\n        var valueObj = JSON.parse(this.value);\r\n        valueObj[name] = value;\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.removePropertyFromValue = function (name) {\r\n        var valueObj = JSON.parse(this.value);\r\n        delete valueObj[name];\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.changePropertyNameInValue = function (oldName, newName) {\r\n        var valueObj = JSON.parse(this.value);\r\n        var temp = valueObj[oldName];\r\n        delete valueObj[oldName];\r\n        valueObj[newName] = temp;\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Private Instance Properties\r\n        this._childValueChanging = false;\r\n        this._mutationObserver = null;\r\n        this._mutationLabelObserver = null;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var that = this, i;\r\n        var callChildChanged = function (evt) {\r\n            that.childChanged(evt);\r\n        };\r\n\r\n        if (firstCall) {\r\n            this._mutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'childList') {\r\n                        if (m.target === that) {\r\n                            if (m.addedNodes.length > 0) {\r\n                                for (i = 0; i < m.addedNodes.length; i++) {\r\n                                    if (m.addedNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && m.addedNodes[i].tagName === 'NI-LABEL') {\r\n                                        that.applyLabel(m.addedNodes[i]);\r\n                                    }\r\n                                }\r\n                            } else if (m.removedNodes.length > 0) {\r\n                                for (i = 0; i < m.removedNodes.length; i++) {\r\n                                    var removed = m.removedNodes[i];\r\n                                    if (removed instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && removed.tagName !== 'NI-LABEL' && removed.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                                        var eventName = removed.elementInfo.valuePropertyDescriptor.eventName;\r\n                                        removed.removeEventListener(eventName, callChildChanged);\r\n                                        that.removePropertyFromValue(removed.dataLabel);\r\n                                    } else if (removed instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && removed.tagName === 'NI-LABEL') {\r\n                                        if (removed.textMutationObserver !== null) {\r\n                                            if (typeof removed.textMutationObserver.disconnect === 'function') {\r\n                                                removed.textMutationObserver.disconnect();\r\n                                            }\r\n\r\n                                            removed.textMutationObserver = null;\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (this._mutationObserver.observe !== undefined) {\r\n                this._mutationObserver.observe(this, { childList: true, attributes: false, subtree: false });\r\n            }\r\n\r\n            for (i = 0; i < this.childNodes.length; i++) {\r\n                var child = this.childNodes[i];\r\n                if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName === 'NI-LABEL') {\r\n                    that.applyLabel(child);\r\n                }\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        var i;\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        if (this._mutationObserver !== null) {\r\n            if (typeof this._mutationObserver.disconnect === 'function') {\r\n                this._mutationObserver.disconnect();\r\n            }\r\n\r\n            this._mutationObserver = null;\r\n        }\r\n\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName === 'NI-LABEL') {\r\n                if (child.textMutationObserver !== null) {\r\n                    if (typeof child.textMutationObserver.disconnect === 'function') {\r\n                        child.textMutationObserver.disconnect();\r\n                    }\r\n\r\n                    child.textMutationObserver = null;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                if (this.value !== '{}' && this._childValueChanging === false) {\r\n                    this.updateChildValues();\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.updateChildValues = function () {\r\n        var i = 0;\r\n        var valueObj = JSON.parse(this.value);\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName !== 'NI-LABEL' && child.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                var descriptor = child.elementInfo.valuePropertyDescriptor.propertyName;\r\n                if (valueObj[child.dataLabel] !== undefined) {\r\n                    this._childValueChanging = true;\r\n                    this.setValue(child, descriptor, valueObj[child.dataLabel]);\r\n                    this._childValueChanging = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.applyLabel = function (label) {\r\n        var that = this;\r\n        if (label.text !== '') {\r\n            this.updateLabel(label, null);\r\n        }\r\n\r\n        if (label.textMutationObserver === undefined) {\r\n            label.textMutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'attributes') {\r\n                        if (m.target === label && m.attributeName === 'text') {\r\n                            that.updateLabel(label, m.oldValue);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (label.textMutationObserver.observe !== undefined) {\r\n                label.textMutationObserver.observe(label, { childList: false, attributes: true, subtree: false });\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateLabel = function (label, oldValue) {\r\n        var text = label.text;\r\n        var controlId = label.niControlId;\r\n        var i;\r\n        var that = this;\r\n        var callChildChanged = function (evt) {\r\n            that.childChanged(evt);\r\n        };\r\n\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child.labelId === controlId) {\r\n                child.dataLabel = text;\r\n                if (child.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                    var propertyName = child.elementInfo.valuePropertyDescriptor.propertyName;\r\n                    var eventName = child.elementInfo.valuePropertyDescriptor.eventName;\r\n                    if (oldValue === null) {\r\n                        this.addPropertyToValue(text, this.getValue(child, propertyName));\r\n                    } else {\r\n                        this.changePropertyNameInValue(oldValue, text);\r\n                    }\r\n\r\n                    if (child.dataEventListenerAdded === undefined) {\r\n                        child.addEventListener(eventName, callChildChanged);\r\n                        child.dataEventListenerAdded = true;\r\n                    }\r\n                }\r\n\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getValue = function (element, propertyName) {\r\n        var value = element[propertyName],\r\n            convertedValue = NI_VAL_CONVERTER.ConvertBack(element, value);\r\n        return convertedValue;\r\n    };\r\n\r\n    proto.setValue = function (element, propertyName, value) {\r\n        var convertedValue = NI_VAL_CONVERTER.Convert(element, value);\r\n        element[propertyName] = convertedValue;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cluster', 'HTMLNICluster');\r\n}(NationalInstruments.HtmlVI.Elements.Cluster, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n// ArrayViewer Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ArrayViewer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NI_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var CSS_PROPERTIES = ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'width', 'height', 'left', 'top'];\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Gets a CSS selector for an NI visual. Note: The selector will only represent this element, it won't\r\n    // walk up the DOM hierarchy. To get a complete selector (that can represent a control in an array in a cluster\r\n    // in an array, for example), use getFullCssSelectorForNIVisual.\r\n    var getCssSelectorForNIVisual = function (element, isInArrayTemplate, isLastElement) {\r\n        var selector = element.tagName, parent = element.parentElement, i, n, curNode;\r\n        if (parent instanceof NationalInstruments.HtmlVI.Elements.Cluster) {\r\n            n = 1;\r\n            for (i = 0; i < parent.childNodes.length; i++) {\r\n                curNode = parent.childNodes[i];\r\n                if (curNode === element) {\r\n                    break;\r\n                } else if (curNode.tagName === element.tagName) {\r\n                    n++;\r\n                }\r\n            }\r\n\r\n            selector = selector + ':nth-of-type(' + n + ')';\r\n        }\r\n\r\n        if (!isInArrayTemplate && element.niControlId !== undefined) {\r\n            selector = selector + '[ni-control-id=\\'' + element.niControlId + '\\']';\r\n        }\r\n\r\n        if (element instanceof NationalInstruments.HtmlVI.Elements.ArrayViewer && isLastElement !== true) {\r\n            if (isInArrayTemplate) {\r\n                selector = selector + ' > div > div > div > div > table > tbody > tr > td > div.jqx-array-element';\r\n            } else {\r\n                selector = selector + ' div.jqx-array-element-' + element.childElement.id;\r\n            }\r\n        }\r\n\r\n        return selector;\r\n    };\r\n\r\n    // Gets a full CSS selector for an NI Visual inside an array.\r\n    // Note: The input arrayViewer should be the outermost / root one, for array-in-array\r\n    // scenarios.\r\n    var getFullCssSelectorForNIVisual = function (arrayViewer, targetElement) {\r\n        var targetAndDescendants = [], curNode = targetElement;\r\n        var selector;\r\n\r\n        while (curNode !== arrayViewer && curNode !== null) {\r\n            targetAndDescendants.push(curNode);\r\n            curNode = curNode.parentElement;\r\n        }\r\n\r\n        if (curNode === null) {\r\n            return null;\r\n        }\r\n\r\n        selector = getCssSelectorForNIVisual(arrayViewer, false, targetAndDescendants.length === 0);\r\n\r\n        while (targetAndDescendants.length > 0) {\r\n            curNode = targetAndDescendants.pop();\r\n            selector = selector.concat(' > ', getCssSelectorForNIVisual(curNode, true, targetAndDescendants.length === 0));\r\n        }\r\n\r\n        return selector;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]',\r\n            addNonSignalingProperty: true,\r\n            preventAttributeSync: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'dimensions',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'indexEditorWidth',\r\n            defaultValue: 46\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'indexVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'verticalScrollbarVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'horizontalScrollbarVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'focusedCell',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowsAndColumns',\r\n            defaultValue: '1,1'\r\n        });\r\n    };\r\n\r\n    proto.getFullCssSelectorForNIVisual = function (targetElement) {\r\n        return getFullCssSelectorForNIVisual(this, targetElement);\r\n    };\r\n\r\n    proto.arrayElementSizeChanged = function (elementSize) {\r\n        var controls, i, niControl, cssWidth, cssHeight;\r\n        var width = elementSize.width;\r\n        var height = elementSize.height;\r\n\r\n        if (width === this._elementWidth && height === this._elementHeight) {\r\n            return;\r\n        }\r\n\r\n        this._elementWidth = width;\r\n        this._elementHeight = height;\r\n\r\n        cssWidth = width + 'px';\r\n        cssHeight = height + 'px';\r\n\r\n        this.nodeCss[this.templateControl.niControlId].width = cssWidth;\r\n        this.nodeCss[this.templateControl.niControlId].height = cssHeight;\r\n\r\n        $(this.childElement).jqxArray('resizeElement', width, height);\r\n\r\n        controls = document.querySelectorAll(getCssSelectorForNIVisual(this, false));\r\n        for (i = 0; i < controls.length; i++) {\r\n            niControl = controls[i].firstElementChild;\r\n            niControl.style.width = cssWidth;\r\n            niControl.style.height = cssHeight;\r\n        }\r\n    };\r\n\r\n    proto.setArrayValue = function (val) {\r\n        if (this._settingArrayValue === true) {\r\n            return;\r\n        }\r\n\r\n        this._settingArrayValue = true;\r\n        // When array becomes type=none, code gets triggered to set the value to null. But ni-array-viewer defaults to [] instead,\r\n        // so we use that. The jqxArray has some issues if it has a type set but a value of null (possible because when we reinitialize\r\n        // it, if arrayValue=null then, we'd change the jqxArray value to null too)\r\n        this.arrayValue = val !== null ? val : [];\r\n\r\n        if (this._userUpdate) {\r\n            this.dispatchEvent(new CustomEvent('value-changed', {\r\n                bubbles: true,\r\n                cancelable: false,\r\n                detail: { value: val }\r\n            }));\r\n        } else if (this.childElement !== null) {\r\n            $(this.childElement).jqxArray({ value: this.arrayValue });\r\n        }\r\n\r\n        this._settingArrayValue = false;\r\n    };\r\n\r\n    proto.getArrayValue = function () {\r\n        return this.arrayValue;\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        var that = this;\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.childElement = null;\r\n        this.arrayValue = JSON.parse(this.value);\r\n        this.nodeCss = {};\r\n        this.templateControl = null;\r\n        this.mutationObserver = null;\r\n        this.attributeMutationObserver = null;\r\n        Object.defineProperty(this, 'elementSize', {\r\n            configurable: false,\r\n            enumerable: true,\r\n            get: function () {\r\n                return { width: this._elementWidth, height: this._elementHeight };\r\n            },\r\n            set: function (value) {\r\n                that.arrayElementSizeChanged(value);\r\n            }\r\n        });\r\n        this.rows = 1;\r\n        this.columns = 1;\r\n        // Private Instance Properties\r\n        this._userUpdate = false;\r\n        this._settingArrayValue = false;\r\n        this._useAttributeMutationObserver = true;\r\n        this._elementWidth = 0;\r\n        this._elementHeight = 0;\r\n        this._nodeLabelMap = [];\r\n    };\r\n\r\n    proto.clearArrayType = function (wasInitialized) {\r\n        if (wasInitialized) {\r\n            // We'll set size separately (the editor computes it, and it'll come here via forceResize)\r\n            $(this.childElement).jqxArray({\r\n                type: 'none',\r\n                dimensions: this.dimensions,\r\n                indexerWidth: this.indexEditorWidth,\r\n                showIndexDisplay: this.indexVisibility\r\n            });\r\n        } else {\r\n            $(this.childElement).jqxArray({\r\n                width : this.style.width,\r\n                height : this.style.height,\r\n                type: 'none',\r\n                dimensions: this.dimensions,\r\n                indexerWidth: this.indexEditorWidth,\r\n                showIndexDisplay: this.indexVisibility\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        if (this.templateControl === null) {\r\n            $(this.childElement).jqxArray({\r\n                width: size.width + 'px',\r\n                height: size.height + 'px'\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall) {\r\n            var node = null, i;\r\n            var that = this;\r\n\r\n            this.parseRowsAndColumns();\r\n\r\n            for (i = 0; i < this.childNodes.length; i++) {\r\n                if (this.childNodes[i].tagName !== 'NI-LABEL') {\r\n                    node = this.childNodes[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.childElement = document.createElement('div');\r\n            this.appendChild(this.childElement);\r\n            if (node !== null) {\r\n                if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent && $(node).width() > 0 && $(node).height() > 0) {\r\n                    this.createArray(node);\r\n                } else {\r\n                    window.requestAnimationFrame(function () {\r\n                        that.createArray(node);\r\n                    });\r\n                }\r\n            } else {\r\n                this.clearArrayType(false);\r\n            }\r\n\r\n            var mutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'childList') {\r\n                        if (m.target === that) {\r\n                            mutationObserver.disconnect();\r\n                            if (m.addedNodes.length === 1 && m.addedNodes[0] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && m.addedNodes[0].tagName !== 'NI-LABEL') { // can only accept one child\r\n                                node = m.addedNodes[0];\r\n                                $(node).addClass('array-template');\r\n                                that.createArray(node);\r\n                            } else if (m.removedNodes.length > 0 && m.removedNodes[0] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true) {\r\n                                that.templateControl = null;\r\n                                that.clearArrayType(true);\r\n                            }\r\n\r\n                            if (mutationObserver.observe !== undefined) {\r\n                                mutationObserver.observe(that, { childList: true, attributes: false, subtree: false });\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (mutationObserver.observe !== undefined) {\r\n                mutationObserver.observe(this, { childList: true, attributes: false, subtree: false });\r\n            }\r\n\r\n            this.mutationObserver = mutationObserver;\r\n\r\n            $(this.childElement).on('change', function () {\r\n                that._userUpdate = true;\r\n                that.setArrayValue($(that.childElement).val());\r\n                that._userUpdate = false;\r\n            });\r\n            $(this.childElement).on('scroll', function () {\r\n                var indices = $(that.childElement).jqxArray('getIndexerValue');\r\n                var eventConfig = {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        indices: indices,\r\n                        originalSource: this.childElement\r\n                    }\r\n                };\r\n                that.dispatchEvent(new CustomEvent('scroll-changed', eventConfig));\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        if (this.mutationObserver !== null) {\r\n            if (typeof this.mutationObserver.disconnect === 'function') {\r\n                this.mutationObserver.disconnect();\r\n            }\r\n\r\n            this.mutationObserver = null;\r\n        }\r\n\r\n        this.templateControl = null;\r\n    };\r\n\r\n    proto.updateFromTemplate = function (control, node, updatePosition) {\r\n        var i, j, nodeCss;\r\n        control.niControlId = NI_SUPPORT.uniqueId();\r\n        control._preventModelCreation = true;\r\n        control.visible = true;\r\n        nodeCss = this.nodeCss[node.niControlId];\r\n        if (nodeCss === undefined) {\r\n            nodeCss = $(node).css(CSS_PROPERTIES);\r\n            this.nodeCss[node.niControlId] = nodeCss;\r\n        }\r\n\r\n        control.style.width = nodeCss.width;\r\n        control.style.height = nodeCss.height;\r\n        control.style.display = 'inline-block';\r\n        if (updatePosition) {\r\n            control.style.left = nodeCss.left;\r\n            control.style.top = nodeCss.top;\r\n        } else {\r\n            control.style.left = '';\r\n            control.style.top = '';\r\n        }\r\n\r\n        control.style.fontSize = nodeCss.fontSize;\r\n        control.style.fontFamily = nodeCss.fontFamily;\r\n        control.style.fontWeight = nodeCss.fontWeight;\r\n        control.style.fontStyle = nodeCss.fontStyle;\r\n        j = 0;\r\n        for (i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && control.childNodes[j] !== undefined) {\r\n                this.updateFromTemplate(control.childNodes[j], node.childNodes[i], true);\r\n\r\n                if (node.childNodes[i].tagName === 'NI-LABEL') {\r\n                    this._nodeLabelMap[node.childNodes[i].niControlId] = control.childNodes[j].niControlId;\r\n                }\r\n\r\n                j++;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateLabelIds = function (node) {\r\n        var i, label;\r\n        if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            return null;\r\n        }\r\n\r\n        for (i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i].tagName !== 'NI-LABEL') {\r\n                label = this._nodeLabelMap[node.childNodes[i].labelId];\r\n                if (label === undefined) { // This can be unset when we recurse into an array viewer - its template element doesn't have a label\r\n                    label = '';\r\n                }\r\n\r\n                node.childNodes[i].labelId = label;\r\n                this.updateLabelIds(node.childNodes[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.copyNIElement = function (node) {\r\n        if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            return null;\r\n        }\r\n\r\n        var newNode = node.cloneNode(false);\r\n        // niTemplate should always be a 'real' / original niControlId (a number). This allows us to look up\r\n        // the real / original template control from all of our copies (for array elements and nested arrays).\r\n        newNode._niTemplateId = node._niTemplateId !== undefined ? node._niTemplateId : node.niControlId;\r\n        if (node.childNodes.length > 0) {\r\n            for (var i = 0; i < node.childNodes.length; i++) {\r\n                var childNode = this.copyNIElement(node.childNodes[i]);\r\n                if (childNode !== null) {\r\n                    newNode.appendChild(childNode);\r\n                }\r\n            }\r\n        }\r\n\r\n        return newNode;\r\n    };\r\n\r\n    proto.updateTemplateCss = function (templateDescendant) {\r\n        var curNodeCss = $(templateDescendant).css(CSS_PROPERTIES);\r\n        this.nodeCss[templateDescendant.niControlId] = curNodeCss;\r\n    };\r\n\r\n    proto.recreateCells = function (fullRefresh) {\r\n        var r, c, cell, that = this;\r\n\r\n        var recreateCell = function (r, c) {\r\n            var val, cellSelector;\r\n            cell = $(that.childElement).jqxArray('getElement', r, c);\r\n            if (cell !== null && cell !== undefined) {\r\n                cellSelector = $(cell);\r\n                val = $(that.childElement).jqxArray('getElementValue', cellSelector, { x: c, y: r });\r\n                while (cell.hasChildNodes()) {\r\n                    cell.removeChild(cell.lastChild);\r\n                }\r\n\r\n                $(that.childElement).jqxArray('elementTemplate', cellSelector);\r\n                $(that.childElement).jqxArray('setElementValue', val, cellSelector, { x: c, y: r });\r\n            }\r\n        };\r\n\r\n        if (fullRefresh) {\r\n            for (r = 0; r < this.rows; r++) {\r\n                for (c = 0; c < this.columns; c++) {\r\n                    recreateCell(r, c);\r\n                }\r\n            }\r\n        } else if (this._focusedColumn !== undefined && this._focusedRow !== undefined) {\r\n            recreateCell(this._focusedRow, this._focusedColumn);\r\n        }\r\n\r\n        window.requestAnimationFrame(function () {\r\n            that.updateFocusedCell();\r\n        });\r\n    };\r\n\r\n    proto.setDefaultValue = function (modelValue) {\r\n        $(this.childElement).jqxArray('setDefaultValue', modelValue);\r\n    };\r\n\r\n    proto.createArray = function (node) {\r\n        var that = this;\r\n        var elementInfo = node.elementInfo;\r\n        var propertyName = elementInfo.valuePropertyDescriptor.propertyName;\r\n        var eventName = elementInfo.valuePropertyDescriptor.eventName;\r\n        var nonSignalingPropertyName = elementInfo.valuePropertyDescriptor.propertyNameNonSignaling;\r\n        var defaultValue = node[propertyName];\r\n        var curNodeCss;\r\n        node.style.left = '0px';\r\n        node.style.top = '0px';\r\n        node.style.display = 'none';\r\n\r\n        node.labelId = '';\r\n        this.templateControl = node;\r\n\r\n        if (defaultValue !== undefined) {\r\n            defaultValue = NI_VAL_CONVERTER.ConvertBack(node, defaultValue);\r\n        }\r\n\r\n        this.nodeCss = {};\r\n        curNodeCss = $(node).css(CSS_PROPERTIES);\r\n        this.nodeCss[node.niControlId] = curNodeCss;\r\n\r\n        this._elementWidth = parseInt(curNodeCss.width);\r\n        this._elementHeight = parseInt(curNodeCss.height);\r\n\r\n        $(this.childElement).jqxArray({\r\n            elementWidth: this._elementWidth,\r\n            elementHeight: this._elementHeight,\r\n            elementTemplate: function (div) {\r\n                that._nodeLabelMap = [];\r\n                var control = that.copyNIElement(node);\r\n                var divElement = div[0];\r\n                var curNodeCss = that.nodeCss[node.niControlId];\r\n                that.updateFromTemplate(control, node, false);\r\n                that.updateLabelIds(control);\r\n                divElement.style.width = curNodeCss.width;\r\n                divElement.style.height = curNodeCss.height;\r\n                divElement.appendChild(control);\r\n                $(control).on(eventName, function (event) {\r\n                    if (event.originalEvent.srcElement === control && event.originalEvent.srcElement === event.originalEvent.target) {\r\n                        if (!div.supressChange) {\r\n                            div.trigger('change');\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            changeProperty: function (property, value, widgets) {\r\n                if (property === 'width') {\r\n                    widgets.css({ width: value });\r\n                } else if (property === 'height') {\r\n                    widgets.css({ height: value });\r\n                } else if (property === 'disabled') {\r\n                    widgets.css({ disabled: value });\r\n                }\r\n            },\r\n            getElementValue: function (div, dimensions) {\r\n                // jshint unused:vars\r\n                var element = div[0].firstElementChild;\r\n                var val = element[propertyName];\r\n                if (val !== undefined) {\r\n                    return NI_VAL_CONVERTER.ConvertBack(element, val);\r\n                }\r\n\r\n                return val;\r\n            },\r\n            setElementValue: function (value, div, dimensions) {\r\n                // jshint unused:vars\r\n                if (value !== undefined) {\r\n                    var element = div[0].firstElementChild;\r\n                    element[nonSignalingPropertyName] = NI_VAL_CONVERTER.Convert(element, value);\r\n                }\r\n            },\r\n            type: 'custom',\r\n            dimensions: this.dimensions,\r\n            indexerWidth: this.indexEditorWidth,\r\n            showIndexDisplay: this.indexVisibility,\r\n            showHorizontalScrollbar: this.horizontalScrollbarVisibility,\r\n            showVerticalScrollbar: this.verticalScrollbarVisibility,\r\n            customWidgetDefaultValue: defaultValue,\r\n            value: that.arrayValue\r\n        });\r\n        // TODO : We'd like to be able to send rows and columns in the same\r\n        // jqxArray statement as above. However, this causes issues when you have\r\n        // an initialized array (with > 1 rows or columns), delete the array element,\r\n        // then undo (there's extra cells rendered that shouldn't be there).\r\n        $(this.childElement).jqxArray({\r\n            rows: this.rows,\r\n            columns: this.columns\r\n        });\r\n\r\n        // Adding CSS class names\r\n        var jqref = $(this.childElement);\r\n        jqref.addClass('ni-array-viewer-box');\r\n        jqref.find(' .jqx-array-indexer').addClass('ni-indexer-box');\r\n        jqref.find(' .jqx-input-content').addClass('ni-text-field');\r\n        jqref.find(' .jqx-input.jqx-rc-r').addClass('ni-spins-box');\r\n        jqref.find(' .jqx-action-button').addClass('ni-spin-button');\r\n        jqref.find(' .jqx-icon-arrow-up').addClass('ni-increment-icon');\r\n        jqref.find(' .jqx-icon-arrow-down').addClass('ni-increment-icon');\r\n\r\n        this.updateFocusedCell();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'dimensions':\r\n                $(this.childElement).jqxArray({ dimensions: this.dimensions });\r\n                break;\r\n            case 'indexEditorWidth':\r\n                $(this.childElement).jqxArray({ indexerWidth: this.indexEditorWidth });\r\n                break;\r\n            case 'indexVisibility':\r\n                $(this.childElement).jqxArray({ showIndexDisplay: this.indexVisibility });\r\n                break;\r\n            case 'verticalScrollbarVisibility':\r\n                $(this.childElement).jqxArray({ showVerticalScrollbar: this.verticalScrollbarVisibility });\r\n                break;\r\n            case 'horizontalScrollbarVisibility':\r\n                $(this.childElement).jqxArray({ showHorizontalScrollbar: this.horizontalScrollbarVisibility });\r\n                break;\r\n            case 'orientation':\r\n                break;\r\n            case 'focusedCell':\r\n                this.updateFocusedCell();\r\n                break;\r\n            case 'rowsAndColumns':\r\n                this.updateRowsAndColumns();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.updateFocusedCell = function () {\r\n        var indices, i, curCell, matches, templateMatch, r, c;\r\n\r\n        if (this.templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        if (typeof this.focusedCell === 'string' && this.focusedCell.length > 0) {\r\n            indices = this.focusedCell.split(',');\r\n            if (indices.length === 2) {\r\n                r = parseInt(indices[0]);\r\n                c = parseInt(indices[1]);\r\n                this._focusedRow = r;\r\n                this._focusedColumn = c;\r\n\r\n                curCell = $(this.childElement).jqxArray('getElement', r, c);\r\n                if (curCell === undefined || curCell === null) {\r\n                    // We can get a focused cell index from C# that hasn't yet been created. In this case, we'll do the code below later\r\n                    // (updateRowsAndColumns also triggers this)\r\n                    return;\r\n                }\r\n\r\n                matches = curCell.querySelectorAll('[ni-control-id]');\r\n                for (i = 0; i < matches.length; i++) {\r\n                    if (matches[i]._niTemplateId !== undefined) {\r\n                        templateMatch = document.querySelector('[ni-control-id=\\'' + matches[i]._niTemplateId + '\\']');\r\n                        if (templateMatch !== null) {\r\n                            templateMatch._niFocusedCloneId = matches[i].niControlId;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        this._focusedRow = undefined;\r\n        this._focusedColumn = undefined;\r\n        matches = Array.prototype.slice.call(this.templateControl.querySelectorAll('[ni-control-id]'));\r\n        matches.push(this.templateControl);\r\n        for (i = 0; i < matches.length; i++) {\r\n            matches[i]._niFocusedCloneId = undefined;\r\n        }\r\n    };\r\n\r\n    proto.parseRowsAndColumns = function () {\r\n        var indices;\r\n        if (typeof this.rowsAndColumns === 'string' && this.rowsAndColumns.length > 0) {\r\n            indices = this.rowsAndColumns.split(',');\r\n            if (indices.length === 2) {\r\n                this.rows = parseInt(indices[0]);\r\n                this.columns = parseInt(indices[1]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateRowsAndColumns = function () {\r\n        var oldRows, oldColumns;\r\n\r\n        this.parseRowsAndColumns();\r\n\r\n        // We can get a rows and columns update when we don't have an array element (if you undo the delete of an array element, there'll be separate\r\n        // messages: first to put back the old rows and columns value, then to put back the array element. So don't update the jqxArray if we don't\r\n        // have an array element (createArray will also set rows and columns).\r\n        if (this.templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        oldRows = $(this.childElement).jqxArray('rows');\r\n        oldColumns = $(this.childElement).jqxArray('columns');\r\n\r\n        if (this.rows !== oldRows || this.columns !== oldColumns) {\r\n            if ($(this.childElement).val() === null) {\r\n                // Nested arrays can end up with a null value, triggering an error in the jqxArray when you resize that nested array.\r\n                // TODO : Track down why this happens\r\n                $(this.childElement).jqxArray({ value: [] });\r\n            }\r\n\r\n            $(this.childElement).jqxArray({ rows: this.rows, columns: this.columns });\r\n        }\r\n\r\n        this.updateFocusedCell();\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-array-viewer', 'HTMLNIArrayViewer');\r\n}(NationalInstruments.HtmlVI.Elements.ArrayViewer, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Data Grid\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DataGrid = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Properties\r\n    var DEFAULT_ROW_HEIGHT = 22;\r\n    var ID_DATAFIELD = '_id'; // The column datafield name for the 'id' column that shows the row index\r\n    var STRING_TEMPLATE_TYPE = 'NI-STRING-CONTROL';\r\n    var NUMERIC_TEMPLATE_TYPE = 'NI-NUMERIC-TEXT-BOX';\r\n    var CHECKBOX_TEMPLATE_TYPE = 'NI-CHECK-BOX';\r\n    var LED_TEMPLATE_TYPE = 'NI-BOOLEAN-LED';\r\n    var SLIDER_TEMPLATE_TYPE = 'NI-SLIDER';\r\n    var PROGRESSBAR_TEMPLATE_TYPE = 'NI-LINEAR-PROGRESS-BAR';\r\n    var DROPDOWN_TEMPLATE_TYPE = 'NI-DROP-DOWN';\r\n    var JQX_MATH = new $.jqx.math();\r\n\r\n    // Static Private Functions\r\n\r\n    // Utility\r\n    var getFalseValue = function () {\r\n        return false;\r\n    };\r\n\r\n    var getElementHeight = function (elementSelector) {\r\n        if (elementSelector.length > 0) {\r\n            var element = elementSelector[0];\r\n            if (element.style.display !== 'none' && element.style.visibility !== 'hidden') {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    };\r\n\r\n    var getAltRowSettings = function (start, step) {\r\n        // We want Alt Start Index (the property that this element defines) to mean that the row at that index is the first\r\n        // one in the alt color. The jqxGrid defines it differently (if rowindex > altstart && ((altstart + i) % (1 + altstep) == 0)).\r\n        // We want (i - altstart) % (1 + altstep) == 0.\r\n        // So basically we'd just need to negate startIndex, except that would mean the first colored row starts too early. So we add to that\r\n        // based on multiples of the step size.\r\n        var altstart = -start + Math.floor(2 * start / (step + 1)) * (step + 1);\r\n        return {\r\n            altstep: step,\r\n            altstart: altstart\r\n        };\r\n    };\r\n\r\n    // Column Widgets\r\n    var initJqxColumnWidget = function (dataGrid, row, column, value, cellElement) {\r\n        var rowindex = (typeof row === 'number') ? row : row.visibleindex;\r\n        var datafield = (typeof column === 'string') ? column : column.datafield;\r\n        var niElement = cellElement.firstElementChild;\r\n        niElement._dataGridRow = rowindex;\r\n        niElement._dataGridColumn = datafield;\r\n        columnTypeHelpers[niElement.nodeName].setWidgetValue(niElement, value);\r\n    };\r\n\r\n    var createJqxColumnWidget = function (dataGrid, row, column, value, cellElement) {\r\n        if (!cellElement.firstElementChild) {\r\n            var columnIndex = column.datafield;\r\n            var niColumn = dataGrid.columns[columnIndex];\r\n            var templateControl = niColumn.firstElementChild;\r\n            var templateType = templateControl.nodeName;\r\n            var columnTypeHelper = columnTypeHelpers[templateType];\r\n            var control = templateControl.cloneNode(false);\r\n\r\n            // TODO : Right now we need to clear the style, because the template control has a transform set on it that we\r\n            // don't want to clone. Long term, it would be nice not do this, in case the control has other style settings we\r\n            // do want to clone.\r\n            control.setAttribute('style', '');\r\n            var fontStyles;\r\n\r\n            // TODO mraj we also have to clear other properties added by niElementExtensions to prevent conflicts with modeling\r\n            control.clearExtensionProperties();\r\n\r\n            control._dataGridRow = row.visibleindex;\r\n            control._dataGridColumn = column.datafield;\r\n            control._preventModelCreation = true;\r\n            control.visible = true;\r\n            control.style.width = '100%';\r\n            control.style.height = '100%';\r\n            fontStyles = window.getComputedStyle(templateControl);\r\n            control.style.fontSize = fontStyles.fontSize;\r\n            control.style.fontFamily = fontStyles.fontFamily;\r\n            control.style.fontWeight = fontStyles.fontWeight;\r\n            control.style.fontStyle = fontStyles.fontStyle;\r\n            columnTypeHelper.setWidgetValue(control, value);\r\n            cellElement.appendChild(control);\r\n            if (typeof columnTypeHelper.configureWidget === 'function') {\r\n                columnTypeHelper.configureWidget(dataGrid, control, cellElement);\r\n            }\r\n\r\n            if (typeof columnTypeHelper.resize === 'function') {\r\n                control.attachedCallback(); // Force internal DOM to be initialized, since the resize code often assumes its already there\r\n                columnTypeHelper.resize(control, { width: niColumn.width, height: dataGrid.coercedRowHeight });\r\n            }\r\n        }\r\n    };\r\n\r\n    var initCustomColumnType = function (dataGrid, jqxColumn) {\r\n        jqxColumn.columntype = 'custom';\r\n        jqxColumn.createwidget = function (row, column, value, cellElement) {\r\n            createJqxColumnWidget(dataGrid, row, column, value, cellElement);\r\n        };\r\n\r\n        jqxColumn.initwidget = function (row, column, value, cellElement) {\r\n            initJqxColumnWidget(dataGrid, row, column, value, cellElement);\r\n        };\r\n\r\n        jqxColumn.cellbeginedit = getFalseValue;\r\n    };\r\n\r\n    var getAggregateStringValue = function (aggregate, val) {\r\n        var significantDigits = aggregate.significantDigits;\r\n        var precisionDigits = aggregate.precisionDigits;\r\n\r\n        if (aggregate.format === 'exponential') {\r\n            if (precisionDigits < 0) {\r\n                precisionDigits = undefined;\r\n            }\r\n\r\n            return JQX_MATH.getDecimalNotation(val, aggregate.format, precisionDigits, significantDigits);\r\n        }\r\n\r\n        if (significantDigits >= 0) {\r\n            return Number(val.toPrecision(significantDigits)).toString();\r\n        } else if (precisionDigits >= 0) {\r\n            return val.toFixed(precisionDigits);\r\n        } else {\r\n            throw new Error('Unexpected significantDigits / precisionDigits for column aggregate');\r\n        }\r\n    };\r\n\r\n    var aggregatesRenderer = function (aggregates, jqxAggregates) {\r\n        var first = true;\r\n        var alignment = '';\r\n        if (aggregates.horizontalAlignment !== undefined) {\r\n            alignment = ' style=\\'text-align:' + aggregates.horizontalAlignment + '\\'';\r\n        }\r\n\r\n        var renderstring = '<div class=\\'ni-aggregate-box\\'' + alignment + '>';\r\n        $.each(jqxAggregates, function (key, value) {\r\n            var aggregate = aggregates.items[key];\r\n            var label = aggregate.label;\r\n            if (label === undefined) {\r\n                label = '';\r\n            }\r\n\r\n            if (first) {\r\n                first = false;\r\n            } else {\r\n                renderstring += '<br />';\r\n            }\r\n\r\n            renderstring += '<strong>' + label + ':</strong> ' + getAggregateStringValue(aggregate, value);\r\n        });\r\n        renderstring += '</div>';\r\n        return renderstring;\r\n    };\r\n\r\n    // Support (column initialization, default values, value updating) for all supported column types\r\n\r\n    var addTemplateControlMutationObserver = function (dataGrid, column) {\r\n        var observer, observerConfig, columnTypeHelper, columnDataField;\r\n        var templateControl = column.firstElementChild;\r\n\r\n        if (templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        columnDataField = column.index.toString();\r\n        columnTypeHelper = columnTypeHelpers[templateControl.nodeName];\r\n        observer = new window.MutationObserver(function (mutations) {\r\n            var changedAttributes;\r\n            if (columnTypeHelper.templateControlAttributeChanged !== undefined) {\r\n                changedAttributes = {};\r\n                mutations.forEach(function (mutation) {\r\n                    var attrName = mutation.attributeName;\r\n                    if (attrName !== null) {\r\n                        changedAttributes[attrName] = true;\r\n                    }\r\n                });\r\n                columnTypeHelper.templateControlAttributeChanged(dataGrid, column, changedAttributes);\r\n            }\r\n        });\r\n\r\n        observerConfig = { attributes: true };\r\n        column._niColumnTemplateControlObserver = observer;\r\n        if (typeof observer.observe === 'function') {\r\n            observer.observe(templateControl, observerConfig);\r\n        }\r\n    };\r\n\r\n    var removeTemplateControlMutationObserver = function (column) {\r\n        var columnObserver = column._niColumnTemplateControlObserver;\r\n        if (columnObserver !== undefined && (typeof columnObserver.disconnect === 'function')) {\r\n            columnObserver.disconnect();\r\n            column._niColumnTemplateControlObserver = undefined;\r\n        }\r\n    };\r\n\r\n    var templateControlAttributeChangedNIElement = function (dataGrid, column, attributes) {\r\n        var columnDataField = column.index.toString();\r\n        var templateControl = column.firstElementChild;\r\n        if (templateControl === null) {\r\n            // It's possible that this mutation observer is triggered when the column has no control (e.g.\r\n            // changing the type of a numeric)\r\n            return;\r\n        }\r\n\r\n        var fontStyles, attrName, templateAttributeValues = {}, matchedControls, control, i;\r\n        for (attrName in attributes) {\r\n            if (attributes.hasOwnProperty(attrName)) {\r\n                if (attrName === 'style') {\r\n                    fontStyles = $(templateControl).css(['fontSize', 'fontFamily', 'fontWeight', 'fontStyle']);\r\n                } else if (templateControl.hasAttribute(attrName)) {\r\n                    templateAttributeValues[attrName] = templateControl.getAttribute(attrName);\r\n                }\r\n            }\r\n        }\r\n\r\n        matchedControls = dataGrid.jqref[0].querySelectorAll(templateControl.tagName);\r\n\r\n        for (i = 0; i < matchedControls.length; i++) {\r\n            control = matchedControls[i];\r\n            if (control._dataGridColumn === columnDataField) {\r\n                for (attrName in attributes) {\r\n                    if (attributes.hasOwnProperty(attrName)) {\r\n                        if (attrName === 'style') {\r\n                            control.setFont(fontStyles.fontSize, fontStyles.fontFamily, fontStyles.fontWeight, fontStyles.fontStyle);\r\n                        } else if (templateAttributeValues[attrName] !== undefined) {\r\n                            control.setAttribute(attrName, templateAttributeValues[attrName]);\r\n                        } else {\r\n                            control.removeAttribute(attrName);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    var addNumericValueChangedListener = function (dataGrid, widgetElement) {\r\n        widgetElement.addEventListener('value-changed', function (event) {\r\n            var modelValue = NUM_VAL_CONVERTER.convertBack(event.detail.value, widgetElement.valueType);\r\n            dataGrid.templateControlValueChanged(widgetElement, modelValue);\r\n        });\r\n    };\r\n\r\n    var keyDownStopPropagation = function (e) {\r\n        // This keydown handler is meant to be hooked up to template control\r\n        // types that use keyboard input (e.g. numeric text box and string).\r\n        // It prevents keydown events from bubbling up to the data grid.\r\n        // (The data grid has its own key listeners which interfere with\r\n        // the control's, otherwise.)\r\n        if (e.stopPropagation !== undefined) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n\r\n    var triggerResizeForWidget = function (element, size) {\r\n        element.dispatchEvent(new CustomEvent('resizeEventHack', { detail: size, bubbles: false }));\r\n    };\r\n\r\n    var columnTypeHelpers = {};\r\n\r\n    columnTypeHelpers[STRING_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            var type = typeof value;\r\n            if (type === 'string') {\r\n                niElement.textNonSignaling = value;\r\n            }\r\n        },\r\n        getDefaultValue: function () {\r\n            return '';\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.addEventListener('text-changed', function (evt) {\r\n                dataGrid.templateControlValueChanged(widgetElement, evt.detail.text);\r\n            });\r\n            widgetElement.addEventListener('keydown', keyDownStopPropagation, false);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[NUMERIC_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            niElement.valueNonSignaling = NUM_VAL_CONVERTER.convert(value, niElement.valueType);\r\n        },\r\n        resize: triggerResizeForWidget,\r\n        getDefaultValue: function (templateElement) {\r\n            var valueTypeAttr = templateElement.attributes['value-type'], valueType,\r\n                defaultValue = {stringValue: '0', numberValue: 0};\r\n            if (valueTypeAttr !== undefined) {\r\n                valueType = valueTypeAttr.value;\r\n            }\r\n\r\n            return NUM_VAL_CONVERTER.convertBack(defaultValue, valueType);\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            addNumericValueChangedListener(dataGrid, widgetElement);\r\n            widgetElement.addEventListener('keydown', keyDownStopPropagation, false);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[CHECKBOX_TEMPLATE_TYPE] = {\r\n        initializeColumn: function (dataGrid, jqxColumn) {\r\n            jqxColumn.columntype = 'checkbox';\r\n        },\r\n        getDefaultValue: getFalseValue\r\n    };\r\n\r\n    columnTypeHelpers[LED_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            if (typeof value === 'boolean') {\r\n                niElement.valueNonSignaling = value;\r\n            }\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.attachedCallback(); // Without attaching early here, detached can be called before attached and we hit errors in niUIActivityService.\r\n            widgetElement.addEventListener('value-changed', function (event) {\r\n                dataGrid.templateControlValueChanged(widgetElement, event.detail.value);\r\n            });\r\n        },\r\n        getDefaultValue: getFalseValue,\r\n        resize: function (element, size) {\r\n            var minDimension = Math.min(size.width, size.height) - 4; // -4 for 2*padding for LEDs in a data grid in our CSS\r\n            element.style.left = ((size.width - minDimension - 4) / 2) + 'px';\r\n            element.style.top = ((size.height - minDimension - 4) / 2) + 'px';\r\n            element.style.width = minDimension + 'px';\r\n            element.style.height = minDimension + 'px';\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[SLIDER_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: columnTypeHelpers[NUMERIC_TEMPLATE_TYPE].setWidgetValue,\r\n        getDefaultValue: columnTypeHelpers[NUMERIC_TEMPLATE_TYPE].getDefaultValue,\r\n        resize: function (element, size) {\r\n            var newSize = { width: size.width - 6, height: size.height }; // 6px is the same as margin-left for the ni-slider in a data grid in our CSS\r\n            triggerResizeForWidget(element, newSize);\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            addNumericValueChangedListener(dataGrid, widgetElement);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[PROGRESSBAR_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            var type = typeof value;\r\n            if (type === 'number') {\r\n                niElement.valueNonSignaling = value;\r\n            }\r\n        },\r\n        getDefaultValue: function () {\r\n            return 0;\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement\r\n    };\r\n\r\n    columnTypeHelpers[DROPDOWN_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            var type = typeof value;\r\n            if (type === 'number') {\r\n                niElement.selectedIndexNonSignaling = value;\r\n            }\r\n        },\r\n        getDefaultValue: function () {\r\n            return -1;\r\n        },\r\n        resize: triggerResizeForWidget,\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.addEventListener('selected-index-changed', function (evt) {\r\n                dataGrid.templateControlValueChanged(widgetElement, evt.detail.selectedIndex);\r\n            });\r\n        }\r\n    };\r\n\r\n    // Add Rows Tool Bar\r\n    var appendAddRowsToolbar = function (dataGrid) {\r\n        var innerDiv = $('<div style=\\'margin:5px;\\'></div>');\r\n        var rowCountInput = $('<div style=\\'display: inline-table; margin-right: 5px;\\' />');\r\n        innerDiv.append(rowCountInput);\r\n        innerDiv.append(dataGrid.addRowsLabel + ': ');\r\n        var addButton = $('<input type=\\'button\\' style=\\'margin-left: 2px;\\' />');\r\n        innerDiv.append(addButton);\r\n        var outerDiv = $('<div class=\\'ni-add-rows-toolbar\\'></div>');\r\n        outerDiv.append(innerDiv);\r\n        if (dataGrid.readOnly || !dataGrid.showAddRowsToolBar) {\r\n            outerDiv[0].style.display = 'none';\r\n        }\r\n\r\n        dataGrid.jqref.append(outerDiv);\r\n        dataGrid.addRowsToolbarRef = outerDiv;\r\n        rowCountInput.jqxNumberInput({ inputMode: 'simple', decimalDigits: 0, min: 1, value: 1 });\r\n        rowCountInput[0].style.width = '55px';\r\n        rowCountInput[0].firstElementChild.style.width = '50px';\r\n        rowCountInput.addClass('ni-row-count-text-field-box');\r\n        rowCountInput.find(' input').addClass('ni-row-count-text-field');\r\n        addButton[0].value = dataGrid.addRowsButtonLabel;\r\n        addButton.jqxButton({ width: '50' });\r\n        addButton.addClass('ni-add-rows-button');\r\n        addButton.on('click', function () {\r\n            if (dataGrid.jqref === undefined) {\r\n                return;\r\n            }\r\n\r\n            dataGrid.addEmptyRows(rowCountInput.jqxNumberInput('val'));\r\n\r\n            addButton.blur();\r\n        });\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowHeaderVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'columnHeaderVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showAddRowsToolBar',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowSorting',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowPaging',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowFiltering',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowGrouping',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowHeight',\r\n            defaultValue: DEFAULT_ROW_HEIGHT\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowColors',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowStart',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowStep',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedColumn',\r\n            defaultValue: -1\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.columns = [];\r\n        this.selectedColumnDataField = undefined;\r\n        this.sortedColumnIndices = [];\r\n        this.parsedValue = [];\r\n        this.jqxValue = [];\r\n        this.columnObservers = [];\r\n        this.pageSize = 0;\r\n        this.addRowsButtonLabel = NI_SUPPORT.i18n('msg_datagrid_addrowsbuttonlabel');\r\n        this.addRowsLabel = NI_SUPPORT.i18n('msg_datagrid_addrowslabel');\r\n        this.coercedRowHeight = DEFAULT_ROW_HEIGHT;\r\n        this.showAggregates = false;\r\n        this.maxAggregateCountPerColumn = 0;\r\n\r\n        // Private Instance Properties\r\n        this._coercedValueUpdate = false;\r\n    };\r\n\r\n    proto.getDefaultColumns = function () {\r\n        // This adds the leftmost 'row index' column, which will be hidden if the 'row header visible' property is false.\r\n        return [{\r\n            text: '',\r\n            datafield: ID_DATAFIELD,\r\n            width: 50,\r\n            cellsalign: 'center',\r\n            columntype: 'custom',\r\n            createwidget: function (row, column, value, cellElement) {\r\n                if (!cellElement.firstElementChild) {\r\n                    $(cellElement).append('<div style=\\'width: 100%; height: 100%; display: table; text-align: center;\\'>' +\r\n                       '<span style=\\'display: table-cell; vertical-align: middle;\\'>' + value.toString() + '</span></div>');\r\n                }\r\n            },\r\n            initwidget: function (row, column, value, cellElement) {\r\n                var outerDiv = cellElement.firstElementChild;\r\n                if (outerDiv !== null) {\r\n                    outerDiv.firstElementChild.textContent = value.toString();\r\n                }\r\n            },\r\n            cellbeginedit: getFalseValue,\r\n            hidden: !this.rowHeaderVisible,\r\n            pinned: this.columns.some(function (col) {\r\n                return col.pinned;\r\n            })\r\n        }];\r\n    };\r\n\r\n    proto.setFont = function () {\r\n        // Don't call the parent / base method, which changes the font properties on our CSS style. Changing fonts on the data grid shouldn't\r\n        // affect the headers / toolbar / etc. Each column can have its font settings changed individually via styling the template control\r\n        // for that column.\r\n        // parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n    };\r\n\r\n    proto.templateControlValueChanged = function (element, modelValue) {\r\n        var row = element._dataGridRow, column = element._dataGridColumn;\r\n        var curValue = this.jqxValue[row][column];\r\n        if (curValue !== modelValue) {\r\n            this.jqxValue[row][column] = modelValue;\r\n            this.parsedValue[row][this.columns[column].fieldName] = modelValue;\r\n            this.value = JSON.stringify(this.parsedValue);\r\n        }\r\n    };\r\n\r\n    proto.updateJqxColumnConfig = function () {\r\n        var that = this;\r\n        var i;\r\n        var columns = this.getDefaultColumns();\r\n        var newColumn, templateType, templateElement, columnTypeHelper;\r\n        var aggregates, showAggregates = false, aggregateCount = 0;\r\n        var maxAggregateCountPerColumn = 0;\r\n        var sortedIndices = [0];\r\n        var columnsValid = true;\r\n\r\n        // Sanity check column ordering. If we're in an inconsistent state (missing column, 2 columns with the same index,\r\n        // etc), then tell the jqxGrid that it has no user columns (just the row ID one).\r\n        for (i = 0; i < this.columns.length; i++) {\r\n            if (i !== this.columns[i].index) {\r\n                columnsValid = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (columnsValid) {\r\n            for (i = 0; i < this.columns.length; i++) {\r\n                if (this.columns[i].pinned) {\r\n                    sortedIndices.push(i + 1);\r\n                }\r\n            }\r\n\r\n            // Note: using forEach instead of a regular for loop here because otherwise, the value of 'column' in the inner function\r\n            // would be incorrect due to how closures work in loops in JS\r\n            this.columns.forEach(function (column, i) {\r\n                column.parsedAggregates = JSON.parse(column.aggregates);\r\n                aggregates = [];\r\n                aggregateCount = 0;\r\n                for (var aggregate in column.parsedAggregates.items) {\r\n                    if (column.parsedAggregates.items.hasOwnProperty(aggregate)) {\r\n                        aggregates.push(aggregate);\r\n                        aggregateCount++;\r\n                        showAggregates = true;\r\n                    }\r\n                }\r\n\r\n                maxAggregateCountPerColumn = Math.max(maxAggregateCountPerColumn, aggregateCount);\r\n                newColumn = {\r\n                    align: 'center',\r\n                    text: column.header,\r\n                    datafield: i.toString(),\r\n                    width: column.width,\r\n                    pinned: column.pinned,\r\n                    aggregates: aggregates\r\n                };\r\n                if (aggregates.length > 0) {\r\n                    newColumn.aggregatesrenderer = function (aggregates) {\r\n                        return aggregatesRenderer(column.parsedAggregates, aggregates);\r\n                    };\r\n                }\r\n\r\n                if (!column.pinned) {\r\n                    sortedIndices.push(i + 1);\r\n                }\r\n\r\n                templateElement = column.firstElementChild;\r\n                if (templateElement !== null) {\r\n                    templateType = templateElement.nodeName;\r\n                    if (!columnTypeHelpers.hasOwnProperty(templateType)) {\r\n                        throw new Error('Unsupported template element type for column ' + i + ': ' + templateType);\r\n                    }\r\n\r\n                    columnTypeHelper = columnTypeHelpers[templateType];\r\n                    column._niColumnDefaultValue = columnTypeHelper.getDefaultValue(templateElement);\r\n                    columnTypeHelper.initializeColumn(that, newColumn);\r\n\r\n                    columns.push(newColumn);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.showAggregates = showAggregates;\r\n        this.maxAggregateCountPerColumn = maxAggregateCountPerColumn;\r\n        this.sortedColumnIndices = sortedIndices;\r\n        this.jqxColumnConfig = columns;\r\n    };\r\n\r\n    proto.addEmptyRows = function (count) {\r\n        var row, jqxRow, rows, i, j, n, column, oldLength;\r\n        if (count > 0) {\r\n            rows = [];\r\n            oldLength = this.parsedValue.length;\r\n            n = oldLength;\r\n            for (i = 0; i < count; i++) {\r\n                row = {};\r\n                jqxRow = {};\r\n                jqxRow[ID_DATAFIELD] = n++;\r\n                for (j = 0; j < this.columns.length; j++) {\r\n                    column = this.columns[j];\r\n                    jqxRow[j] = column._niColumnDefaultValue;\r\n                    row[column.fieldName] = column._niColumnDefaultValue;\r\n                }\r\n\r\n                rows.push(jqxRow);\r\n                this.jqxValue.push(jqxRow);\r\n                this.parsedValue.push(row);\r\n            }\r\n\r\n            if (this.showAggregates && oldLength === 0) {\r\n                // If we have data and we didn't before, show the aggregates bar as needed.\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n            }\r\n\r\n            this.jqref.jqxGrid('addrow', null, rows);\r\n            this.value = JSON.stringify(this.parsedValue);\r\n        }\r\n    };\r\n\r\n    proto.updateJqxValueFromParsedValue = function () {\r\n        // jqxValue and parsedValue both represent the full data set, but with different field names.\r\n        // Example: If you have 'Column A' and 'Column B' in the editor and 1 row of data, you would have\r\n        // parsedValue[0]['Column A'] and parsedValue[0]['Column B'], versus\r\n        // jqxValue[0]['0'] and jqxValue[0]['1'] for the cell values.\r\n        // There's 2 main reasons why jqxValue and parsedValue can't be the same array instance (and why the\r\n        // field names are different):\r\n        // 1. Each column in the jqxGrid has a datafield (string property) that's the field name in the row objects,\r\n        //    where the data should come from for that column. The ID / row index column also must have a datafield.\r\n        //    If we directly map the diagram cluster field names as the datafield, a user-specified name could conflict\r\n        //    with the name we pick for the ID column's datafield. So, we have a copy with different field names that\r\n        //    we know won't conflict.\r\n        // 2. When you give the jqxGrid an array data source, it sets additional fields in the row objects inside the\r\n        //    array you give it. We don't want those additional (internal) fields to still be in the array of objects that\r\n        //    we hand back to the model when the user changes data. So, we'd need a copy anyway.\r\n        var i, j, curRow, result;\r\n        result = [];\r\n        for (i = 0; i < this.parsedValue.length; i++) {\r\n            curRow = {};\r\n            curRow[ID_DATAFIELD] = i;\r\n            for (j = 0; j < this.columns.length; j++) {\r\n                curRow[j] = this.parsedValue[i][this.columns[j].fieldName];\r\n            }\r\n\r\n            result.push(curRow);\r\n        }\r\n\r\n        this.jqxValue = result;\r\n    };\r\n\r\n    proto.initializeColumnsAndData = function () {\r\n        this.updateJqxColumnConfig();\r\n        this.parsedValue = JSON.parse(this.value);\r\n        this.updateJqxValueFromParsedValue();\r\n        this.dataSource = {\r\n            datatype: 'array',\r\n            localdata: this.jqxValue\r\n        };\r\n        this.dataAdapter = new $.jqx.dataAdapter(this.dataSource);\r\n        this.updateStatusBar(); // Make sure aggregates will show, if enabled\r\n        this.jqref.jqxGrid({ columns: this.jqxColumnConfig, source: this.dataAdapter });\r\n    };\r\n\r\n    proto.getSettings = function () {\r\n        var altRowSettings = getAltRowSettings(this.altRowStart, this.altRowStep);\r\n        return {\r\n            editable: !this.readOnly,\r\n            showemptyrow: false, // Don't show 'No Data to Display' when empty,\r\n            selectionmode: 'none',\r\n            showheader: this.columnHeaderVisible,\r\n            columnsresize: true,\r\n            enablehover: false,\r\n            showsortmenuitems: false,\r\n            sortable: this.allowSorting,\r\n            filterable: this.allowFiltering,\r\n            showfilterrow: this.allowFiltering,\r\n            pageable: this.allowPaging,\r\n            groupable: this.allowGrouping,\r\n            altrows: this.altRowColors,\r\n            altstart: altRowSettings.altstart,\r\n            altstep: altRowSettings.altstep,\r\n            width: this.offsetWidth,\r\n            height: this.offsetHeight,\r\n            columnsheight: DEFAULT_ROW_HEIGHT,\r\n            rowsheight: this.coercedRowHeight\r\n        };\r\n    };\r\n\r\n    proto.setSelectedColumn = function (column) {\r\n        var newSelectedDataField, columnToSelect;\r\n\r\n        if (!this.jqref) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isInEditMode) {\r\n            return;\r\n        }\r\n\r\n        if (column >= 0 && column < this.columns.length) {\r\n            columnToSelect = column;\r\n            newSelectedDataField = column.toString();\r\n        } else {\r\n            columnToSelect = -1;\r\n        }\r\n\r\n        if (columnToSelect !== this.selectedColumn) {\r\n            this.selectedColumn = columnToSelect;\r\n        }\r\n\r\n        if (this.selectedColumnDataField !== newSelectedDataField) {\r\n            if (this.selectedColumnDataField !== undefined) {\r\n                $(this.jqref.jqxGrid('getcolumn', this.selectedColumnDataField).element).removeClass('ni-selected-header');\r\n            }\r\n\r\n            this.selectedColumnDataField = newSelectedDataField;\r\n            this.refreshSelectedColumn();\r\n\r\n            this.dispatchEvent(new CustomEvent('selected-column-changed', {\r\n                detail: { selectedColumn: this.selectedColumn }\r\n            }));\r\n        }\r\n    };\r\n\r\n    proto.refreshSelectedColumn = function () {\r\n        var i, jqxColumn, leftIndex;\r\n        if (this.isInEditMode) {\r\n            if (this.selectedColumn === -1) {\r\n                for (i = 0; i < this.jqxColumnConfig.length; i++) {\r\n                    jqxColumn = this.jqref.jqxGrid('getcolumn', this.jqxColumnConfig[i].datafield);\r\n                    if (jqxColumn !== null && jqxColumn !== undefined) {\r\n                        jqxColumn.cellclassname = '';\r\n                    }\r\n                }\r\n            } else {\r\n                leftIndex = this.sortedColumnIndices[this.sortedColumnIndices.indexOf(this.selectedColumn + 1) - 1];\r\n                for (i = 0; i < this.jqxColumnConfig.length; i++) {\r\n                    jqxColumn = this.jqref.jqxGrid('getcolumn', this.jqxColumnConfig[i].datafield);\r\n                    if (jqxColumn !== null && jqxColumn !== undefined) {\r\n                        if (i === leftIndex) {\r\n                            jqxColumn.cellclassname = 'ni-selected-cell';\r\n                        } else if (i === this.selectedColumn + 1) {\r\n                            jqxColumn.cellclassname = 'ni-selected-cell';\r\n                            $(jqxColumn.element).addClass('ni-selected-header');\r\n                        } else {\r\n                            jqxColumn.cellclassname = '';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Trigger a 'soft refresh' so the jqxGrid will re-query the cell CSS classes, but not recreate widgets\r\n            $(this.jqref).jqxGrid('clearselection');\r\n        }\r\n    };\r\n\r\n    proto.updateCoercedRowHeight = function () {\r\n        this.coercedRowHeight = this.rowHeight >= 1 ? this.rowHeight : DEFAULT_ROW_HEIGHT;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            childColumns,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            childColumns = this.findInitialColumns();\r\n            this.addColumnListeners(childColumns);\r\n\r\n            this.updateCoercedRowHeight();\r\n\r\n            widgetSettings = this.getSettings();\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            // Currently, we don't want changing the data grid headers to affect the row / column header font, or the\r\n            // statusbar / toolbar fonts, so we're setting the font we want explicitly here\r\n            childElement.style.fontSize = '12px';\r\n            childElement.style.fontFamily = 'Segoe UI, sans-serif';\r\n            childElement.style.fontWeight = 'normal';\r\n            childElement.style.fontStyle = 'normal';\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxGrid(widgetSettings);\r\n            this.jqref = jqref;\r\n            appendAddRowsToolbar(this);\r\n            this.updateStatusBar();\r\n            this.updatePagingSettings();\r\n\r\n            if (childColumns.length === 0) {\r\n                this.initializeColumnsAndData();\r\n            }\r\n\r\n            // Adding CSS class names\r\n            jqref.find(' .jqx-grid-statusbar').addClass('ni-status-bar');\r\n            jqref.addClass('ni-grid-widget');\r\n            jqref.addClass('ni-grid-widget-content');\r\n            jqref.find(' .jqx-widget').addClass('ni-grid-widget');\r\n            jqref.find(' .jqx-widget-content').addClass('ni-grid-widget-content');\r\n            jqref.find(' .jqx-grid-groups-header').addClass('ni-groups-header');\r\n            jqref.find(' .jqx-grid-pager').addClass('ni-pager-box');\r\n            jqref.find(' .jqx-grid-pager-input').addClass('ni-pager-text-field');\r\n            jqref.find(' .jqx-dropdownlist-state-normal').addClass('ni-selector');\r\n            jqref.find(' .jqx-max-size').addClass('ni-filter-row-box');\r\n            jqref.find(' .jqx-grid-column-header').addClass('ni-column-header');\r\n            jqref.find(' .jqx-grid-content').addClass('ni-grid-content');\r\n            jqref.find(' .jqx-grid-cell-filter-row').addClass('ni-filter-row');\r\n            jqref.find(' .jqx-grid-cell').addClass('ni-cell');\r\n            jqref.find(' .jqx-grid-group-cell').addClass('ni-group-cell');\r\n\r\n            jqref.on('cellendedit', function (event) {\r\n                var rowindex = event.args.rowindex, datafield = event.args.datafield, value = event.args.value;\r\n                that.jqxValue[rowindex][datafield] = value;\r\n                that.parsedValue[rowindex][that.columns[datafield].fieldName] = value;\r\n                that.value = JSON.stringify(that.parsedValue);\r\n            });\r\n\r\n            jqref.on('columnclick', function (event) {\r\n                var origMouseEvent = event.args.originalEvent.originalEvent;\r\n                that.setSelectedColumn(parseInt(event.args.datafield));\r\n\r\n                if (origMouseEvent !== undefined && origMouseEvent.x !== undefined && origMouseEvent.y !== undefined) {\r\n                    that.handledClickEvent = { x: origMouseEvent.x, y: origMouseEvent.y };\r\n                }\r\n            });\r\n\r\n            jqref.on('cellclick', function (event) {\r\n                var origMouseEvent = event.args.originalEvent.originalEvent;\r\n                that.setSelectedColumn(parseInt(event.args.datafield));\r\n\r\n                if (origMouseEvent !== undefined && origMouseEvent.x !== undefined && origMouseEvent.y !== undefined) {\r\n                    that.handledClickEvent = { x: origMouseEvent.x, y: origMouseEvent.y };\r\n                }\r\n            });\r\n\r\n            jqref.on('click', function (event) {\r\n                // If a click is on the data grid but not on its cells or columns (which are handled above), deselect\r\n                // the currently active column\r\n                var origMouseEvent = event.originalEvent;\r\n                if (origMouseEvent !== undefined && that.handledClickEvent !== undefined &&\r\n                    origMouseEvent.x === that.handledClickEvent.x && origMouseEvent.y === that.handledClickEvent.y) {\r\n                    return;\r\n                }\r\n\r\n                that.setSelectedColumn(-1);\r\n                that.handledClickEvent = undefined;\r\n            });\r\n\r\n            jqref.on('columnresized', function (event) {\r\n                var args = event.args;\r\n                var dataField = args.datafield;\r\n                var newWidth = args.newwidth;\r\n                var newHeight = that.coercedRowHeight;\r\n                var column = that.columns[dataField];\r\n                var templateControl = column.firstElementChild;\r\n                var columnHelper = columnTypeHelpers[templateControl.nodeName];\r\n                var matchedControls, i, control;\r\n\r\n                if (typeof columnHelper.resize !== 'function') {\r\n                    return;\r\n                }\r\n\r\n                matchedControls = jqref[0].querySelectorAll(templateControl.tagName);\r\n\r\n                for (i = 0; i < matchedControls.length; i++) {\r\n                    control = matchedControls[i];\r\n                    if (control._dataGridColumn === dataField) {\r\n                        columnHelper.resize(control, { width: newWidth, height: newHeight });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = this.jqref;\r\n\r\n        if (jqref === undefined) {\r\n            jqref = $(this).children('div');\r\n        }\r\n\r\n        jqref.jqxGrid(size);\r\n        this.updatePageSize();\r\n    };\r\n\r\n    proto.updateDataGridConfig = function (refresh, changedColumn) {\r\n        var i;\r\n        if (this.jqref === undefined || this.parentElement === null) {\r\n            return;\r\n        }\r\n\r\n        this.updateJqxColumnConfig();\r\n\r\n        // Cancel any pending edits before refreshing columns\r\n        this.jqref.jqxGrid('endcelledit');\r\n\r\n        if (changedColumn instanceof NationalInstruments.HtmlVI.Elements.DataGridColumn) {\r\n            // If this updateDataGridConfig call is due to a column getting a new type (a new child control),\r\n            // we reset the data for that column back to a reasonable default. Otherwise, the jqxGrid would try to push\r\n            // stale data of the wrong type to the new controls in that column.\r\n            for (i = 0; i < this.jqxValue.length; i++) {\r\n                this.jqxValue[i][changedColumn.index] = changedColumn._niColumnDefaultValue;\r\n                this.parsedValue[i][changedColumn.fieldName] = changedColumn._niColumnDefaultValue;\r\n            }\r\n            // We also need to push this change to our value property. Otherwise, if the editor's coerced value is equivalent, the change\r\n            // won't be pushed to this element (because we think it's the same - we go through this same code when changing the type of a numeric column,\r\n            // because the control is destroyed and recreated then too). We use the nonSignaling value property because we don't want\r\n            // this to trigger a roundtrip back to the model / C#, because C# is about to update it too.\r\n            this._coercedValueUpdate = true;\r\n            this.valueNonSignaling = JSON.stringify(this.parsedValue);\r\n            this._coercedValueUpdate = false;\r\n        }\r\n\r\n        this.jqref.jqxGrid({ columns: this.jqxColumnConfig });\r\n\r\n        if (refresh) {\r\n            this.jqref.jqxGrid('refresh');\r\n        }\r\n\r\n        this.refreshSelectedColumn();\r\n    };\r\n\r\n    proto.refreshDataSource = function () {\r\n        this.dataSource.localdata = this.jqxValue;\r\n        this.jqref.jqxGrid({ source: this.dataAdapter });\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var oldDataLength;\r\n\r\n        if (this.jqref === undefined || this._coercedValueUpdate) {\r\n            return;\r\n        }\r\n\r\n        oldDataLength = this.parsedValue.length;\r\n        this.parsedValue = JSON.parse(this.value);\r\n        this.updateJqxValueFromParsedValue();\r\n\r\n        if (this.showAggregates && (oldDataLength === 0) !== (this.parsedValue.length === 0)) {\r\n            // If we have any data and didn't before (or the opposite),\r\n            // show or hide the aggregates bar as needed.\r\n            this.updateStatusBar();\r\n        }\r\n\r\n        // The jqxGrid updaterow function is noticeably faster than\r\n        // refreshing the data grid via refreshing the data source, so\r\n        // we do that when we can (when the number of rows is the same).\r\n        if (oldDataLength === this.parsedValue.length) {\r\n            var rows = [];\r\n            var i;\r\n            for (i = 0; i < oldDataLength; i++) {\r\n                rows[i] = i;\r\n            }\r\n\r\n            this.jqref.jqxGrid('updaterow', rows, this.jqxValue);\r\n        } else {\r\n            this.refreshDataSource();\r\n        }\r\n    };\r\n\r\n    proto.findInitialColumns = function () {\r\n        var childColumns = [],\r\n            columnItemName = NationalInstruments.HtmlVI.Elements.DataGridColumn.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === columnItemName) {\r\n                childColumns.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return childColumns;\r\n    };\r\n\r\n    proto.sortColumns = function () {\r\n        this.columns.sort(function (a, b) {\r\n            return a.index - b.index;\r\n        });\r\n    };\r\n\r\n    proto.addColumnListeners = function (initialColumns) {\r\n        var that = this;\r\n\r\n        that.addEventListener('ni-data-grid-column-attached', function (evt) {\r\n            var i, column, observer, observerConfig;\r\n\r\n            if (evt.target === that) {\r\n                column = evt.detail.element;\r\n                that.columns.push(column);\r\n                that.sortColumns();\r\n\r\n                observer = new window.MutationObserver(function (mutations) {\r\n                    mutations.forEach(function (mutation) {\r\n                        if (mutation.removedNodes.length > 0) {\r\n                            removeTemplateControlMutationObserver(that, column);\r\n                        }\r\n\r\n                        if (mutation.addedNodes.length > 0) {\r\n                            addTemplateControlMutationObserver(that, column);\r\n                            that.updateDataGridConfig(true, column);\r\n                        }\r\n                    });\r\n                });\r\n\r\n                observerConfig = { childList: true };\r\n                column._niColumnObserver = observer;\r\n                if (typeof observer.observe === 'function') {\r\n                    observer.observe(column, observerConfig);\r\n                }\r\n\r\n                addTemplateControlMutationObserver(that, column);\r\n\r\n                for (i = 0; i < initialColumns.length; i++) {\r\n                    if (initialColumns[i] === evt.detail.element) {\r\n                        initialColumns.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (initialColumns.length === 0) { // We've either just added the last initial column, or this is attaching a new column after that (at edit-time)\r\n                    if (this.dataSource === undefined) {\r\n                        this.initializeColumnsAndData(); // First time initialization\r\n                    } else {\r\n                        that.updateDataGridConfig(false);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-data-grid-column-detached', function (evt) {\r\n            var i, column;\r\n            if (evt.target === that) {\r\n                column = evt.detail.element;\r\n                for (i = 0; i < that.columns.length; i++) {\r\n                    if (that.columns[i] === column) {\r\n                        that.columns.splice(i, 1);\r\n\r\n                        if (typeof column._niColumnObserver.disconnect === 'function') {\r\n                            column._niColumnObserver.disconnect();\r\n                        }\r\n\r\n                        removeTemplateControlMutationObserver(that, column);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateDataGridConfig(false);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-data-grid-column-changed', function (evt) {\r\n            var propName = evt.detail.propertyName;\r\n            if (propName === 'index') {\r\n                that.sortColumns();\r\n            }\r\n\r\n            that.updateDataGridConfig(false);\r\n\r\n            if (propName === 'aggregates') {\r\n                that.updateStatusBar();\r\n                that.updatePageSize();\r\n            } else if (propName === 'index' || propName === 'fieldName') {\r\n                that.updateJqxValueFromParsedValue();\r\n                that.refreshDataSource();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.updateStatusBar = function () {\r\n        var that = this;\r\n        var showAddRowsToolBar = (!that.readOnly && that.showAddRowsToolBar);\r\n        var statusBarHeight;\r\n        if (that.addRowsToolbarRef !== undefined) {\r\n            that.addRowsToolbarRef.toggle(showAddRowsToolBar);\r\n        }\r\n\r\n        if (that.jqref !== undefined) {\r\n            statusBarHeight = showAddRowsToolBar ? 40 : 0;\r\n            if (this.parsedValue.length > 0 && that.maxAggregateCountPerColumn > 0) {\r\n                statusBarHeight += that.maxAggregateCountPerColumn * DEFAULT_ROW_HEIGHT + 4;\r\n            }\r\n\r\n            // Note: We need to set the statusbarheight before updating the aggregate properties, since\r\n            // it has to already be set before the aggregates render.\r\n            that.jqref.jqxGrid({\r\n                statusbarheight: statusBarHeight\r\n            });\r\n            that.jqref.jqxGrid({\r\n                showstatusbar: showAddRowsToolBar || that.showAggregates,\r\n                showaggregates: that.showAggregates\r\n            });\r\n            if (that.showAggregates) {\r\n                that.jqref.jqxGrid('refreshaggregates');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updatePageSize = function () {\r\n        var that = this;\r\n\r\n        if (this.updatePageSizeTimer !== undefined) {\r\n            clearTimeout(this.updatePageSizeTimer);\r\n        }\r\n\r\n        this.updatePageSizeTimer = setTimeout(function () {\r\n            that.updatePageSizeTimer = undefined;\r\n            if (that.allowPaging) {\r\n                var numRows;\r\n                var height = that.jqref.height();\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-header'));\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-groups-header'));\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-pager'));\r\n                height -= getElementHeight(that.jqref.find('div.ni-status-bar'));\r\n                var horizScrollBar = that.jqref.find('div.jqx-scrollbar').sort(function (a, b) {\r\n                    return a.offsetLeft - b.offsetLeft;\r\n                });\r\n\r\n                height -= getElementHeight(horizScrollBar);\r\n                numRows = Math.floor(height / that.coercedRowHeight);\r\n\r\n                // Sanity check the number of rows. If the data grid is very small, we can end up computing a negative size since we\r\n                // subtract the size of toolbars (assuming they're always visible and nonoverlapping).\r\n                if (numRows <= 0) {\r\n                    numRows = 10;\r\n                }\r\n\r\n                if (that.pageSize !== numRows) {\r\n                    that.pageSize = numRows;\r\n                    that.jqref.jqxGrid({ pagesize: numRows, pagesizeoptions: [numRows] });\r\n                }\r\n            }\r\n        }, 10);\r\n    };\r\n\r\n    proto.updatePagingSettings = function () {\r\n        var pagerRef;\r\n\r\n        this.jqref.jqxGrid({ pageable: this.allowPaging });\r\n        pagerRef = this.jqref.find('div.jqx-grid-pager');\r\n\r\n        // Workaround for a jqxGrid issue where the top border of the pager toolbar / a 1px line is still\r\n        // visible when you turn paging on then off\r\n        pagerRef.toggle(this.allowPaging);\r\n\r\n        if (this.allowPaging === true) {\r\n            this.addRowsToolbarRef[0].style.bottom = pagerRef.outerHeight() + 'px';\r\n        } else {\r\n            this.addRowsToolbarRef[0].style.bottom = '0px';\r\n        }\r\n\r\n        this.updatePageSize();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        if (this.jqref === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (propertyName) {\r\n            case 'rowHeaderVisible':\r\n                this.jqref.jqxGrid('setcolumnproperty', ID_DATAFIELD, 'hidden', !this.rowHeaderVisible);\r\n                break;\r\n            case 'columnHeaderVisible':\r\n                this.jqref.jqxGrid({ showheader: this.columnHeaderVisible });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'isInEditMode':\r\n                this.jqref.jqxGrid({ columnsresize: !this.isInEditMode });\r\n                this.jqref.jqxGrid('render');\r\n                break;\r\n            case 'value':\r\n                this.updateData();\r\n                break;\r\n            case 'showAddRowsToolBar':\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n                break;\r\n            case 'allowSorting':\r\n                this.jqref.jqxGrid({ sortable: this.allowSorting });\r\n                if (!this.allowSorting) {\r\n                    this.jqref.jqxGrid('removesort');\r\n                }\r\n\r\n                break;\r\n            case 'allowPaging':\r\n                this.updatePagingSettings();\r\n                break;\r\n            case 'allowFiltering':\r\n                this.jqref.jqxGrid({ filterable: this.allowFiltering, showfilterrow: this.allowFiltering });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'allowGrouping':\r\n                this.jqref.jqxGrid({ groupable: this.allowGrouping });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'rowHeight':\r\n                this.updateCoercedRowHeight();\r\n                this.jqref.jqxGrid({ rowsheight: this.coercedRowHeight });\r\n                this.jqref.jqxGrid('render');\r\n                break;\r\n            case 'altRowColors':\r\n                this.jqref.jqxGrid({ altrows: this.altRowColors });\r\n                break;\r\n            case 'altRowStart':\r\n                this.jqref.jqxGrid(getAltRowSettings(this.altRowStart, this.altRowStep));\r\n                break;\r\n            case 'altRowStep':\r\n                this.jqref.jqxGrid(getAltRowSettings(this.altRowStart, this.altRowStep));\r\n                break;\r\n            case 'readOnly':\r\n                this.jqref.jqxGrid({ editable: !this.readOnly });\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n                break;\r\n            case 'selectedColumn':\r\n                this.setSelectedColumn(this.selectedColumn);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-data-grid', 'HTMLNIDataGrid');\r\n}(NationalInstruments.HtmlVI.Elements.DataGrid, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Data Grid Column\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DataGridColumn = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'index',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'header',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'fieldName',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'width',\r\n            defaultValue: 50\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pinned',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'aggregates',\r\n            defaultValue: '{}'\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentDataGrid = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentDataGrid = function (name, propertyName) {\r\n        var eventConfig;\r\n\r\n        if (this._parentDataGrid !== undefined) {\r\n            eventConfig = {\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    propertyName: propertyName\r\n                }\r\n            };\r\n\r\n            this._parentDataGrid.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.DataGrid) {\r\n            this._parentDataGrid = this.parentElement;\r\n            this.sendEventToParentDataGrid('ni-data-grid-column-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Data Grid Column does not have a parent data grid', this);\r\n            this._parentDataGrid = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentDataGrid('ni-data-grid-column-changed', propertyName);\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentDataGrid('ni-data-grid-column-detached');\r\n        this._parentDataGrid = undefined;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-data-grid-column', 'HTMLNIDataGridColumn');\r\n}(NationalInstruments.HtmlVI.Elements.DataGridColumn, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n//IOName Control Prototype\r\n//DOM Registration: No\r\n//National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.IONameControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedValue',\r\n            defaultValue: '',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowMultipleSelection',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowUndefinedValues',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showUserCreateResource',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'readOnlyName',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'caseSensitive',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var widgetSettings, jqref, that = this;\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            var childElement = document.createElement('div');\r\n            childElement.value = this.value;\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n            jqref = $(childElement);\r\n\r\n            widgetSettings.selectedIndex = -1;\r\n            widgetSettings.disabled = false;\r\n            widgetSettings.autoDropDownHeight = true;\r\n            var sourceArray = JSON.parse(this.source);\r\n            widgetSettings.selectedIndex = sourceArray.indexOf(this.selectedValue);\r\n\r\n            jqref.jqxDropDownList({ source: sourceArray });\r\n            jqref.jqxDropDownList(widgetSettings);\r\n\r\n            jqref.on('select', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var item = args.item;\r\n                    if (item === null) {\r\n                        that.selectedValue = '';\r\n                    } else {\r\n                        that.selectedValue = item.value;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var childElement = this.firstElementChild;\r\n        switch (propertyName) {\r\n            case 'selectedValue':\r\n                var source = $(childElement).jqxDropDownList('source');\r\n                var index = source.indexOf(this.selectedValue);\r\n\r\n                $(childElement).jqxDropDownList({ selectedIndex: index });\r\n                break;\r\n            case 'source':\r\n                var newSource = JSON.parse(this.source);\r\n                $(childElement).jqxDropDownList({ source: newSource });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-io-name-control', 'HTMLNIIONameControl');\r\n}(NationalInstruments.HtmlVI.Elements.IONameControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.LegendHelpers = function (helpers, legendItemDisplay) {\r\n        this.helpers = helpers;\r\n        this.legendItemDisplay = legendItemDisplay;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.LegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addButtons = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn, current;\r\n        menuItem.children.forEach(function (children) {\r\n            btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'ni-button';\r\n            $(btn).jqxToggleButton({ toggled: false });\r\n            if (children.cssClass !== '') {\r\n                btn.classList.add(children.cssClass);\r\n            }\r\n\r\n            $(btn).on('click', function () {\r\n                if (this !== current) {\r\n                    $(current).jqxToggleButton('toggle');\r\n                    current = this;\r\n                }\r\n\r\n                that.helpers.handleClick(children.name, null, index);\r\n                that.legendItemDisplay.updateShape(index);\r\n            });\r\n            var state = that.helpers.getState(children.name, index);\r\n            if (state !== undefined) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n                if (state === true) {\r\n                    current = btn;\r\n                }\r\n            }\r\n\r\n            div.appendChild(btn);\r\n        });\r\n    };\r\n\r\n    proto.addComboBox = function (menuItem, div, index, iconWidth) {\r\n        var that = this;\r\n        var i, selectedIndex = 0, init = true;\r\n        $(div).jqxDropDownList(\r\n                {\r\n                    width: 'inherit',\r\n                    dropDownHeight: menuItem.children.length * 26\r\n                }\r\n                );\r\n        for (i = 0; i < menuItem.children.length; i++) {\r\n            var text = NI_SUPPORT.i18n(menuItem.children[i].tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name;\r\n            }\r\n\r\n            $(div).jqxDropDownList('addItem', { id: menuItem.children[i].name, html: '<div style=\"width: 100%\"><span class=\"ni-selector-title\">' + text + '</span><div class=\"ni-selector-icon ' + menuItem.children[i].cssClass + '\"' + ' style=\"background-size: ' + iconWidth + 'px 16px; width: ' + (iconWidth + 4) + 'px; \"></div></div>' });\r\n            var itemState = this.helpers.getState(menuItem.children[i].name, index);\r\n            if (itemState === true) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        $(div).on('select', function (event) {\r\n            var args = event.args;\r\n            if (init === true) {\r\n                return;\r\n            }\r\n\r\n            that.helpers.handleClick(args.item.label.id, null, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownList({ 'selectedIndex': selectedIndex });\r\n        init = false;\r\n    };\r\n\r\n    proto.getTextElementByColor = function (color) {\r\n        if (color === 'transparent' || color.hex === '') {\r\n            return $('<div class=\"ni-colorbox-content\">transparent</div>');\r\n        }\r\n\r\n        var element = $('<div class=\"ni-colorbox-content\">#' + color.hex + '</div>');\r\n        var nThreshold = 105;\r\n        var bgDelta = (color.r * 0.299) + (color.g * 0.587) + (color.b * 0.114);\r\n        var foreColor = (255 - bgDelta < nThreshold) ? 'Black' : 'White';\r\n        element.css('color', foreColor);\r\n        element.css('background', '#' + color.hex);\r\n        element.addClass('jqx-rc-all');\r\n        return element;\r\n    };\r\n\r\n    proto.addColorBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var dropList = document.createElement('div');\r\n        $(div).append(dropList);\r\n        var colorbox = document.createElement('div');\r\n        colorbox.className = 'legend-colorbox-colorbox';\r\n        dropList.appendChild(colorbox);\r\n        $(colorbox).jqxColorPicker({\r\n            width: '200px', height: '220px',\r\n            colorMode: 'hue'\r\n        });\r\n        $(colorbox).on('colorchange', function (e) {\r\n            $(div).jqxDropDownButton('setContent', that.getTextElementByColor(e.args.color));\r\n            that.helpers.handleClick(menuItem.name, e.args.color, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownButton(\r\n            { width: 'inherit'}\r\n            );\r\n        var color = this.helpers.getState(menuItem.name, index);\r\n        if (color !== undefined) {\r\n            if (color.charAt(0) === '#') {\r\n                color = color.substring(1);\r\n            }\r\n        } else {\r\n            color = 'ff0000';\r\n        }\r\n\r\n        $(div).jqxDropDownButton('setContent', this.getTextElementByColor(new $.jqx.color({ hex: color })));\r\n    };\r\n\r\n    proto.addCheckBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn = $(div).jqxCheckBox();\r\n        btn.className = 'legend-checkbox';\r\n        $(btn).on('change', function (e) {\r\n            that.helpers.handleClick(menuItem.name, e.args.checked, index);\r\n        });\r\n        var state = that.helpers.getState(menuItem.name, index);\r\n        if (state !== undefined) {\r\n            $(btn).jqxCheckBox({ checked: state });\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.PlotLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.tbl = undefined;\r\n        this.nPlots = 0;\r\n        this.currentExpander = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers();\r\n        this.plotLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers);\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.plotLegendItemDisplay);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.plotAdded = function () {\r\n        this.createRow(this.tbl, this.nPlots);\r\n        this.helpers.addRenderer(this.nPlots);\r\n        this.nPlots++;\r\n    };\r\n\r\n    proto.plotRemoved = function (index) {\r\n        this.removeRow(this.tbl, index);\r\n        this.helpers.clearRenderer(index);\r\n        this.nPlots--;\r\n    };\r\n\r\n    proto.createRows = function () {\r\n        var i;\r\n        for (i = 0; i < this.nPlots; i++) {\r\n            this.createRow(this.tbl, i);\r\n        }\r\n    };\r\n\r\n    proto.throttlePlotUpdates = function (enableThrottling) {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            graph.throttlePlotUpdates(enableThrottling);\r\n        }\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        this.nPlots = graphElement.plots.length;\r\n        this.createRows();\r\n        graphElement.registerPlotLegend(this);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            this.helpers.graphName = this.graphName;\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.overflowX = 'auto';\r\n            childElement.style.overflowY = 'hidden';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.style.width = '100%';\r\n            this.tbl.style.height = '100%';\r\n            childElement.appendChild(this.tbl);\r\n\r\n            this.addEventListener('ni-cartesian-plot-attached', function () {\r\n                that.plotAdded();\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-detached', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.plotToIndex(source);\r\n\r\n                that.plotRemoved(index);\r\n            });\r\n            this.addEventListener('ni-cartesian-plot-changed', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.plotToIndex(source);\r\n                that.updatePlotName(index, that.helpers.getPlotName(index));\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\r\n                var index;\r\n                var source = evt.detail.originalSource;\r\n                index = that.helpers.rendererToIndex(source);\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl, index) {\r\n        var that = this;\r\n        var tr, exp, header, content, div, plotName, p, span;\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        exp = document.createElement('div');\r\n        exp.id = 'expander' + index;\r\n        exp.className = 'ni-plot-legend-box';\r\n        tr.appendChild(exp);\r\n        header = document.createElement('div');\r\n        header.id = 'header' + index;\r\n        header.className = 'ni-master-row';\r\n        exp.appendChild(header);\r\n\r\n        div = document.createElement('div');\r\n        div.className = 'ni-plot-display';\r\n        header.appendChild(div);\r\n        this.plotLegendItemDisplay.createHeaderDisplay(div, index);\r\n\r\n        span = document.createElement('span');\r\n        span.className = 'ni-plot-title';\r\n        plotName = this.helpers.getPlotName(index);\r\n\r\n        p = document.createTextNode(plotName);\r\n        span.appendChild(p);\r\n        header.appendChild(span);\r\n\r\n        content = document.createElement('div');\r\n        content.id = 'content' + index;\r\n        content.className = 'ni-details-box';\r\n        exp.appendChild(content);\r\n        $(exp).jqxExpander({\r\n            expanded: false,\r\n            disabled: this.isInEditMode,\r\n            expandAnimationDuration: 50,\r\n            collapseAnimationDuration: 50,\r\n            initContent: function () {\r\n                that.loadContent(content, index);\r\n            }\r\n        });\r\n        $(exp).on('expanded', function () {\r\n            if (this !== that.currentExpander) {\r\n                var expander = that.currentExpander;\r\n                that.currentExpander = this;\r\n                if (expander !== null) {\r\n                    $(expander).jqxExpander({ expanded: false });\r\n                }\r\n            }\r\n        });\r\n        this.applyFont();\r\n    };\r\n\r\n    proto.updatePlotName = function (index, name) {\r\n        var titles = $(this.tbl).find('.ni-plot-title');\r\n        $(titles[index]).text(name);\r\n    };\r\n\r\n    proto.loadContent = function (content, index) {\r\n        var tbl, tr, j, span, p, td1, td2, div;\r\n        content.style.height = ((this.helpers.menu.length + 1) * 30) + 10 + 'px';\r\n        tbl = document.createElement('table');\r\n        tbl.className = 'ni-details';\r\n        content.appendChild(tbl);\r\n\r\n        for (j = 0; j < this.helpers.menu.length; j++) {\r\n            var menuItem = this.helpers.menu[j];\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-details-row';\r\n            tbl.appendChild(tr);\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-detail-row-title-box';\r\n            tr.appendChild(td1);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-detail-row-title';\r\n            td1.appendChild(span);\r\n            var text = NI_SUPPORT.i18n(menuItem.tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name + '!';\r\n            }\r\n\r\n            p = document.createTextNode(text);\r\n            span.appendChild(p);\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-details-row-operations-box';\r\n            tr.appendChild(td2);\r\n            switch (menuItem.type) {\r\n                case 'buttons':\r\n                    this.uihelpers.addButtons(menuItem, td2, index);\r\n                    break;\r\n                case 'combobox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-selector';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addComboBox(menuItem, div, index, 60);\r\n                    break;\r\n                case 'colorbox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-colorbox-selector ni-selector';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addColorBox(menuItem, div, index);\r\n                    break;\r\n                case 'checkbox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-hover-box';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addCheckBox(menuItem, div, index);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.removeRow = function (tbl, index) {\r\n        var row = tbl.children[index];\r\n        if (row !== null && row !== undefined) {\r\n            tbl.removeChild(row);\r\n        }\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemContentTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemContentTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                $(this.tbl).find('.ni-plot-legend-box').each(function () {\r\n                    $(this).jqxExpander({ disabled: this.isInEditMode });\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-plot-legend', 'HTMLNIPlotLegend');\r\n}(NationalInstruments.HtmlVI.Elements.PlotLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.defaultPlotColors = [\r\n           '#7B161A',\r\n           '#008EE4',\r\n           '#E2B683',\r\n           '#B7AC1F',\r\n           '#AEDCEF',\r\n           '#A08BB0',\r\n           '#7F7F7F',\r\n           '#3C0726'\r\n        ];\r\n        this.renderers = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.menu = [\r\n        {\r\n            name: 'Plot Style', tag: 'msg_plotstyle', type: 'buttons', children: [\r\n                { name: 'Line', tag: 'msg_line', cssClass: 'ni-line-style-button' },\r\n                { name: 'Point', tag: 'msg_point', cssClass: 'ni-point-style-button' },\r\n                { name: 'Line & Point', tag: 'msg_lineandpoint', cssClass: 'ni-line-and-point-style-button' },\r\n                { name: 'Bar', tag: 'msg_bar', cssClass: 'ni-bar-style-button' },\r\n                { name: 'Fill', tag: 'msg_fill', cssClass: 'ni-fill-style-button' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Point Style', tag: 'msg_pointstyle', type: 'buttons', children: [\r\n                { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-button' },\r\n                { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-button' },\r\n                { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-button' },\r\n                { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-button' },\r\n                { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-button' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Width', tag: 'msg_linewidth', type: 'combobox', children: [\r\n                { name: 'No line', tag: 'msg_noline', cssClass: '' },\r\n                { name: '1-pixel', tag: 'msg_1pixel', cssClass: 'ni-1-pixel-line-width-icon' },\r\n                { name: '2-pixels', tag: 'msg_2pixels', cssClass: 'ni-2-pixels-line-width-icon' },\r\n                { name: '3-pixels', tag: 'msg_3pixels', cssClass: 'ni-3-pixels-line-width-icon' },\r\n                { name: '4-pixels', tag: 'msg_4pixels', cssClass: 'ni-4-pixels-line-width-icon' },\r\n                { name: '5-pixels', tag: 'msg_5pixels', cssClass: 'ni-5-pixels-line-width-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Style', tag: 'msg_linestyle', type: 'combobox', children: [\r\n                { name: 'No style', tag: 'msg_nostyle', cssClass: '' },\r\n                { name: 'Solid', tag: 'msg_solid', cssClass: 'ni-solid-line-style-icon' },\r\n                { name: 'Dot', tag: 'msg_dot', cssClass: 'ni-dot-line-style-icon' },\r\n                { name: 'Dot-dash', tag: 'msg_dashdot', cssClass: 'ni-dot-dash-line-style-icon' },\r\n                { name: 'Medium dash', tag: 'msg_mediumdash', cssClass: 'ni-medium-dash-line-style-icon' },\r\n                { name: 'Large dash', tag: 'msg_largedash', cssClass: 'ni-large-dash-line-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Fill Baseline', tag: 'msg_fillbaseline', type: 'buttons', children: [\r\n                { name: 'No baseline', tag: 'msg_nobaseline', cssClass: 'ni-fill-base-line-none-button' },\r\n                { name: 'Zero', tag: 'msg_zero', cssClass: 'ni-fill-to-zero-style-button' },\r\n                { name: '-Inf', tag: 'msg_neginf', cssClass: 'ni-fill-base-line-negative-infinity-button' },\r\n                { name: 'Inf', tag: 'msg_inf', cssClass: 'ni-fill-base-line-positive-infinity-button' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Color', tag: 'msg_color', type: 'colorbox', children: [\r\n            ]\r\n        },\r\n        {\r\n            name: 'Hover', tag: 'msg_hover', type: 'checkbox', children: [\r\n\r\n            ]\r\n        }\r\n    ];\r\n\r\n    proto.addRenderer = function () {\r\n    };\r\n\r\n    proto.clearRenderer = function (index) {\r\n        this.renderers[index] = null;\r\n    };\r\n\r\n    proto.getPlot = function (index) {\r\n        var i = 0;\r\n        var plot = null;\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    if (i === index) {\r\n                        plot = graph.childNodes[child];\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return plot;\r\n    };\r\n\r\n    proto.plotToIndex = function (plot) {\r\n        var index, graph;\r\n        // graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        graph = plot._parentGraph;\r\n        if (graph !== null) {\r\n            index = graph.plots.indexOf(plot);\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.getPlotName = function (index) {\r\n        var plot = this.getPlot(index);\r\n\r\n        if (plot && (typeof plot.label === 'string')) {\r\n            return plot.label;\r\n        } else {\r\n            return NI_SUPPORT.i18n('msg_defaultplotname');\r\n        }\r\n    };\r\n\r\n    proto.getRenderer = function (index) {\r\n        var plot = null;\r\n        var renderer = null;\r\n        if (this.renderers[index] === null || this.renderers[index] === undefined) {\r\n            plot = this.getPlot(index);\r\n\r\n            if (plot !== null) {\r\n                renderer = plot.lastElementChild;\r\n            }\r\n\r\n            if (renderer === null) {\r\n                return null;\r\n            }\r\n\r\n            this.renderers[index] = renderer;\r\n        }\r\n\r\n        return this.renderers[index];\r\n    };\r\n\r\n    proto.rendererToIndex = function (renderer) {\r\n        var i = 0, index, graph, child, currentRenderer;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    currentRenderer = graph.childNodes[child].lastElementChild;\r\n                    if (currentRenderer === renderer) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var initialColor = '';\r\n            var plot;\r\n            var renderer = this.getRenderer(index);\r\n            if (renderer === null) {\r\n                return;\r\n            }\r\n\r\n            if (renderer.lineStroke !== '') {\r\n                initialColor = renderer.lineStroke;\r\n            }\r\n\r\n            if (renderer.pointColor !== '') {\r\n                initialColor = renderer.pointColor;\r\n            }\r\n\r\n            if (renderer.barFill !== '') {\r\n                initialColor = renderer.barFill;\r\n            }\r\n\r\n            if (renderer.areaFill !== '') {\r\n                initialColor = renderer.areaFill;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'No line':\r\n                    renderer.lineWidth = 0;\r\n                    break;\r\n                case '1-pixel':\r\n                    renderer.lineWidth = 1;\r\n                    break;\r\n                case '2-pixels':\r\n                    renderer.lineWidth = 2;\r\n                    break;\r\n                case '3-pixels':\r\n                    renderer.lineWidth = 3;\r\n                    break;\r\n                case '4-pixels':\r\n                    renderer.lineWidth = 4;\r\n                    break;\r\n                case '5-pixels':\r\n                    renderer.lineWidth = 5;\r\n                    break;\r\n                case 'Line':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Point':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Line & Point':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Bar':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = initialColor;\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Fill':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = initialColor;\r\n                    break;\r\n                case 'Ellipse':\r\n                    renderer.pointShape = 'ellipse';\r\n                    break;\r\n                case 'Rectangle':\r\n                    renderer.pointShape = 'rectangle';\r\n                    break;\r\n                case 'Diamond':\r\n                    renderer.pointShape = 'diamond';\r\n                    break;\r\n                case 'Cross':\r\n                    renderer.pointShape = 'cross';\r\n                    break;\r\n                case 'Plus':\r\n                    renderer.pointShape = 'plus';\r\n                    break;\r\n                case 'No style':\r\n                    renderer.lineStyle = '';\r\n                    break;\r\n                case 'Solid':\r\n                    renderer.lineStyle = 'solid';\r\n                    break;\r\n                case 'Dot':\r\n                    renderer.lineStyle = 'dot';\r\n                    break;\r\n                case 'Dot-dash':\r\n                    renderer.lineStyle = 'dashdot';\r\n                    break;\r\n                case 'Medium dash':\r\n                    renderer.lineStyle = 'mediumdash';\r\n                    break;\r\n                case 'Large dash':\r\n                    renderer.lineStyle = 'largedash';\r\n                    break;\r\n                case 'No baseline':\r\n                    break;\r\n                case 'Zero':\r\n                    break;\r\n                case '-Inf':\r\n                    break;\r\n                case 'Inf':\r\n                    break;\r\n                case 'Color':\r\n                    if (renderer.lineStroke !== '') {\r\n                        renderer.lineStroke = '#' + arg.hex;\r\n                    } else if (renderer.pointColor !== '') {\r\n                        renderer.pointColor = '#' + arg.hex;\r\n                    } else if (renderer.barFill !== '') {\r\n                        renderer.barFill = '#' + arg.hex;\r\n                    } else if (renderer.areaFill !== '') {\r\n                        renderer.areaFill = '#' + arg.hex;\r\n                    }\r\n\r\n                    break;\r\n                case 'Hover':\r\n                    plot = this.getPlot(index);\r\n                    plot.enableHover = arg;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var plot;\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'No line':\r\n                state = renderer.lineWidth === 0;\r\n                break;\r\n            case '1-pixel':\r\n                state = renderer.lineWidth === 1;\r\n                break;\r\n            case '2-pixels':\r\n                state = renderer.lineWidth === 2;\r\n                break;\r\n            case '3-pixels':\r\n                state = renderer.lineWidth === 3;\r\n                break;\r\n            case '4-pixels':\r\n                state = renderer.lineWidth === 4;\r\n                break;\r\n            case '5-pixels':\r\n                state = renderer.lineWidth === 5;\r\n                break;\r\n            case 'Line':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor === '';\r\n                break;\r\n            case 'Point':\r\n                state = renderer.lineStroke === '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Line & Point':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Bar':\r\n                state = renderer.barFill !== '';\r\n                break;\r\n            case 'Fill':\r\n                state = renderer.areaFill !== '';\r\n                break;\r\n            case 'Ellipse':\r\n                state = renderer.pointShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = renderer.pointShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = renderer.pointShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = renderer.pointShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = renderer.pointShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = renderer.lineStyle === '';\r\n                break;\r\n            case 'Solid':\r\n                state = renderer.lineStyle === 'solid';\r\n                break;\r\n            case 'Dot':\r\n                state = renderer.lineStyle === 'dot';\r\n                break;\r\n            case 'Dot-dash':\r\n                state = renderer.lineStyle === 'dashdot';\r\n                break;\r\n            case 'Medium dash':\r\n                state = renderer.lineStyle === 'mediumdash';\r\n                break;\r\n            case 'Large dash':\r\n                state = renderer.lineStyle === 'largedash';\r\n                break;\r\n            case 'No baseline':\r\n                break;\r\n            case 'Zero':\r\n                break;\r\n            case '-Inf':\r\n                break;\r\n            case 'Inf':\r\n                break;\r\n            case 'Color':\r\n                state = this.getPlotColorFromRenderer(renderer);\r\n                break;\r\n            case 'Hover':\r\n                plot = this.getPlot(index);\r\n                state = plot.enableHover;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getPlotColor = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return this.getPlotColorFromRenderer(renderer);\r\n        }\r\n\r\n        return this.defaultPlotColors[index % this.defaultPlotColors.length];\r\n    };\r\n\r\n    proto.getPlotColorFromRenderer = function (renderer) {\r\n        var state = '#000000';\r\n        if (renderer.lineStroke !== '') {\r\n            state = renderer.lineStroke;\r\n        } else if (renderer.pointColor !== '') {\r\n            state = renderer.pointColor;\r\n        } else if (renderer.barFill !== '') {\r\n            state = renderer.barFill;\r\n        } else if (renderer.areaFill !== '') {\r\n            state = renderer.areaFill;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getLineWidth = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.lineWidth;\r\n        }\r\n\r\n        // Return the default line width if there is no renderer.\r\n        return 1;\r\n    };\r\n\r\n    proto.getLineShape = function (index) {\r\n        var lineShape = 'line';\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            if (renderer.lineStroke !== '' && renderer.pointColor === '') {\r\n                lineShape = 'line';\r\n            } else if (renderer.lineStroke === '' && renderer.pointColor !== '') {\r\n                lineShape = 'point';\r\n            } else if (renderer.lineStroke !== '' && renderer.pointColor !== '') {\r\n                lineShape = 'line & point';\r\n            } else if (renderer.barFill !== '') {\r\n                lineShape = 'bar';\r\n            } else if (renderer.areaFill !== '') {\r\n                lineShape = 'fill';\r\n            }\r\n        }\r\n\r\n        // Return the default line shape if there is no renderer.\r\n        return lineShape;\r\n    };\r\n\r\n    proto.getPointShape = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.pointShape;\r\n        }\r\n\r\n        // Return the default point shape if there is no renderer.\r\n        return 'ellipse';\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay = function (helpers) {\r\n        this.pointTypes = [\r\n            { name: 'ellipse', creator: this.createEllipseShape },\r\n            { name: 'rectangle', creator: this.createRectangleShape },\r\n            { name: 'diamond', creator: this.createDiamondShape },\r\n            { name: 'cross', creator: this.createCrossShape },\r\n            { name: 'plus', creator: this.createPlusShape }\r\n        ];\r\n\r\n        this.shapes = [];\r\n        this.helpers = helpers;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.createHeaderDisplay = function (div, index) {\r\n        var svgns, svg, shape;\r\n        svgns = 'http://www.w3.org/2000/svg';\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('style', 'border: 1px solid black');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        div.appendChild(svg);\r\n        this.shapes[index] = {};\r\n        shape = this.createLine(svgns);\r\n        shape.setAttribute('fill', 'none');\r\n        shape.setAttribute('stroke-width', this.helpers.getLineWidth(index));\r\n        shape.setAttribute('stroke', this.getComputedColor(index, 'line'));\r\n        svg.appendChild(shape);\r\n        this.shapes[index].line = shape;\r\n\r\n        this.shapes[index].points = [];\r\n        this.createPoints(index, svg, svgns, this.pointTypes);\r\n\r\n        shape = this.createFillArea(svgns);\r\n        shape.setAttribute('fill', this.getComputedColor(index, 'fill'));\r\n        shape.setAttribute('stroke-width', 1);\r\n        shape.setAttribute('stroke', this.getComputedColor(index, 'fill'));\r\n        svg.appendChild(shape);\r\n        this.shapes[index].fill = shape;\r\n\r\n        shape = this.createBars(svgns);\r\n        shape.setAttribute('fill', this.getComputedColor(index, 'bar'));\r\n        shape.setAttribute('stroke-width', 1);\r\n        shape.setAttribute('stroke', this.getComputedColor(index, 'bar'));\r\n        svg.appendChild(shape);\r\n        this.shapes[index].bar = shape;\r\n    };\r\n\r\n    proto.createLine = function (svgns) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0');\r\n        return shape;\r\n    };\r\n\r\n    proto.createFillArea = function (svgns) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0, 15,15, 0,15');\r\n        return shape;\r\n    };\r\n\r\n    proto.createBars = function (svgns) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '1,15 1,12, 4,12 4,15 6,15 6,3, 9,3 9,15 11,15 11,7 14,7 14,15 1,15');\r\n        return shape;\r\n    };\r\n\r\n    proto.createPoints = function (index, svg, svgns, pointShapes) {\r\n        var size = 4;\r\n        var i, j;\r\n        var group;\r\n        var points = [\r\n            {x: 0, y: 15},\r\n            {x: 10, y: 10},\r\n            {x: 5, y: 5},\r\n            {x: 15, y: 0}\r\n        ];\r\n        var shape;\r\n\r\n        for (j = 0; j < pointShapes.length; j++) {\r\n            group = document.createElementNS(svgns, 'g');\r\n            for (i = 0; i < 4; i++) {\r\n                shape = pointShapes[j].creator(svgns, points[i], size);\r\n                group.appendChild(shape);\r\n            }\r\n\r\n            group.setAttribute('fill', this.getComputedColor(index, 'point'));\r\n            group.setAttribute('stroke-width', 1);\r\n            group.setAttribute('stroke', this.getComputedColor(index, 'point'));\r\n            svg.appendChild(group);\r\n            this.shapes[index].points[pointShapes[j].name] = group;\r\n        }\r\n    };\r\n\r\n    proto.createEllipseShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'circle');\r\n        shape.setAttribute('cx', center.x);\r\n        shape.setAttribute('cy', center.y);\r\n        shape.setAttribute('r', size / 2);\r\n        return shape;\r\n    };\r\n\r\n    proto.createRectangleShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'rect');\r\n        shape.setAttribute('x', center.x - size / 2);\r\n        shape.setAttribute('y', center.y - size / 2);\r\n        shape.setAttribute('width', size);\r\n        shape.setAttribute('height', size);\r\n        return shape;\r\n    };\r\n\r\n    proto.createDiamondShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += ' Z';\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.createCrossShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x + size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x - size / 2) + ',' + (center.y + size / 2);\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.createPlusShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.colorWithAlpha = function (color, alpha) {\r\n        var r = parseInt(color.substring(1, 3), 16);\r\n        var g = parseInt(color.substring(3, 5), 16);\r\n        var b = parseInt(color.substring(5), 16);\r\n        return 'rgba(' + r + ',' + g + ',' +  b + ',' + alpha + ')';\r\n    };\r\n\r\n    proto.getComputedColor = function (index, lineShape) {\r\n        var currentLineShape = this.helpers.getLineShape(index);\r\n        var currentColor = this.helpers.getPlotColor(index);\r\n        if (currentLineShape === lineShape) {\r\n            return this.colorWithAlpha(currentColor, '255');\r\n        } else if (currentLineShape === 'line & point' && (lineShape === 'line' || lineShape === 'point')) {\r\n            return this.colorWithAlpha(currentColor, '255');\r\n        } else {\r\n            return this.colorWithAlpha(currentColor, '0');\r\n        }\r\n    };\r\n\r\n    proto.setPointColor = function (shape, shapeType, currentPointShape, color) {\r\n        if (shapeType === currentPointShape) {\r\n            shape.setAttribute('stroke', color);\r\n            shape.setAttribute('fill', color);\r\n        } else {\r\n            shape.setAttribute('stroke', 'rgba(0, 0, 0, 0)');\r\n            shape.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n        }\r\n    };\r\n\r\n    proto.updatePointColor = function (index, shape) {\r\n        var i;\r\n        var color = this.getComputedColor(index, 'point');\r\n        var pointShape = this.helpers.getPointShape(index);\r\n        for (i = 0; i < this.pointTypes.length; i++) {\r\n            this.setPointColor(shape.points[this.pointTypes[i].name], this.pointTypes[i].name, pointShape, color);\r\n        }\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var shape = this.shapes[index];\r\n        if (shape === undefined) {\r\n            return;\r\n        }\r\n\r\n        var lineShape = this.helpers.getLineShape(index);\r\n        var width = this.helpers.getLineWidth(index);\r\n        if (lineShape === 'line') {\r\n            shape.line.setAttribute('stroke-width', width);\r\n        }\r\n\r\n        shape.line.setAttribute('stroke', this.getComputedColor(index, 'line'));\r\n        this.updatePointColor(index, shape);\r\n        shape.fill.setAttribute('stroke', this.getComputedColor(index, 'fill'));\r\n        shape.fill.setAttribute('fill', this.getComputedColor(index, 'fill'));\r\n        shape.bar.setAttribute('stroke', this.getComputedColor(index, 'bar'));\r\n        shape.bar.setAttribute('fill', this.getComputedColor(index, 'bar'));\r\n    };\r\n}());\r\n","//****************************************\r\n// Cursor Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CursorLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.table = undefined;\r\n        this.nCursors = 0;\r\n        this.selectedIndex = -1;\r\n        this.selectedRow = null;\r\n        this.addButton = null;\r\n        this.deleteButton = null;\r\n        this.centerButton = null;\r\n        this.currentRow = null;\r\n        this.currentBtn = null;\r\n        this.observer = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers();\r\n        this.cursorLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers);\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.cursorLegendItemDisplay);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var that = this;\r\n        var n = that.nCursors;\r\n        var tr;\r\n        that.createRow(that.table, that.nCursors);\r\n        that.helpers.cursorAdded(cursor);\r\n        that.helpers.cursorPositionChanged(that.nCursors, function (x, y) {\r\n            that.updatePosition(n, x, y);\r\n        });\r\n        if (that.selectedIndex >= 0) {\r\n            tr = that.table.childNodes[that.selectedIndex * 2];\r\n            $(tr).removeClass('ni-selected-row');\r\n        }\r\n\r\n        tr = that.table.childNodes[n * 2];\r\n        that.selectedIndex = n;\r\n        that.selectedRow = tr;\r\n        $(tr).addClass('ni-selected-row');\r\n        that.nCursors++;\r\n    };\r\n\r\n    proto.updatePosition = function (index, x, y) {\r\n        var xEl = document.getElementById('x_' + index);\r\n        var yEl = document.getElementById('y_' + index);\r\n        if (xEl !== null && x !== undefined) {\r\n            xEl.innerText = x.toPrecision(4);\r\n        }\r\n\r\n        if (yEl !== null && y !== undefined) {\r\n            yEl.innerText = y.toPrecision(4);\r\n        }\r\n    };\r\n\r\n    // cursor can be removed at runtime or edit time from legend, or at edit time from right rail\r\n    proto.cursorRemoved = function (cursor) {\r\n        var index;\r\n        index = this.helpers.cursorToIndex(cursor);\r\n        if (index >= 0) {\r\n            $('.ni-master-row').eq(index).remove();\r\n            $('.ni-details-box').eq(index).remove();\r\n            this.cursorLegendItemDisplay.clearShape(index);\r\n            this.nCursors--;\r\n            this.helpers.cursorRemoved(cursor);\r\n\r\n            if (index === this.selectedIndex) {\r\n                this.selectedIndex = -1;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.cursorChanged = function (cursor) {\r\n        var index = this.helpers.cursorToIndex(cursor);\r\n        this.cursorLegendItemDisplay.updateShape(index);\r\n        this.updateName(index);\r\n        this.updateVisible(index);\r\n    };\r\n\r\n    proto.updateName = function (index) {\r\n        $('#name_' + index).text(this.helpers.getState('name', index));\r\n    };\r\n\r\n    proto.updateVisible = function (index) {\r\n        var visible = this.helpers.getState('visible', index);\r\n        if (visible) {\r\n            $('#visible_' + index).removeClass('ni-visibility-off-icon').addClass('ni-visibility-on-icon');\r\n        } else {\r\n            $('#visible_' + index).removeClass('ni-visibility-on-icon').addClass('ni-visibility-off-icon');\r\n        }\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        graphElement.registerCursorLegend(this);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            that.helpers.graphName = that.graphName;\r\n            that.helpers.isInEditMode = that.isInEditMode;\r\n            var div = document.createElement('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.id = 'div' + NI_SUPPORT.uniqueId();\r\n            that.appendChild(div);\r\n            that.table = document.createElement('table');\r\n            that.table.className = 'ni-cursors-box';\r\n            div.appendChild(that.table);\r\n\r\n            var buttonsRow = document.createElement('div');\r\n            div.appendChild(buttonsRow);\r\n\r\n            var center = document.createElement('button');\r\n            center.className = 'ni-center-button ni-command-button';\r\n            $(center).jqxButton();\r\n            $(center).on('click', function () {\r\n                that.helpers.centerCursor(that.selectedIndex);\r\n            });\r\n            buttonsRow.appendChild(center);\r\n            that.centerButton = center;\r\n\r\n            var add = document.createElement('button');\r\n            add.className = 'ni-add-button ni-command-button';\r\n            $(add).jqxButton();\r\n            $(add).on('click', function () {\r\n                that.helpers.addCursor();\r\n            });\r\n            buttonsRow.appendChild(add);\r\n            that.addButton = add;\r\n\r\n            var del = document.createElement('button');\r\n            del.className = 'ni-delete-button ni-command-button';\r\n            $(del).jqxButton();\r\n            $(del).on('click', function () {\r\n                that.helpers.deleteCursor(that.selectedIndex);\r\n                that.selectedIndex = -1;\r\n            });\r\n            buttonsRow.appendChild(del);\r\n            that.deleteButton = del;\r\n\r\n            that.addEventListener('ni-cursor-attached', function (evt) {\r\n                that.cursorAdded(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-detached', function (evt) {\r\n                that.cursorRemoved(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-changed', function (evt) {\r\n                that.cursorChanged(evt.detail.originalSource);\r\n            });\r\n\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.imageRenderer = function (row) {\r\n        return this.cursorLegendItemDisplay.createHeaderDisplay(row);\r\n    };\r\n\r\n    proto.createRow = function (table, index) {\r\n        var that = this;\r\n        var btn = that.createMainRow(table, index);\r\n        var row = that.createDetailsRow(table, index);\r\n        $(btn).on('click', function () {\r\n            if (that.currentRow !== row) {\r\n                var currentRow = that.currentRow;\r\n                var currentBtn = that.currentBtn;\r\n                row.style.display = 'table-row';\r\n                that.currentRow = row;\r\n                btn.classList.remove('ni-closed-icon');\r\n                btn.classList.add('ni-open-icon');\r\n                that.currentBtn = btn;\r\n                if (currentRow !== null) {\r\n                    currentRow.style.display = 'none';\r\n                }\r\n\r\n                if (currentBtn !== null) {\r\n                    currentBtn.classList.remove('ni-open-icon');\r\n                    currentBtn.classList.add('ni-closed-icon');\r\n                }\r\n            } else {\r\n                row.style.display = 'none';\r\n                btn.classList.remove('ni-open-icon');\r\n                btn.classList.add('ni-closed-icon');\r\n                that.currentRow = null;\r\n                that.currentBtn = null;\r\n            }\r\n        });\r\n        that.applyFont();\r\n    };\r\n\r\n    proto.getRowIndex = function (table, tr) {\r\n        var i;\r\n        for (i = 0; i < table.childNodes.length; i++) {\r\n            if (table.childNodes[i] === tr) {\r\n                return i / 2;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    };\r\n\r\n    proto.createMainRow = function (table, index) {\r\n        var that = this;\r\n        var rowIndex;\r\n        var tr, td0, td1, td2, td3, td4, span, p, display, button, showHideButton, visible;\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-master-row';\r\n        table.appendChild(tr);\r\n        $(tr).on('click', function () {\r\n            if (that.selectedRow !== tr) {\r\n                if (that.selectedRow !== null) {\r\n                    $(that.selectedRow).removeClass('ni-selected-row');\r\n                }\r\n\r\n                that.selectedIndex = that.getRowIndex(table, tr);\r\n                that.selectedRow = tr;\r\n                $(tr).addClass('ni-selected-row');\r\n            } else { // deselect the selected row\r\n                that.selectedIndex = -1;\r\n                $(that.selectedRow).removeClass('ni-selected-row');\r\n            }\r\n        });\r\n\r\n        td0 = document.createElement('td');\r\n        td0.className = 'ni-expand-box';\r\n        tr.appendChild(td0);\r\n        showHideButton = document.createElement('input');\r\n        showHideButton.className = 'ni-expand-button ni-closed-icon';\r\n        showHideButton.type = 'button';\r\n        showHideButton.id = 'details_' + index;\r\n        td0.appendChild(showHideButton);\r\n        $(showHideButton).jqxButton({ width : 20, height: 20, disabled: that.isInEditMode });\r\n\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-cursor-box';\r\n        tr.appendChild(td1);\r\n        display = that.cursorLegendItemDisplay.createHeaderDisplay(index);\r\n        if (display !== null) {\r\n            display.id = 'display_' + index;\r\n            td1.appendChild(display);\r\n        }\r\n\r\n        span = document.createElement('span');\r\n        span.className = 'ni-cursor-title';\r\n        span.id = 'name_' + index;\r\n        p = document.createTextNode(that.helpers.getState('name', index));\r\n        span.appendChild(p);\r\n        td1.appendChild(span);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-x-box';\r\n        tr.appendChild(td2);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-x-title';\r\n        span.id = 'x_' + index;\r\n        p = document.createTextNode(parseFloat(that.helpers.getState('x', index)));\r\n        span.appendChild(p);\r\n        td2.appendChild(span);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-y-box';\r\n        tr.appendChild(td3);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-y-title';\r\n        span.id = 'y_' + index;\r\n        p = document.createTextNode(parseFloat(that.helpers.getState('y', index)));\r\n        span.appendChild(p);\r\n        td3.appendChild(span);\r\n\r\n        td4 = document.createElement('td');\r\n        td4.className = 'ni-actions-box';\r\n        tr.appendChild(td4);\r\n        button = document.createElement('input');\r\n        button.className = 'ni-visibility-button ni-action-button';\r\n        button.type = 'button';\r\n        button.id = 'visible_' + index;\r\n        visible = that.helpers.getState('visible', index);\r\n        if (visible) {\r\n            button.classList.add('ni-visibility-on-icon');\r\n        } else {\r\n            button.classList.add('ni-visibility-off-icon');\r\n        }\r\n\r\n        $(button).on('click', function () {\r\n            rowIndex = that.getRowIndex(table, tr);\r\n            that.helpers.handleClick('visible', '', rowIndex);\r\n        });\r\n\r\n        td4.appendChild(button);\r\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\r\n\r\n        button = document.createElement('input');\r\n        button.className = 'ni-snap-button ni-action-button';\r\n        button.type = 'button';\r\n        button.id = 'snap_' + index;\r\n        td4.appendChild(button);\r\n        $(button).on('click', function () {\r\n            rowIndex = that.getRowIndex(table, tr);\r\n            that.helpers.handleClick('snap', '', rowIndex);\r\n        });\r\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\r\n\r\n        return showHideButton;\r\n    };\r\n\r\n    proto.createDetailsItem = function (table, title, className) {\r\n        var tr, td1, td2, div, span, p;\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-details-row';\r\n        table.appendChild(tr);\r\n\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-details-row-title-box';\r\n        tr.appendChild(td1);\r\n        span = document.createElement('span');\r\n        span.class = 'ni-details-row-title';\r\n        td1.appendChild(span);\r\n        p = document.createTextNode(title);\r\n        span.appendChild(p);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-details-row-control-box';\r\n        tr.appendChild(td2);\r\n        div = document.createElement('div');\r\n        div.className = className;\r\n        td2.appendChild(div);\r\n        return div;\r\n    };\r\n\r\n    proto.createDetailsRow = function (table, index) {\r\n        var subtable, tr, td, div;\r\n\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-details-box';\r\n        tr.style.display = 'none';\r\n        table.appendChild(tr);\r\n\r\n        td = document.createElement('td');\r\n        td.colSpan = 5;\r\n        tr.appendChild(td);\r\n\r\n        subtable = document.createElement('table');\r\n        subtable.className = 'ni-details';\r\n        td.appendChild(subtable);\r\n\r\n        div = this.createDetailsItem(subtable, 'Color', 'ni-colorbox-selector ni-selector');\r\n        this.uihelpers.addColorBox({ name: 'Color' }, div, index);\r\n\r\n        div = this.createDetailsItem(subtable, 'Shape', 'ni-shape-selector ni-selector');\r\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('shape'), div, index, 16);\r\n\r\n        div = this.createDetailsItem(subtable, 'Crosshair', 'ni-crosshair-selector ni-selector');\r\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('crosshair'), div, index, 16);\r\n\r\n        return tr;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemName.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemX.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemY.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemDetails.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemName.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemX.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemY.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemDetails.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                if (this.addButton !== null) {\r\n                    this.addButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                if (this.deleteButton !== null) {\r\n                    this.deleteButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                if (this.centerButton !== null) {\r\n                    this.centerButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                $(this.table).find('.ni-expand-button').each(function () {\r\n                    $(this).jqxButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                $(this.table).find('.ni-visibility-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                $(this.table).find('.ni-snap-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cursor-legend', 'HTMLNICursorLegend');\r\n}(NationalInstruments.HtmlVI.Elements.CursorLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.cursors = [];\r\n        this.defaultCursorName = NI_SUPPORT.i18n('msg_defaultcursorname');\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getMenuItem = function (name) {\r\n        if (name === 'shape') {\r\n            return {\r\n                name: 'Target Shape', tag: 'msg_targetshape', children: [\r\n                    { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                    { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                    { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                    { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                    { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n                ]\r\n            };\r\n        } else if (name === 'crosshair') {\r\n            return {\r\n                name: 'Crosshair Style', tag: 'msg_crosshairstyle', children: [\r\n                    { name: 'No style', tag: 'msg_nostyle', cssClass: 'ni-no-crosshair-icon' },\r\n                    { name: 'Vertical', tag: 'msg_vertical', cssClass: 'ni-vertical-crosshair-icon' },\r\n                    { name: 'Horizontal', tag: 'msg_horizontal', cssClass: 'ni-horizontal-crosshair-icon' },\r\n                    { name: 'Both', tag: 'msg_both', cssClass: 'ni-both-crosshair-icon' }\r\n                ]\r\n            };\r\n        }\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                return; // its already in the list\r\n            }\r\n        }\r\n\r\n        this.cursors.push(cursor);\r\n    };\r\n\r\n    // if cursor is not already removed from the list then remove it\r\n    proto.cursorRemoved = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                this.cursors.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.addCursor = function () {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        var cursor = document.createElement('ni-cursor');\r\n        cursor.niControlId = NI_SUPPORT.uniqueId();\r\n        this.cursors.push(cursor);\r\n        cursor.label = this.nextCursorName();\r\n        graph.appendChild(cursor);\r\n    };\r\n\r\n    proto.centerCursor = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            cursor.x = 0.5;\r\n            cursor.y = 0.5;\r\n        }\r\n    };\r\n\r\n    proto.cursorPositionChanged = function (index, changed) {\r\n        var cursor = this.getCursor(index);\r\n\r\n        // TODO mraj is undefined an expected value?\r\n        if (cursor === undefined) {\r\n            throw new Error('cursor is undefined');\r\n        }\r\n\r\n        $(cursor).on('cursorUpdated', function (e, data) {\r\n            changed(data.x, data.y);\r\n        });\r\n    };\r\n\r\n    proto.nextCursorName = function () {\r\n        var graph, maxIndex = 1, i, cursor;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                    cursor = graph.childNodes[child];\r\n                    i = parseInt(cursor.label.substring(this.defaultCursorName.length));\r\n                    if (i > maxIndex) {\r\n                        maxIndex = i;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.defaultCursorName + (maxIndex + 1);\r\n    };\r\n\r\n    proto.getCursor = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var cursor = null;\r\n        var child;\r\n        if (this.cursors[index] === null || this.cursors[index] === undefined) {\r\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                        if (i === index) {\r\n                            cursor = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (cursor !== null) {\r\n                this.cursors[index] = cursor;\r\n            }\r\n        }\r\n\r\n        return this.cursors[index];\r\n    };\r\n\r\n    proto.deleteCursor = function (index) {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            graph.removeChild(cursor);\r\n        }\r\n    };\r\n\r\n    proto.cursorToIndex = function (cursor) {\r\n        var i = 0, index = -1;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i] !== null && cursor.niControlId === this.cursors[i].niControlId) {\r\n                index = i;\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor === null && cursor === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (itemName) {\r\n            case 'name':\r\n                break;\r\n            case 'x':\r\n                break;\r\n            case 'y':\r\n                break;\r\n            case 'visible':\r\n                cursor.show = !cursor.show;\r\n                break;\r\n            case 'snap':\r\n                cursor.snapToData = !cursor.snapToData;\r\n                break;\r\n            case 'center':\r\n                cursor.x = 0.5;\r\n                cursor.y = 0.5;\r\n                break;\r\n            case 'delete':\r\n                this.deleteCursor(index);\r\n                break;\r\n            case 'Ellipse':\r\n                cursor.targetShape = 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                cursor.targetShape = 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                cursor.targetShape = 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                cursor.targetShape = 'cross';\r\n                break;\r\n            case 'Plus':\r\n                cursor.targetShape = 'plus';\r\n                break;\r\n            case 'No style':\r\n                cursor.crosshairStyle = 'none';\r\n                break;\r\n            case 'Vertical':\r\n                cursor.crosshairStyle = 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                cursor.crosshairStyle = 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                cursor.crosshairStyle = 'both';\r\n                break;\r\n            case 'Color':\r\n                cursor.cursorColor = '#' + arg.hex;\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor === null || cursor === undefined) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'name':\r\n                state = cursor.label;\r\n                break;\r\n            case 'x':\r\n                state = cursor.x;\r\n                break;\r\n            case 'y':\r\n                state = cursor.y;\r\n                break;\r\n            case 'visible':\r\n                state = cursor.show;\r\n                break;\r\n            case 'snap':\r\n                state = cursor.snapToData;\r\n                break;\r\n            case 'center':\r\n                break;\r\n            case 'delete':\r\n                break;\r\n            case 'Ellipse':\r\n                state = cursor.targetShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = cursor.targetShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = cursor.targetShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = cursor.targetShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = cursor.targetShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = cursor.crosshairStyle === 'none';\r\n                break;\r\n            case 'Vertical':\r\n                state = cursor.crosshairStyle === 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                state = cursor.crosshairStyle === 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                state = cursor.crosshairStyle === 'both';\r\n                break;\r\n            case 'Color':\r\n                state = cursor.cursorColor;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getTargetShape = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.targetShape;\r\n        }\r\n\r\n        return 'ellipse';\r\n    };\r\n\r\n    proto.getCrosshair = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.crosshairStyle;\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay = function (helpers) {\r\n        this.helpers = helpers;\r\n        this.items = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var svgns = 'http://www.w3.org/2000/svg';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.clearShape = function (index) {\r\n        this.items.splice(index, 1);\r\n    };\r\n\r\n    //Methods\r\n    proto.createHeaderDisplay = function (index) {\r\n        var svg;\r\n        var cursor = this.helpers.getCursor(index);\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('class', 'ni-cursor-display');\r\n        //svg.setAttribute('style', 'border: 1px solid black; display: inline-block; margin: auto; margin-top: 4px; vertical-align: middle;');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        this.addShapes(cursor, svg, svgns);\r\n        this.items.push(svg);\r\n        return svg;\r\n    };\r\n\r\n    proto.addShapes = function (cursor, svg, svgns) {\r\n        this.makeShape(cursor, svg, svgns);\r\n        this.makeLine(cursor, svg, svgns, '8', '1', '8', '4', 1);\r\n        this.makeLine(cursor, svg, svgns, '12', '8', '15', '8', 2);\r\n        this.makeLine(cursor, svg, svgns, '8', '12', '8', '15', 3);\r\n        this.makeLine(cursor, svg, svgns, '1', '8', '4', '8', 4);\r\n    };\r\n\r\n    proto.makeShape = function (cursor, svg, svgns) {\r\n        var rect, circle;\r\n        var shape = cursor.targetShape;\r\n        var color = this.getColorString(cursor, 0);\r\n        switch (shape) {\r\n            case 'ellipse':\r\n                circle = document.createElementNS(svgns, 'circle');\r\n                circle.setAttribute('cx', '8');\r\n                circle.setAttribute('cy', '8');\r\n                circle.setAttribute('r', '4');\r\n                circle.setAttribute('stroke', color);\r\n                circle.setAttribute('stroke-width', '1');\r\n                circle.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(circle);\r\n                break;\r\n            case 'rectangle':\r\n                rect = document.createElementNS(svgns, 'rect');\r\n                rect.setAttribute('x', '4');\r\n                rect.setAttribute('y', '4');\r\n                rect.setAttribute('width', '8');\r\n                rect.setAttribute('height', '8');\r\n                rect.setAttribute('stroke', color);\r\n                rect.setAttribute('stroke-width', '1');\r\n                rect.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(rect);\r\n                break;\r\n            case 'diamond':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '12', '8', 0);\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '8', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '4', '8', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '8', '4', 0);\r\n                break;\r\n            case 'cross':\r\n                this.makeLine(cursor, svg, svgns, '4', '4', '12', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '12', '12', '4', 0);\r\n                break;\r\n            case 'plus':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '8', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '12', '8', 0);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.makeLine = function (cursor, svg, svgns, x1, y1, x2, y2, colorIndex) {\r\n        var line = document.createElementNS(svgns, 'line');\r\n        line.setAttribute('x1', x1);\r\n        line.setAttribute('y1', y1);\r\n        line.setAttribute('x2', x2);\r\n        line.setAttribute('y2', y2);\r\n        line.setAttribute('stroke', this.getColorString(cursor, colorIndex));\r\n        line.setAttribute('stroke-width', 1);\r\n        svg.appendChild(line);\r\n    };\r\n\r\n    proto.getColorString = function (cursor, partIndex) {\r\n        var crosshair = cursor.crosshairStyle;\r\n        var color = cursor.cursorColor;\r\n        var html;\r\n        switch (crosshair) {\r\n            case 'none':\r\n                html = this.colorWithAlpha(color, partIndex === 0 ? '255' : '0');\r\n                break;\r\n            case 'vertical':\r\n                html = this.colorWithAlpha(color, partIndex === 0 || partIndex === 1 || partIndex === 3 ? '255' : '0');\r\n                break;\r\n            case 'horizontal':\r\n                html = this.colorWithAlpha(color, partIndex === 0 || partIndex === 2 || partIndex === 4 ? '255' : '0');\r\n                break;\r\n            case 'both':\r\n                html = this.colorWithAlpha(color, '255');\r\n                break;\r\n        }\r\n\r\n        return html;\r\n    };\r\n\r\n    proto.colorWithAlpha = function (color, alpha) {\r\n        var r = parseInt(color.substring(1, 3), 16);\r\n        var g = parseInt(color.substring(3, 5), 16);\r\n        var b = parseInt(color.substring(5), 16);\r\n        return 'rgba(' + r + ',' + g + ',' + b + ',' + alpha + ')';\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var svg = this.items[index];\r\n        var cursor = this.helpers.getCursor(index);\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        while (svg.firstChild) {\r\n            svg.removeChild(svg.firstChild);\r\n        }\r\n\r\n        this.addShapes(cursor, svg, svgns);\r\n    };\r\n}());\r\n","//****************************************\r\n// Scale Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ScaleLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.tbl = undefined;\r\n        this.nScales = 0;\r\n        this.currentExpander = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers();\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, null);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.scaleAdded = function () {\r\n        this.createRow(this.tbl, this.nScales);\r\n        this.helpers.addScale(this.nScales);\r\n        this.nScales++;\r\n    };\r\n\r\n    proto.scaleRemoved = function (scale) {\r\n        var tr, td, text, i, j, index, toRemove = null;\r\n        j = 0;\r\n        for (i = 0; i < this.tbl.childNodes.length; i++) {\r\n            if (this.tbl.childNodes[i].localName === 'tr') {\r\n                tr = this.tbl.childNodes[i];\r\n                td = tr.childNodes[0];\r\n                text = td.innerText;\r\n                if (text === scale.label) {\r\n                    toRemove = tr;\r\n                    index = j;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            j++;\r\n        }\r\n\r\n        if (toRemove !== null) {\r\n            this.tbl.removeChild(toRemove);\r\n            this.helpers.clearScale(index);\r\n        }\r\n\r\n        this.nScales--;\r\n    };\r\n\r\n    proto.createRows = function () {\r\n        var i;\r\n        for (i = 0; i < this.nScales; i++) {\r\n            this.createRow(this.tbl, i);\r\n        }\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        graphElement.registerScaleLegend(this);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            this.helpers.graphName = this.graphName;\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.className = 'ni-scale-legend-box';\r\n            childElement.appendChild(this.tbl);\r\n            this.addEventListener('ni-cartesian-axis-attached', function () {\r\n                that.scaleAdded();\r\n            });\r\n            this.addEventListener('ni-cartesian-axis-detached', function (evt) {\r\n                that.scaleRemoved(evt.detail.originalSource);\r\n            });\r\n            this.addEventListener('ni-axis-changed', function (evt) {\r\n                var scale = evt.detail.originalSource;\r\n                var index = that.helpers.scaleToIndex(scale);\r\n                var labels = $(this.tbl).find('.ni-row-title');\r\n                var lockButtons = $(this.tbl).find('.ni-lock-button');\r\n                $(labels[index]).first().text(scale.label);\r\n                this.setLockBackground(lockButtons[index], false, index);\r\n            });\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl, index) {\r\n        var that = this;\r\n        var tr, td1, td2, td3, span, p, btnLock, btnScaleOnce;\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-row-title-box';\r\n        tr.appendChild(td1);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-row-title';\r\n        td1.appendChild(span);\r\n        var scaleName = that.helpers.getState('name', index);\r\n        p = document.createTextNode(scaleName);\r\n        span.appendChild(p);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-lock-box';\r\n        tr.appendChild(td2);\r\n        btnLock = document.createElement('button');\r\n        btnLock.type = 'button';\r\n        btnLock.className = 'ni-lock-button ni-button';\r\n        $(btnLock).jqxToggleButton();\r\n        $(btnLock).jqxToggleButton({ disabled: !this.helpers.getState('canLock', index) });\r\n        $(btnLock).on('click', function () {\r\n            that.helpers.handleClick('lock', index);\r\n            that.setLockBackground(btnLock, false, index);\r\n        });\r\n        that.setLockBackground(btnLock, true, index);\r\n        td2.appendChild(btnLock);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-scaleonce-box';\r\n        tr.appendChild(td3);\r\n        btnScaleOnce = document.createElement('button');\r\n        btnScaleOnce.type = 'button';\r\n        btnScaleOnce.className = 'ni-scaleonce-button ni-button';\r\n        $(btnScaleOnce).on('click', function () {\r\n            that.helpers.handleClick('scaleonce', index);\r\n            that.setLockBackground(btnLock, false, index);\r\n        });\r\n        td3.appendChild(btnScaleOnce);\r\n        this.applyFont();\r\n    };\r\n\r\n    proto.setLockBackground = function (btn, first, index) {\r\n        var state = this.helpers.getState('lock', index);\r\n        if (state !== undefined) {\r\n            if (first === true) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n            }\r\n\r\n            if (state === true) {\r\n                btn.classList.remove('ni-locked-icon');\r\n                btn.classList.add('ni-unlocked-icon');\r\n            } else {\r\n                btn.classList.remove('ni-unlocked-icon');\r\n                btn.classList.add('ni-locked-icon');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var that = this;\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                $(this.tbl).find('.ni-lock-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: that.isInEditMode });\r\n                });\r\n                $(this.tbl).find('.ni-scaleonce-button').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-scale-legend', 'HTMLNIScaleLegend');\r\n}(NationalInstruments.HtmlVI.Elements.ScaleLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Scale Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.scales = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addScale = function () {\r\n    };\r\n\r\n    proto.clearScale = function (index) {\r\n        this.scales[index] = null;\r\n    };\r\n\r\n    proto.getScale = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var scale = null;\r\n        var child;\r\n        if (this.scales[index] === null || this.scales[index] === undefined) {\r\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                        graph.childNodes[child].localName === 'ni-color-scale') {\r\n                        if (i === index) {\r\n                            scale = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (scale === null) {\r\n                return null;\r\n            }\r\n\r\n            this.scales[index] = scale;\r\n        }\r\n\r\n        return this.scales[index];\r\n    };\r\n\r\n    proto.scaleToIndex = function (scale) {\r\n        var i = 0, index = 0, graph, child, currentScale;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                    graph.childNodes[child].localName === 'ni-color-scale') {\r\n                    currentScale = graph.childNodes[child];\r\n                    if (currentScale === scale) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var scale = this.getScale(index);\r\n            if (scale === null) {\r\n                return;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'lock':\r\n                    if (scale.autoScale) {\r\n                        // turns off autoscale and sets axis min and max\r\n                        // at the current \"autoscaled\" values\r\n                        scale.scaleOnce();\r\n                    } else {\r\n                        scale.autoScale = true;\r\n                    }\r\n\r\n                    break;\r\n                case 'scaleonce':\r\n                    scale.scaleOnce();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var scale = this.getScale(index);\r\n        if (scale === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'canLock':\r\n                state = scale.localName !== 'ni-color-scale';\r\n                break;\r\n            case 'lock':\r\n                state = scale.autoScale;\r\n                break;\r\n            case 'scaleonce':\r\n                break;\r\n            case 'name':\r\n                state = scale.label;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n}());\r\n","//****************************************\r\n// Graph Tools Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.GraphTools = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum = Object.freeze({\r\n    LOCKED: 'locked',\r\n    PAN: 'pan',\r\n    ZOOM: 'zoom'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var MODE_ENUM = NationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    var navigationStates = {};\r\n    navigationStates[MODE_ENUM.LOCKED] = [true, false, false];\r\n    navigationStates[MODE_ENUM.PAN] = [false, true, false];\r\n    navigationStates[MODE_ENUM.ZOOM] = [false, false, true];\r\n\r\n    //Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'mode',\r\n            defaultValue: MODE_ENUM.PAN,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.attachToGraph = function (graphElement) {\r\n        this._parentGraph = graphElement;\r\n        graphElement.registerGraphTools(this);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('div');\r\n            childElement.id = 'div' + NI_SUPPORT.uniqueId();\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.table = document.createElement('table');\r\n            this.table.className = 'ni-graph-tools-box';\r\n            childElement.appendChild(this.table);\r\n\r\n            this.addEventListener('ni-cartesian-graph-box-selected', function (evt) {\r\n                // a rectangle selection was made on the graph, zoom into that selection\r\n                // info about the selection box is passed in the event details (ranges)\r\n                var ranges = evt.detail.originalSource.ranges;\r\n                var plot = that._parentGraph.graph;\r\n\r\n                // set the visible ranges for x axes\r\n                $.each(plot.getXAxes(), function (_, axis) {\r\n                    var opts = axis.options;\r\n                    opts.min = ranges.xaxis.from;\r\n                    opts.max = ranges.xaxis.to;\r\n                });\r\n                // set the visible ranges for y axes\r\n                $.each(plot.getYAxes(), function (_, axis) {\r\n                    var opts = axis.options;\r\n                    opts.min = ranges.yaxis.from;\r\n                    opts.max = ranges.yaxis.to;\r\n                });\r\n                // redraw plot\r\n                plot.setupGrid();\r\n                plot.draw();\r\n                plot.clearSelection();\r\n\r\n                that._parentGraph.axes.forEach(function (axis) {\r\n                    axis.syncWithFlot();\r\n                });\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-graph-interaction', function () {\r\n                that._parentGraph.axes.forEach(function (axis) {\r\n                    axis.syncWithFlot();\r\n                });\r\n            });\r\n\r\n            this.createRow(this.table);\r\n\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null && graph instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n                this.attachToGraph(graph);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl) {\r\n        var that = this;\r\n        var tr, td1, td2, td3, td4, navNone, btnPan, btnZoom, btnZoomOut;\r\n\r\n        function setNavButtonsState(locked, pan, zoom) {\r\n            $(navNone).jqxToggleButton({ disabled: locked });\r\n            $(btnPan).jqxToggleButton({ disabled: pan });\r\n            $(btnZoom).jqxToggleButton({ disabled: zoom });\r\n        }\r\n\r\n        function setMode(mode) {\r\n            var states =  navigationStates[mode];\r\n\r\n            if (states) {\r\n                setNavButtonsState.apply(null, states);\r\n                that.mode = mode;\r\n            }\r\n        }\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-button-box';\r\n        tr.appendChild(td1);\r\n        navNone = document.createElement('button');\r\n        navNone.type = 'button';\r\n        navNone.className = 'ni-navigation-locked-button ni-button';\r\n        $(navNone).jqxToggleButton();\r\n        $(navNone).on('click', function () {\r\n            setMode(MODE_ENUM.LOCKED);\r\n        });\r\n        td1.appendChild(navNone);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-button-box';\r\n        tr.appendChild(td2);\r\n        btnPan = document.createElement('button');\r\n        btnPan.type = 'button';\r\n        btnPan.className = 'ni-navigation-pan-button ni-button';\r\n        $(btnPan).jqxToggleButton();\r\n        $(btnPan).on('click', function () {\r\n            setMode(MODE_ENUM.PAN);\r\n        });\r\n        td2.appendChild(btnPan);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-button-box';\r\n        tr.appendChild(td3);\r\n        btnZoom = document.createElement('button');\r\n        btnZoom.type = 'button';\r\n        btnZoom.className = 'ni-navigation-zoom-button ni-button';\r\n        $(btnZoom).on('click', function () {\r\n            setMode(MODE_ENUM.ZOOM);\r\n        });\r\n        td3.appendChild(btnZoom);\r\n\r\n        setMode(this.mode); // initialize the \"navigation radio butons\" in the default mode\r\n        td4 = document.createElement('td');\r\n        td4.className = 'ni-button-box';\r\n        tr.appendChild(td4);\r\n        btnZoomOut = document.createElement('button');\r\n        btnZoomOut.type = 'button';\r\n        btnZoomOut.className = 'ni-navigation-zoom-out-button ni-button';\r\n        $(btnZoomOut).jqxButton({ disabled: false });\r\n        $(btnZoomOut).on('click', function () {\r\n            that._parentGraph.axes.forEach(function (axis) {\r\n                axis.scaleOnce();\r\n            });\r\n        });\r\n        td4.appendChild(btnZoomOut);\r\n    };\r\n\r\n    proto.allowsScrollWheelZoom = function () {\r\n        return this.mode === MODE_ENUM.PAN || this.mode === MODE_ENUM.ZOOM;\r\n    };\r\n\r\n    proto.allowsPan = function () {\r\n        return this.mode === MODE_ENUM.PAN;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        var that = this;\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                //this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n\r\n                $(this.table).find('.ni-navigation-locked-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: that.isInEditMode });\r\n                });\r\n                $(this.table).find('.ni-navigation-pan-button').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                $(this.table).find('.ni-navigation-zoom-button').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                break;\r\n            case 'mode':\r\n                this.sendEventToParentGraph('ni-graph-tools-changed');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-graph-tools', 'HTMLNIGraphTools');\r\n}(NationalInstruments.HtmlVI.Elements.GraphTools, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n// OpaqueRefnum Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.OpaqueRefnum = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    proto.defineElementInfo(proto, 'ni-opaque-refnum', 'HTMLNIOpaqueRefnum');\r\n}(NationalInstruments.HtmlVI.Elements.OpaqueRefnum, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Tab Control Prototype\r\n// DOM Registration: HTMLNITabControl\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TabControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: 0,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'tabStripPlacement',\r\n            defaultValue: 'top'\r\n        });\r\n\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._validTabHeadersLength = 0;\r\n    };\r\n\r\n    // This function does not rely on instance properties of child TagItems\r\n    // so can be used before child TagItems have been upgraded\r\n    proto.findNonUpgradedChildTabItems = function () {\r\n        var myChildTabItems = [],\r\n            tabItemName = NationalInstruments.HtmlVI.Elements.TabItem.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === tabItemName && this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem === false) {\r\n                myChildTabItems.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return myChildTabItems;\r\n    };\r\n\r\n    proto.createHeaderContainer = function (tabItemToIgnore) {\r\n        // TODO mraj tabItemToIgnore needed because PhantomJS 1.9.8 calls the detached callback before removing the element from the DOM while PhantomJS 2+ and all modern browsers call detached after removing the element from the DOM\r\n\r\n        // Generated DOM:\r\n        //<div ni-data-container ni-data-valid-tab-headers-length=\"n\">\r\n        //    <ul ni-data-headers>\r\n        //        <li>Tab Header 1</li>\r\n        //        ...\r\n        //    </ul>\r\n        //    <div ni-data-frames>\r\n        //        <div><!-- Empty Tab 1 --></div>\r\n        //        ...\r\n        //    </div>\r\n        //</div>\r\n\r\n        var container = document.createElement('div');\r\n        container.id = NI_SUPPORT.uniqueId();\r\n        var tabHeaders, tabFrames;\r\n\r\n        var i, currHeader, validTabHeadersLength;\r\n        var headers = [];\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem && this.children[i] !== tabItemToIgnore) {\r\n                if (headers[this.children[i].tabPosition] === undefined) {\r\n                    headers[this.children[i].tabPosition] = this.children[i].header;\r\n                } else {\r\n                    // If error, reset header and stop iteration\r\n                    NI_SUPPORT.infoVerbose('TabControl has multiple TabItems with tabPosition (' + this.children[i].tabPosition + ')');\r\n                    headers = [];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        tabHeaders = document.createElement('ul');\r\n        tabFrames = document.createElement('div');\r\n        if (headers.length > 0) {\r\n            for (i = 0; i < headers.length; i++) {\r\n                if (typeof headers[i] === 'string') {\r\n                    currHeader = document.createElement('li');\r\n                    currHeader.textContent = headers[i];\r\n                    tabHeaders.appendChild(currHeader);\r\n                    tabFrames.appendChild(document.createElement('div'));\r\n                } else {\r\n                    // If error, reset headers + frames and stop iteration\r\n                    NI_SUPPORT.infoVerbose('TabControl is missing TabItem at tabPosition (' + i + ')');\r\n                    tabHeaders = document.createElement('ul');\r\n                    tabFrames = document.createElement('div');\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (tabHeaders.children.length === 0 || tabFrames.children.length === 0) {\r\n            currHeader = document.createElement('li');\r\n            currHeader.innerHTML = '&nbsp;';\r\n            tabHeaders.appendChild(currHeader);\r\n            tabFrames.appendChild(document.createElement('div'));\r\n            NI_SUPPORT.infoVerbose('TabControl has no valid TabItems to render, creating dummy so jqxRibbon does not error');\r\n            validTabHeadersLength = 0;\r\n        } else {\r\n            // tabHeaders and tabFrames should be the same length\r\n            validTabHeadersLength = tabHeaders.children.length;\r\n        }\r\n\r\n        container.appendChild(tabHeaders);\r\n        container.appendChild(tabFrames);\r\n        container.setAttribute('ni-data-container', '');\r\n        container.setAttribute('ni-data-valid-tab-headers-length', validTabHeadersLength);\r\n        tabHeaders.setAttribute('ni-data-headers', '');\r\n        tabHeaders.classList.add('ni-headers-box');\r\n        tabFrames.setAttribute('ni-data-frames', '');\r\n\r\n        return container;\r\n    };\r\n\r\n    proto.getHeaderContainer = function () {\r\n        var i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].getAttribute('ni-data-container') !== null) {\r\n                return this.children[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n    proto.attachHeaderContainer = function (tabItemToIgnore) {\r\n        var widgetSettings = {},\r\n            childElement,\r\n            jqref,\r\n            oldContainer,\r\n            that = this;\r\n\r\n        oldContainer = this.getHeaderContainer();\r\n        if (oldContainer !== undefined) {\r\n            this.removeChild(oldContainer);\r\n        }\r\n\r\n        widgetSettings.width = '100%';\r\n        widgetSettings.height = '100%';\r\n        widgetSettings.animationType = 'none';\r\n        widgetSettings.position = this.tabStripPlacement.toLowerCase();\r\n\r\n        childElement = this.createHeaderContainer(tabItemToIgnore);\r\n\r\n        this._validTabHeadersLength = parseFloat(childElement.getAttribute('ni-data-valid-tab-headers-length'));\r\n\r\n        if (this.firstElementChild !== null) {\r\n            this.insertBefore(childElement, this.firstElementChild);\r\n        } else {\r\n            this.appendChild(childElement);\r\n        }\r\n\r\n        jqref = $(childElement);\r\n        jqref.jqxRibbon(widgetSettings);\r\n        // Adding CSS class names\r\n        $('#' + childElement.id + ' .jqx-ribbon-item').addClass('ni-header');\r\n        $('#' + childElement.id + ' .ni-header').css('font-size', $(this).css('font-size'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-family', $(this).css('font-family'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-weight', $(this).css('font-weight'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-style', $(this).css('font-style'));\r\n\r\n        jqref.on('select', function (evt) {\r\n            that.selectedIndex = evt.args.selectedIndex;\r\n        });\r\n\r\n        this.applySelectedIndex();\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .ni-header');\r\n\r\n        jqrefContent.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.addTabItemListeners = function (initialTabItemsToWaitFor) {\r\n        var that = this;\r\n\r\n        that.addEventListener('ni-tab-item-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < initialTabItemsToWaitFor.length; i++) {\r\n                    if (initialTabItemsToWaitFor[i] === evt.detail.element) {\r\n                        initialTabItemsToWaitFor.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (initialTabItemsToWaitFor.length === 0) {\r\n                    that.attachHeaderContainer();\r\n                }\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-detached', function (evt) {\r\n            if (evt.target === that) {\r\n                that.attachHeaderContainer(evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-header-updated', function (evt) {\r\n            var childElement = that.getHeaderContainer(),\r\n                jqref;\r\n            if (evt.target === that && childElement !== undefined) {\r\n                jqref = $(childElement);\r\n                jqref.jqxRibbon('updateAt', evt.detail.element.tabPosition, {\r\n                    newTitle: evt.detail.element.header\r\n                });\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-position-updated', function (evt) {\r\n            if (evt.target === that) {\r\n                that.attachHeaderContainer();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var initialTabItemsToWaitFor;\r\n\r\n        if (firstCall === true) {\r\n            initialTabItemsToWaitFor = this.findNonUpgradedChildTabItems();\r\n\r\n            if (initialTabItemsToWaitFor.length === 0) {\r\n                this.attachHeaderContainer();\r\n            }\r\n\r\n            this.addTabItemListeners(initialTabItemsToWaitFor);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.applySelectedIndex = function () {\r\n        var childElement, jqref, i;\r\n\r\n        if (this._validTabHeadersLength > 0 && this.selectedIndex >= 0 && this.selectedIndex < this._validTabHeadersLength) {\r\n            childElement = this.getHeaderContainer();\r\n            jqref = $(childElement);\r\n            jqref.jqxRibbon({\r\n                selectedIndex: this.selectedIndex\r\n            });\r\n\r\n            for (i = 0; i < this.children.length; i++) {\r\n                if (this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem) {\r\n                    if (this.children[i].tabPosition === this.selectedIndex) {\r\n                        this.children[i].classList.remove('ni-hidden');\r\n                    } else {\r\n                        this.children[i].classList.add('ni-hidden');\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            NI_SUPPORT.infoVerbose('TabControl was provided invalid selectedIndex (' + this.selectedIndex + ') when the number of valid tab items is (' + this._validTabHeadersLength + ')');\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'selectedIndex':\r\n            this.applySelectedIndex();\r\n            break;\r\n        case 'tabStripPlacement':\r\n            // TODO mraj changing the position of the jqxRibbon header causes render problems in jqx, so instead recreate the whole header.\r\n            this.attachHeaderContainer();\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tab-control', 'HTMLNITabControl');\r\n}(NationalInstruments.HtmlVI.Elements.TabControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Tab Item Prototype\r\n// DOM Registration: HTMLNITabItem\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TabItem = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'tabPosition',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'header',\r\n            defaultValue: 'TabItem'\r\n        });\r\n\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentTabControl = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentTabControl = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentTabControl !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentTabControl.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.TabControl) {\r\n            this._parentTabControl = this.parentElement;\r\n            this.sendEventToParentTabControl('ni-tab-item-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Tab Item does not have a parent Tab Control', this);\r\n            this._parentTabControl = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'header':\r\n            this.sendEventToParentTabControl('ni-tab-item-header-updated');\r\n            break;\r\n        case 'tabPosition':\r\n            this.sendEventToParentTabControl('ni-tab-item-position-updated');\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentTabControl('ni-tab-item-detached');\r\n        this._parentTabControl = undefined;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tab-item', 'HTMLNITabItem');\r\n}(NationalInstruments.HtmlVI.Elements.TabItem, NationalInstruments.HtmlVI.Elements.VisualComponent));\r\n","//****************************************\r\n// Layout Panel Prototype\r\n// DOM Registration: HTMLNILayoutPanel\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LayoutPanel = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    proto.defineElementInfo(proto, 'ni-layout-panel', 'HTMLNILayoutPanel');\r\n}(NationalInstruments.HtmlVI.Elements.LayoutPanel, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Color scale Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ColorScale = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'axisPosition',\r\n            defaultValue: 'right'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'highColor',\r\n            defaultValue: '#ffffff'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lowColor',\r\n            defaultValue: '#000000'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'markers',\r\n            defaultValue: '' // json string for array of markers\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'autoScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.IntensityGraph) {\r\n            this._parentGraph = this.parentElement;\r\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Color scale with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-axis-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    // getViewConfig transforms the configuration from the one used by the custom element to the one understood by Flot */\r\n    proto.getViewConfig = function () {\r\n        return {\r\n            'axisLabel': this.showLabel ? this.label : undefined,\r\n            'show': this.show,\r\n            'autoScale': this.autoScale,\r\n            'min': this.minimum,\r\n            'max': this.maximum,\r\n            'position': this.axisPosition,\r\n            'lowColor': this.lowColor,\r\n            'highColor': this.highColor,\r\n            'markers': this.markers\r\n        };\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-color-scale', 'HTMLNIColorScale');\r\n}(NationalInstruments.HtmlVI.Elements.ColorScale, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*global NationalInstruments*/\r\n//****************************************\r\n// Numeric Value Selector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericValueSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: { stringValue: '0', numberValue: 0 },\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'valueType',\r\n            defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT32\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'items',\r\n            defaultValue: '[]'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'popupEnabled',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.compareIndexValue = function (value1, value2) {\r\n        if (typeof value1 === typeof value2) {\r\n            return value1 === value2;\r\n        } else {\r\n            // todo\r\n            return parseFloat(value1) === parseFloat(value2);\r\n        }\r\n    };\r\n\r\n    proto.itemsCache = function () {\r\n        var that = this;\r\n        if (!that.itemsArray) {\r\n            that.itemsArray = JSON.parse(that.items);\r\n        }\r\n\r\n        function updateItemsArray() {\r\n            that.itemsArray = JSON.parse(that.items);\r\n        }\r\n\r\n        function pushItem(newItem) {\r\n            that.itemsArray.push(newItem);\r\n            that.items = JSON.stringify(that.itemsArray);\r\n        }\r\n\r\n        return {\r\n            itemsArray: that.itemsArray,\r\n            cacheDirty: updateItemsArray,\r\n            writeThrough: pushItem\r\n        };\r\n    };\r\n\r\n    // create the source array from the items which contain both ringvalue and ringindex. we may need to insert new dropdown item when necessary\r\n    // and then calculate the selectedIndex based on the ringIndex which coud be very different from the index of the dropdown item.\r\n    // the format of the ring source is [{value:3, displayvalue:'first'}, {value:7, displayvalue:'second'},..]\r\n    proto.getSourceAndSelectedIndexFromSource = function (allowCreateNewSelectedItem) {\r\n\r\n        var result = {};\r\n        var source = [];\r\n        var selectedIndex = -1;\r\n        var numericIndex = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n        var itemsArray = this.itemsCache().itemsArray;\r\n        for (var i = 0; i < itemsArray.length; i++) {\r\n            var item = itemsArray[i];\r\n            source.push(item.displayValue);\r\n            if (this.compareIndexValue(item.value, numericIndex)) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        if (allowCreateNewSelectedItem) {\r\n            if (selectedIndex < 0) {\r\n                source.push('<' + numericIndex + '>');\r\n                selectedIndex = source.length - 1;\r\n            }\r\n        }\r\n\r\n        result.source = source;\r\n        result.selectedIndex = selectedIndex;\r\n        return result;\r\n    };\r\n\r\n    // handler to update the property when the dropdown selection changed\r\n    proto.selectChangedHandler = function (selectValue) {\r\n        var itemsArray = this.itemsCache().itemsArray;\r\n        var numericIndex;\r\n        for (var i = 0; i < itemsArray.length; i++) {\r\n            var item = itemsArray[i];\r\n            if (item.displayValue === selectValue) {\r\n                numericIndex = item.value;\r\n                this.value = NUM_VAL_CONVERTER.convert(numericIndex, this.valueType, true);\r\n                break;\r\n            }\r\n        }\r\n\r\n        return numericIndex;\r\n    };\r\n\r\n    proto.propertyUpdatedHelper = function (propertyName, jqref) {\r\n        switch (propertyName) {\r\n            case 'items':\r\n                this.itemsCache().cacheDirty();\r\n                var data = this.getSourceAndSelectedIndexFromSource(false);\r\n                var selectedIndex = data.selectedIndex;\r\n                var source = data.source;\r\n                jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex });\r\n                break;\r\n            case 'value':\r\n                data = this.getSourceAndSelectedIndexFromSource(true);\r\n                source = data.source;\r\n                selectedIndex = data.selectedIndex;\r\n                if (source.length === jqref.jqxDropDownList('source').length) {\r\n                    jqref.jqxDropDownList({ selectedIndex: selectedIndex });\r\n                } else {\r\n                    var newItem = { value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType), displayValue: source[source.length - 1] };\r\n                    this.itemsCache().writeThrough(newItem);\r\n                    jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex });\r\n                }\r\n\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxDropDownList({ disabled: this.readOnly });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericValueSelector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// EnumSelector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.EnumSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var dropDownChildElement = document.createElement('div');\r\n            dropDownChildElement.style.width = '100%';\r\n            dropDownChildElement.style.height = '100%';\r\n            dropDownChildElement.style.fontSize = $(this).css('font-size');\r\n            dropDownChildElement.style.fontFamily = $(this).css('font-family');\r\n            dropDownChildElement.style.fontWeight = $(this).css('font-weight');\r\n            dropDownChildElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(dropDownChildElement);\r\n            jqref = $(dropDownChildElement);\r\n\r\n            var data = this.getSourceAndSelectedIndexFromSource();\r\n            widgetSettings.selectedIndex = data.selectedIndex;\r\n            widgetSettings.source = data.source;\r\n            widgetSettings.autoDropDownHeight = true;\r\n            widgetSettings.disabled = this.readOnly;\r\n\r\n            jqref.jqxDropDownList(widgetSettings);\r\n            jqref.on('change', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var displayValue = args.item.value;\r\n                    that.selectChangedHandler(displayValue);\r\n                }\r\n            });\r\n            // TODO: gleon check with jqWidgets about this hack.\r\n            if (this.popupEnabled === false) {\r\n                jqref.on('open', function () {\r\n                    jqref.jqxDropDownList('close');\r\n                });\r\n                jqref.jqxDropDownList({animationType: 'none'});\r\n            }\r\n\r\n            // Add CSS class names\r\n            jqref.addClass('ni-expand-button');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var jqref = $(this.firstElementChild);\r\n        switch (propertyName) {\r\n            case 'items':\r\n            case 'value':\r\n            case 'readOnly':\r\n                this.propertyUpdatedHelper.call(this, propertyName, jqref);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-enum-selector', 'HTMLNIEnumSelector');\r\n}(NationalInstruments.HtmlVI.Elements.EnumSelector, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n","//****************************************\r\n// RingSelector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.RingSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowUndefined',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings, jqref, jqrefNumeric,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            var dropDownContainer = document.createElement('div');\r\n            dropDownContainer.style.fontSize = $(this).css('font-size');\r\n            dropDownContainer.style.fontFamily = $(this).css('font-family');\r\n            dropDownContainer.style.fontWeight = $(this).css('font-weight');\r\n            dropDownContainer.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(dropDownContainer);\r\n\r\n            jqref = $(dropDownContainer);\r\n            jqref.jqxDropDownList(widgetSettings);\r\n\r\n            var numericInput = document.createElement('input');\r\n            numericInput.type = 'text';\r\n            this.appendChild(numericInput);\r\n\r\n            jqrefNumeric = $(numericInput);\r\n            var numericWidgetSettings = {};\r\n            numericWidgetSettings.readOnly = this.readOnly;\r\n            numericWidgetSettings.spinButtons = false;\r\n\r\n            jqrefNumeric.jqxFormattedInput(numericWidgetSettings);\r\n\r\n            var data = this.getSourceAndSelectedIndexFromSource();\r\n            var selectedIndex = data.selectedIndex;\r\n            var source = data.source;\r\n\r\n            jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex, autoDropDownHeight: true, disabled: this.readOnly });\r\n            // TODO: gleon check with jqWidgets about this hack.\r\n            if (this.popupEnabled === false) {\r\n                jqref.on('open', function () {\r\n                    jqref.jqxDropDownList('close');\r\n                });\r\n                jqref.jqxDropDownList({animationType: 'none'});\r\n            }\r\n\r\n            jqref.on('change', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var displayValue = args.item.value;\r\n                    var numericIndex = that.selectChangedHandler(displayValue);\r\n                    jqrefNumeric.jqxFormattedInput('val', numericIndex);\r\n                }\r\n            });\r\n            jqrefNumeric.on('valueChanged', function (event) {\r\n                that.value = NUM_VAL_CONVERTER.convert(event.args.value, that.valueType, true);\r\n            });\r\n\r\n            // Add CSS class names\r\n            jqref.addClass('ni-expand-button');\r\n            jqrefNumeric.addClass('ni-ring-numeric-input');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = $(this.firstElementChild),\r\n            jqrefNumeric = $(this.querySelector('input'));\r\n\r\n        if (this.allowUndefined) {\r\n            size.width *= 0.7;\r\n            jqrefNumeric.trigger('resize');\r\n        }\r\n\r\n        jqref.jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var jqref = $(this.firstElementChild),\r\n            jqrefNumeric = $(this.querySelector('input'));\r\n\r\n        switch (propertyName) {\r\n            case 'items':\r\n            case 'readOnly':\r\n                this.propertyUpdatedHelper(propertyName, jqref);\r\n                break;\r\n            case 'value':\r\n                this.propertyUpdatedHelper(propertyName, jqref);\r\n\r\n                var numericWidgetSettings = {\r\n                    value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType)\r\n                };\r\n                jqrefNumeric.jqxFormattedInput(numericWidgetSettings);\r\n                break;\r\n            case 'allowUndefined':\r\n                var width = $(this).width();\r\n                if (this.allowUndefined) {\r\n                    width *= 0.7;\r\n                }\r\n\r\n                jqref.jqxDropDownList({ width: width });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-ring-selector', 'HTMLNIRingSelector');\r\n}(NationalInstruments.HtmlVI.Elements.RingSelector, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n","﻿//****************************************\r\n// Radio Button Group Prototype\r\n// DOM Registration: HTMLNIRadioButtonGroup\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\nNationalInstruments.HtmlVI.Elements.RadioButtonGroup = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.RadioButtonGroup.Orientation = {\r\n    horizontal: 'horizontal',\r\n    vertical: 'vertical'\r\n};\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var radioButtonClassName = 'ni-radio-item';\r\n    var thisClass = NationalInstruments.HtmlVI.Elements.RadioButtonGroup;\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var getWidgetSettings = function () {\r\n        return {\r\n            animationShowDelay: 0,\r\n            animationHideDelay: 0\r\n        };\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: thisClass.Orientation.vertical\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            var radioButtonGroupElement = document.createElement('div');\r\n            radioButtonGroupElement.style.width = '100%';\r\n            radioButtonGroupElement.style.height = '100%';\r\n            radioButtonGroupElement.style.fontSize = $(this).css('font-size');\r\n            radioButtonGroupElement.style.fontFamily = $(this).css('font-family');\r\n            radioButtonGroupElement.style.fontWeight = $(this).css('font-weight');\r\n            radioButtonGroupElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(radioButtonGroupElement);\r\n            this.setRadioButtons();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var radioButtonGroupElement = this.firstElementChild;\r\n        var buttonCnt = $(radioButtonGroupElement).children('.' + radioButtonClassName).length;\r\n        var height, width;\r\n        if (this.orientation === thisClass.Orientation.horizontal) {\r\n            width = size.width / buttonCnt;\r\n            height = size.height;\r\n        } else {\r\n            height = size.height / buttonCnt;\r\n            width = size.width;\r\n        }\r\n\r\n        $(radioButtonGroupElement).children('.' + radioButtonClassName).width(width);\r\n        $(radioButtonGroupElement).children('.' + radioButtonClassName).height(height);\r\n    };\r\n\r\n    proto.setOrientation = function () {\r\n        if (this.orientation === thisClass.Orientation.horizontal) {\r\n            $(this).addClass('ni-horizontal');\r\n        } else {\r\n            $(this).removeClass('ni-horizontal');\r\n        }\r\n\r\n        var size = { width: $(this).width(), height: $(this).height() };\r\n        this.forceResize(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n        this.setChildrenButtonFont();\r\n    };\r\n\r\n    proto.setChildrenButtonFont = function () {\r\n        var fontObject = $(this).css(['font-family', 'font-weight', 'font-style', 'font-size']);\r\n        $(this.firstElementChild).children('.' + radioButtonClassName).css(fontObject);\r\n    };\r\n\r\n    proto.createCheckedHandler = function (displayValue) {\r\n        var that = this;\r\n        return function () {\r\n            that.selectChangedHandler(displayValue);\r\n        };\r\n    };\r\n\r\n    proto.setRadioButtons = function () {\r\n        var radioButtonGroupElement = this.firstElementChild;\r\n        $(radioButtonGroupElement).empty();\r\n        var data = this.getSourceAndSelectedIndexFromSource();\r\n        var selectedIndex = data.selectedIndex;\r\n        var source = data.source;\r\n        var groupId = NI_SUPPORT.uniqueId();\r\n        var that = this;\r\n        var disabled = this.readOnly;\r\n        var tempSettings;\r\n        for (var i = 0; i < source.length; i++) {\r\n            var displayValue = source[i];\r\n            var radioButtonElement = document.createElement('div');\r\n            $(radioButtonElement).text(displayValue);\r\n            tempSettings = getWidgetSettings();\r\n            tempSettings.groupName = groupId;\r\n            tempSettings.disabled = disabled;\r\n            $(radioButtonElement).addClass(radioButtonClassName);\r\n            if (selectedIndex === i) {\r\n                tempSettings.checked = true;\r\n            }\r\n\r\n            $(radioButtonElement).jqxRadioButton(tempSettings);\r\n            $(radioButtonElement).on('checked', that.createCheckedHandler(displayValue));\r\n            radioButtonGroupElement.appendChild(radioButtonElement);\r\n        }\r\n\r\n        this.setChildrenButtonFont();\r\n        this.setOrientation();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var data, source, selectedIndex;\r\n        switch (propertyName) {\r\n            case 'items':\r\n                this.itemsCache().cacheDirty();\r\n                this.setRadioButtons();\r\n                break;\r\n            case 'value':\r\n                data = this.getSourceAndSelectedIndexFromSource(true);\r\n                source = data.source;\r\n                selectedIndex = data.selectedIndex;\r\n                var radioButtonGroupElement = this.firstElementChild;\r\n                var radioButtonElement = $(radioButtonGroupElement).children()[selectedIndex];\r\n                $(radioButtonElement).jqxRadioButton({ checked: true });\r\n                break;\r\n            case 'orientation':\r\n                this.setOrientation();\r\n                break;\r\n            case 'readOnly':\r\n                radioButtonGroupElement = this.firstElementChild;\r\n                $(radioButtonGroupElement).children('.' + radioButtonClassName).jqxRadioButton({ disabled: this.readOnly });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-radio-button-group', 'HTMLNIRadioButtonGroup');\r\n}(NationalInstruments.HtmlVI.Elements.RadioButtonGroup, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n"]}